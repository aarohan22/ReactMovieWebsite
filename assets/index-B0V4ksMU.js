(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function XT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pm={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function Ww(){if(w0)return Kl;w0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,l){var f=null;if(l!==void 0&&(f=""+l),o.key!==void 0&&(f=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:l}}return Kl.Fragment=e,Kl.jsx=t,Kl.jsxs=t,Kl}var R0;function Zw(){return R0||(R0=1,Pm.exports=Ww()),Pm.exports}var E=Zw(),Mm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function Jw(){if(I0)return Ne;I0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,H={};function U(V,ie,ce){this.props=V,this.context=ie,this.refs=H,this.updater=ce||P}U.prototype.isReactComponent={},U.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},U.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Y(){}Y.prototype=U.prototype;function O(V,ie,ce){this.props=V,this.context=ie,this.refs=H,this.updater=ce||P}var G=O.prototype=new Y;G.constructor=O,x(G,U.prototype),G.isPureReactComponent=!0;var ne=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function M(V,ie,ce,se,ye,Pe){return ce=Pe.ref,{$$typeof:i,type:V,key:ie,ref:ce!==void 0?ce:null,props:Pe}}function R(V,ie){return M(V.type,ie,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function k(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return ie[ce]})}var L=/\/+/g;function B(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):ie.toString(36)}function N(){}function ve(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function be(V,ie,ce,se,ye){var Pe=typeof V;(Pe==="undefined"||Pe==="boolean")&&(V=null);var Ie=!1;if(V===null)Ie=!0;else switch(Pe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(V.$$typeof){case i:case e:Ie=!0;break;case v:return Ie=V._init,be(Ie(V._payload),ie,ce,se,ye)}}if(Ie)return ye=ye(V),Ie=se===""?"."+B(V,0):se,ne(ye)?(ce="",Ie!=null&&(ce=Ie.replace(L,"$&/")+"/"),be(ye,ie,ce,"",function(Xn){return Xn})):ye!=null&&(I(ye)&&(ye=R(ye,ce+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(L,"$&/")+"/")+Ie)),ie.push(ye)),1;Ie=0;var kt=se===""?".":se+":";if(ne(V))for(var it=0;it<V.length;it++)se=V[it],Pe=kt+B(se,it),Ie+=be(se,ie,ce,Pe,ye);else if(it=A(V),typeof it=="function")for(V=it.call(V),it=0;!(se=V.next()).done;)se=se.value,Pe=kt+B(se,it++),Ie+=be(se,ie,ce,Pe,ye);else if(Pe==="object"){if(typeof V.then=="function")return be(ve(V),ie,ce,se,ye);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function W(V,ie,ce){if(V==null)return V;var se=[],ye=0;return be(V,se,"","",function(Pe){return ie.call(ce,Pe,ye++)}),se}function ue(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ke(){}return Ne.Children={map:W,forEach:function(V,ie,ce){W(V,function(){ie.apply(this,arguments)},ce)},count:function(V){var ie=0;return W(V,function(){ie++}),ie},toArray:function(V){return W(V,function(ie){return ie})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ne.Component=U,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=O,Ne.StrictMode=a,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return oe.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cloneElement=function(V,ie,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var se=x({},V.props),ye=V.key,Pe=void 0;if(ie!=null)for(Ie in ie.ref!==void 0&&(Pe=void 0),ie.key!==void 0&&(ye=""+ie.key),ie)!de.call(ie,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ie.ref===void 0||(se[Ie]=ie[Ie]);var Ie=arguments.length-2;if(Ie===1)se.children=ce;else if(1<Ie){for(var kt=Array(Ie),it=0;it<Ie;it++)kt[it]=arguments[it+2];se.children=kt}return M(V.type,ye,void 0,void 0,Pe,se)},Ne.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ne.createElement=function(V,ie,ce){var se,ye={},Pe=null;if(ie!=null)for(se in ie.key!==void 0&&(Pe=""+ie.key),ie)de.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=ie[se]);var Ie=arguments.length-2;if(Ie===1)ye.children=ce;else if(1<Ie){for(var kt=Array(Ie),it=0;it<Ie;it++)kt[it]=arguments[it+2];ye.children=kt}if(V&&V.defaultProps)for(se in Ie=V.defaultProps,Ie)ye[se]===void 0&&(ye[se]=Ie[se]);return M(V,Pe,void 0,void 0,null,ye)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:d,render:V}},Ne.isValidElement=I,Ne.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ue}},Ne.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},Ne.startTransition=function(V){var ie=oe.T,ce={};oe.T=ce;try{var se=V(),ye=oe.S;ye!==null&&ye(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ke,pe)}catch(Pe){pe(Pe)}finally{oe.T=ie}},Ne.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ne.use=function(V){return oe.H.use(V)},Ne.useActionState=function(V,ie,ce){return oe.H.useActionState(V,ie,ce)},Ne.useCallback=function(V,ie){return oe.H.useCallback(V,ie)},Ne.useContext=function(V){return oe.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,ie){return oe.H.useDeferredValue(V,ie)},Ne.useEffect=function(V,ie,ce){var se=oe.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(V,ie)},Ne.useId=function(){return oe.H.useId()},Ne.useImperativeHandle=function(V,ie,ce){return oe.H.useImperativeHandle(V,ie,ce)},Ne.useInsertionEffect=function(V,ie){return oe.H.useInsertionEffect(V,ie)},Ne.useLayoutEffect=function(V,ie){return oe.H.useLayoutEffect(V,ie)},Ne.useMemo=function(V,ie){return oe.H.useMemo(V,ie)},Ne.useOptimistic=function(V,ie){return oe.H.useOptimistic(V,ie)},Ne.useReducer=function(V,ie,ce){return oe.H.useReducer(V,ie,ce)},Ne.useRef=function(V){return oe.H.useRef(V)},Ne.useState=function(V){return oe.H.useState(V)},Ne.useSyncExternalStore=function(V,ie,ce){return oe.H.useSyncExternalStore(V,ie,ce)},Ne.useTransition=function(){return oe.H.useTransition()},Ne.version="19.1.0",Ne}var C0;function rg(){return C0||(C0=1,Mm.exports=Jw()),Mm.exports}var D=rg();const WT=XT(D);var Vm={exports:{}},Ql={},Lm={exports:{}},jm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function eR(){return x0||(x0=1,function(i){function e(W,ue){var pe=W.length;W.push(ue);e:for(;0<pe;){var ke=pe-1>>>1,V=W[ke];if(0<o(V,ue))W[ke]=ue,W[pe]=V,pe=ke;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var ue=W[0],pe=W.pop();if(pe!==ue){W[0]=pe;e:for(var ke=0,V=W.length,ie=V>>>1;ke<ie;){var ce=2*(ke+1)-1,se=W[ce],ye=ce+1,Pe=W[ye];if(0>o(se,pe))ye<V&&0>o(Pe,se)?(W[ke]=Pe,W[ye]=pe,ke=ye):(W[ke]=se,W[ce]=pe,ke=ce);else if(ye<V&&0>o(Pe,pe))W[ke]=Pe,W[ye]=pe,ke=ye;else break e}}return ue}function o(W,ue){var pe=W.sortIndex-ue.sortIndex;return pe!==0?pe:W.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var p=[],g=[],v=1,b=null,A=3,P=!1,x=!1,H=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ne(W){for(var ue=t(g);ue!==null;){if(ue.callback===null)a(g);else if(ue.startTime<=W)a(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function oe(W){if(H=!1,ne(W),!x)if(t(p)!==null)x=!0,de||(de=!0,B());else{var ue=t(g);ue!==null&&be(oe,ue.startTime-W)}}var de=!1,M=-1,R=5,I=-1;function k(){return U?!0:!(i.unstable_now()-I<R)}function L(){if(U=!1,de){var W=i.unstable_now();I=W;var ue=!0;try{e:{x=!1,H&&(H=!1,O(M),M=-1),P=!0;var pe=A;try{t:{for(ne(W),b=t(p);b!==null&&!(b.expirationTime>W&&k());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,A=b.priorityLevel;var V=ke(b.expirationTime<=W);if(W=i.unstable_now(),typeof V=="function"){b.callback=V,ne(W),ue=!0;break t}b===t(p)&&a(p),ne(W)}else a(p);b=t(p)}if(b!==null)ue=!0;else{var ie=t(g);ie!==null&&be(oe,ie.startTime-W),ue=!1}}break e}finally{b=null,A=pe,P=!1}ue=void 0}}finally{ue?B():de=!1}}}var B;if(typeof G=="function")B=function(){G(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ve=N.port2;N.port1.onmessage=L,B=function(){ve.postMessage(null)}}else B=function(){Y(L,0)};function be(W,ue){M=Y(function(){W(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(W){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var pe=A;A=ue;try{return W()}finally{A=pe}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=A;A=W;try{return ue()}finally{A=pe}},i.unstable_scheduleCallback=function(W,ue,pe){var ke=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ke+pe:ke):pe=ke,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,W={id:v++,callback:ue,priorityLevel:W,startTime:pe,expirationTime:V,sortIndex:-1},pe>ke?(W.sortIndex=pe,e(g,W),t(p)===null&&W===t(g)&&(H?(O(M),M=-1):H=!0,be(oe,pe-ke))):(W.sortIndex=V,e(p,W),x||P||(x=!0,de||(de=!0,B()))),W},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(W){var ue=A;return function(){var pe=A;A=ue;try{return W.apply(this,arguments)}finally{A=pe}}}}(jm)),jm}var N0;function tR(){return N0||(N0=1,Lm.exports=eR()),Lm.exports}var Um={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function nR(){if(O0)return Xt;O0=1;var i=rg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},Xt.flushSync=function(p){var g=f.T,v=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=v,a.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:P}):v==="script"&&a.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Xt.requestFormReset=function(p){a.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var D0;function iR(){if(D0)return Um.exports;D0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=nR(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function rR(){if(k0)return Ql;k0=1;var i=tR(),e=rg(),t=iR();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(a(188))}function p(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(a(188));return r!==n?null:n}for(var s=n,u=r;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return d(h),n;if(m===u)return d(h),r;m=m.sibling}throw Error(a(188))}if(s.return!==u.return)s=h,u=m;else{for(var T=!1,S=h.child;S;){if(S===s){T=!0,s=h,u=m;break}if(S===u){T=!0,u=h,s=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===s){T=!0,s=m,u=h;break}if(S===u){T=!0,u=m,s=h;break}S=S.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function ve(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case U:return"Profiler";case H:return"StrictMode";case oe:return"Suspense";case de:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case P:return"Portal";case G:return(n.displayName||"Context")+".Provider";case O:return(n._context.displayName||"Context")+".Consumer";case ne:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:ve(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return ve(n(r))}catch{}}return null}var be=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ke=[],V=-1;function ie(n){return{current:n}}function ce(n){0>V||(n.current=ke[V],ke[V]=null,V--)}function se(n,r){V++,ke[V]=n.current,n.current=r}var ye=ie(null),Pe=ie(null),Ie=ie(null),kt=ie(null);function it(n,r){switch(se(Ie,r),se(Pe,n),se(ye,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?J_(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=J_(r),n=e0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(ye),se(ye,n)}function Xn(){ce(ye),ce(Pe),ce(Ie)}function pr(n){n.memoizedState!==null&&se(kt,n);var r=ye.current,s=e0(r,n.type);r!==s&&(se(Pe,n),se(ye,s))}function wi(n){Pe.current===n&&(ce(ye),ce(Pe)),kt.current===n&&(ce(kt),Hl._currentValue=pe)}var ha=Object.prototype.hasOwnProperty,da=i.unstable_scheduleCallback,ma=i.unstable_cancelCallback,zo=i.unstable_shouldYield,qu=i.unstable_requestPaint,wn=i.unstable_now,Ph=i.unstable_getCurrentPriorityLevel,Bo=i.unstable_ImmediatePriority,hs=i.unstable_UserBlockingPriority,pa=i.unstable_NormalPriority,Mh=i.unstable_LowPriority,ds=i.unstable_IdlePriority,Fo=i.log,Gu=i.unstable_setDisableYieldValue,ft=null,Qe=null;function mn(n){if(typeof Fo=="function"&&Gu(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ft,n)}catch{}}var Kt=Math.clz32?Math.clz32:ga,$u=Math.log,Vh=Math.LN2;function ga(n){return n>>>=0,n===0?32:31-($u(n)/Vh|0)|0}var ya=256,va=4194304;function Bn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ms(n,r,s){var u=n.pendingLanes;if(u===0)return 0;var h=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?h=Bn(u):(T&=S,T!==0?h=Bn(T):s||(s=S&~n,s!==0&&(h=Bn(s))))):(S=u&~m,S!==0?h=Bn(S):T!==0?h=Bn(T):s||(s=u&~n,s!==0&&(h=Bn(s)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,s=r&-r,m>=s||m===32&&(s&4194048)!==0)?r:h}function _a(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ho(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var n=ya;return ya<<=1,(ya&4194048)===0&&(ya=256),n}function Go(){var n=va;return va<<=1,(va&62914560)===0&&(va=4194304),n}function Ri(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function Ii(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $o(n,r,s,u,h,m){var T=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var S=n.entanglements,C=n.expirationTimes,$=n.hiddenUpdates;for(s=T&~s;0<s;){var Z=31-Kt(s),ee=1<<Z;S[Z]=0,C[Z]=-1;var K=$[Z];if(K!==null)for($[Z]=null,Z=0;Z<K.length;Z++){var Q=K[Z];Q!==null&&(Q.lane&=-536870913)}s&=~ee}u!==0&&Wn(n,u,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~r))}function Wn(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Kt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|s&4194090}function Yo(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var u=31-Kt(s),h=1<<u;h&r|n[u]&r&&(n[u]|=r),s&=~h}}function gr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ps(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yr(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:_0(n.type))}function Yu(n,r){var s=ue.p;try{return ue.p=n,r()}finally{ue.p=s}}var st=Math.random().toString(36).slice(2),At="__reactFiber$"+st,_t="__reactProps$"+st,Rn="__reactContainer$"+st,Ko="__reactEvents$"+st,Lh="__reactListeners$"+st,vr="__reactHandles$"+st,Ku="__reactResources$"+st,Ea="__reactMarker$"+st;function _r(n){delete n[At],delete n[_t],delete n[Ko],delete n[Lh],delete n[vr]}function Ci(n){var r=n[At];if(r)return r;for(var s=n.parentNode;s;){if(r=s[Rn]||s[At]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=r0(n);n!==null;){if(s=n[At])return s;n=r0(n)}return r}n=s,s=n.parentNode}return null}function Zn(n){if(n=n[At]||n[Rn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Jn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function rn(n){var r=n[Ku];return r||(r=n[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[Ea]=!0}var Qo=new Set,gs={};function Fn(n,r){xi(n,r),xi(n+"Capture",r)}function xi(n,r){for(gs[n]=r,n=0;n<r.length;n++)Qo.add(r[n])}var Qu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xu={},Ta={};function Wu(n){return ha.call(Ta,n)?!0:ha.call(Xu,n)?!1:Qu.test(n)?Ta[n]=!0:(Xu[n]=!0,!1)}function Er(n,r,s){if(Wu(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function ei(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function zt(n,r,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+u)}}var ba,Zu;function Ni(n){if(ba===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);ba=r&&r[1]||"",Zu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+n+Zu}var ys=!1;function vs(n,r){if(!n||ys)return"";ys=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var K=Q}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Q){K=Q}n.call(ee.prototype)}}else{try{throw Error()}catch(Q){K=Q}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var C=T.split(`
`),$=S.split(`
`);for(h=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(u===C.length||h===$.length)for(u=C.length-1,h=$.length-1;1<=u&&0<=h&&C[u]!==$[h];)h--;for(;1<=u&&0<=h;u--,h--)if(C[u]!==$[h]){if(u!==1||h!==1)do if(u--,h--,0>h||C[u]!==$[h]){var Z=`
`+C[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=h);break}}}finally{ys=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Ni(s):""}function Xo(n){switch(n.tag){case 26:case 27:case 5:return Ni(n.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return vs(n.type,!1);case 11:return vs(n.type.render,!1);case 1:return vs(n.type,!0);case 31:return Ni("Activity");default:return""}}function _s(n){try{var r="";do r+=Xo(n),n=n.return;while(n);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jh(n){var r=Wo(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,m=s.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(n,r,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Es(n){n._valueTracker||(n._valueTracker=jh(n))}function Zo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return n&&(u=Wo(n)?n.checked?"true":"false":n.value),n=u,n!==s?(r.setValue(n),!0):!1}function Sa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Uh=/[\n"\\]/g;function Et(n){return n.replace(Uh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(n,r,s,u,h,m,T,S){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+an(r)):n.value!==""+an(r)&&(n.value=""+an(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?Tr(n,T,an(r)):s!=null?Tr(n,T,an(s)):u!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+an(S):n.removeAttribute("name")}function Aa(n,r,s,u,h,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;s=s!=null?""+an(s):"",r=r!=null?""+an(r):s,S||r===n.value||(n.value=r),n.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Tr(n,r,s){r==="number"&&Sa(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Oi(n,r,s,u){if(n=n.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=r.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&u&&(n[s].defaultSelected=!0)}else{for(s=""+an(s),r=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function Ze(n,r,s){if(r!=null&&(r=""+an(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+an(s):""}function wa(n,r,s,u){if(r==null){if(u!=null){if(s!=null)throw Error(a(92));if(be(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),r=s}s=an(r),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u)}function In(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var Ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ju(n,r,s){var u=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,s):typeof s!="number"||s===0||Ra.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function Jo(n,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&s[h]!==u&&Ju(n,h,u)}else for(var m in r)r.hasOwnProperty(m)&&Ju(n,m,r[m])}function el(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(n){return Bh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Di=null;function Cn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ki=null,Pi=null;function tl(n){var r=Zn(n);if(r&&(n=r.stateNode)){var s=n[_t]||null;e:switch(n=r.stateNode,r.type){case"input":if(pn(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==n&&u.form===n.form){var h=u[_t]||null;if(!h)throw Error(a(90));pn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)u=s[r],u.form===n.form&&Zo(u)}break e;case"textarea":Ze(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Oi(n,!!s.multiple,r,!1)}}}var ti=!1;function ec(n,r,s){if(ti)return n(r,s);ti=!0;try{var u=n(r);return u}finally{if(ti=!1,(ki!==null||Pi!==null)&&(Yc(),ki&&(r=ki,n=Pi,Pi=ki=null,tl(r),n)))for(r=0;r<n.length;r++)tl(n[r])}}function Ia(n,r){var s=n.stateNode;if(s===null)return null;var u=s[_t]||null;if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Hn)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{xn=!1}var ni=null,br=null,Mi=null;function nl(){if(Mi)return Mi;var n,r=br,s=r.length,u,h="value"in ni?ni.value:ni.textContent,m=h.length;for(n=0;n<s&&r[n]===h[n];n++);var T=s-n;for(u=1;u<=T&&r[s-u]===h[m-u];u++);return Mi=h.slice(n,1<u?1-u:void 0)}function ii(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ri(){return!0}function il(){return!1}function Pt(n){function r(s,u,h,m,T){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(s=n[S],this[S]=s?s(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ri:il,this.isPropagationStopped=il,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=Pt(Ye),xa=v({},Ye,{view:0,detail:0}),tc=Pt(xa),Ss,As,ai,Na=v({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ai&&(ai&&n.type==="mousemove"?(Ss=n.screenX-ai.screenX,As=n.screenY-ai.screenY):As=Ss=0,ai=n),Ss)},movementY:function(n){return"movementY"in n?n.movementY:As}}),Nn=Pt(Na),nc=v({},Na,{dataTransfer:0}),Fh=Pt(nc),Oa=v({},xa,{relatedTarget:0}),ws=Pt(Oa),rl=v({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Rs=Pt(rl),ic=v({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Is=Pt(ic),Hh=v({},Ye,{data:0}),al=Pt(Hh),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ac[n])?!!r[n]:!1}function ka(){return sl}var sc=v({},xa,{key:function(n){if(n.key){var r=Da[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ii(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(n){return n.type==="keypress"?ii(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ii(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Cs=Pt(sc),oc=v({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=Pt(oc),Vi=v({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),lc=Pt(Vi),uc=v({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=Pt(uc),fc=v({},Na,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xs=Pt(fc),sn=v({},Ye,{newState:0,oldState:0}),hc=Pt(sn),dc=[9,13,27,32],si=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,_=Hn&&(!si||c&&8<c&&11>=c),w=" ",F=!1;function X(n,r){switch(n){case"keyup":return dc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function wt(n,r){switch(n){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(F=!0,w);case"textInput":return n=r.data,n===w&&F?null:n;default:return null}}function Fe(n,r){if(Be)return n==="compositionend"||!si&&X(n,r)?(n=nl(),Mi=br=ni=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Mt[n.type]:r==="textarea"}function Li(n,r,s,u){ki?Pi?Pi.push(u):Pi=[u]:ki=u,r=Jc(r,"onChange"),0<r.length&&(s=new bs("onChange","change",null,s,u),n.push({event:s,listeners:r}))}var Bt=null,oi=null;function ll(n){K_(n,0)}function mc(n){var r=Jn(n);if(Zo(r))return n}function py(n,r){if(n==="change")return r}var gy=!1;if(Hn){var qh;if(Hn){var Gh="oninput"in document;if(!Gh){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),Gh=typeof yy.oninput=="function"}qh=Gh}else qh=!1;gy=qh&&(!document.documentMode||9<document.documentMode)}function vy(){Bt&&(Bt.detachEvent("onpropertychange",_y),oi=Bt=null)}function _y(n){if(n.propertyName==="value"&&mc(oi)){var r=[];Li(r,oi,n,Cn(n)),ec(ll,r)}}function IA(n,r,s){n==="focusin"?(vy(),Bt=r,oi=s,Bt.attachEvent("onpropertychange",_y)):n==="focusout"&&vy()}function CA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mc(oi)}function xA(n,r){if(n==="click")return mc(r)}function NA(n,r){if(n==="input"||n==="change")return mc(r)}function OA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var gn=typeof Object.is=="function"?Object.is:OA;function ul(n,r){if(gn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!ha.call(r,h)||!gn(n[h],r[h]))return!1}return!0}function Ey(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ty(n,r){var s=Ey(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=r&&u>=r)return{node:s,offset:r-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ey(s)}}function by(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?by(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Sy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Sa(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Sa(n.document)}return r}function $h(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var DA=Hn&&"documentMode"in document&&11>=document.documentMode,Ns=null,Yh=null,cl=null,Kh=!1;function Ay(n,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Kh||Ns==null||Ns!==Sa(u)||(u=Ns,"selectionStart"in u&&$h(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cl&&ul(cl,u)||(cl=u,u=Jc(Yh,"onSelect"),0<u.length&&(r=new bs("onSelect","select",null,r,s),n.push({event:r,listeners:u}),r.target=Ns)))}function Pa(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var Os={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Qh={},wy={};Hn&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Ma(n){if(Qh[n])return Qh[n];if(!Os[n])return n;var r=Os[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in wy)return Qh[n]=r[s];return n}var Ry=Ma("animationend"),Iy=Ma("animationiteration"),Cy=Ma("animationstart"),kA=Ma("transitionrun"),PA=Ma("transitionstart"),MA=Ma("transitioncancel"),xy=Ma("transitionend"),Ny=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function qn(n,r){Ny.set(n,r),Fn(r,[n])}var Oy=new WeakMap;function On(n,r){if(typeof n=="object"&&n!==null){var s=Oy.get(n);return s!==void 0?s:(r={value:n,source:r,stack:_s(r)},Oy.set(n,r),r)}return{value:n,source:r,stack:_s(r)}}var Dn=[],Ds=0,Wh=0;function pc(){for(var n=Ds,r=Wh=Ds=0;r<n;){var s=Dn[r];Dn[r++]=null;var u=Dn[r];Dn[r++]=null;var h=Dn[r];Dn[r++]=null;var m=Dn[r];if(Dn[r++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}m!==0&&Dy(s,h,m)}}function gc(n,r,s,u){Dn[Ds++]=n,Dn[Ds++]=r,Dn[Ds++]=s,Dn[Ds++]=u,Wh|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Zh(n,r,s,u){return gc(n,r,s,u),yc(n)}function ks(n,r){return gc(n,null,null,r),yc(n)}function Dy(n,r,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var h=!1,m=n.return;m!==null;)m.childLanes|=s,u=m.alternate,u!==null&&(u.childLanes|=s),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&r!==null&&(h=31-Kt(s),n=m.hiddenUpdates,u=n[h],u===null?n[h]=[r]:u.push(r),r.lane=s|536870912),m):null}function yc(n){if(50<Ml)throw Ml=0,rm=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ps={};function VA(n,r,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(n,r,s,u){return new VA(n,r,s,u)}function Jh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ji(n,r){var s=n.alternate;return s===null?(s=yn(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function ky(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function vc(n,r,s,u,h,m){var T=0;if(u=n,typeof n=="function")Jh(n)&&(T=1);else if(typeof n=="string")T=jw(n,s,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=yn(31,s,r,h),n.elementType=I,n.lanes=m,n;case x:return Va(s.children,h,m,r);case H:T=8,h|=24;break;case U:return n=yn(12,s,r,h|2),n.elementType=U,n.lanes=m,n;case oe:return n=yn(13,s,r,h),n.elementType=oe,n.lanes=m,n;case de:return n=yn(19,s,r,h),n.elementType=de,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:case G:T=10;break e;case O:T=9;break e;case ne:T=11;break e;case M:T=14;break e;case R:T=16,u=null;break e}T=29,s=Error(a(130,n===null?"null":typeof n,"")),u=null}return r=yn(T,s,r,h),r.elementType=n,r.type=u,r.lanes=m,r}function Va(n,r,s,u){return n=yn(7,n,u,r),n.lanes=s,n}function ed(n,r,s){return n=yn(6,n,null,r),n.lanes=s,n}function td(n,r,s){return r=yn(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ms=[],Vs=0,_c=null,Ec=0,kn=[],Pn=0,La=null,Ui=1,zi="";function ja(n,r){Ms[Vs++]=Ec,Ms[Vs++]=_c,_c=n,Ec=r}function Py(n,r,s){kn[Pn++]=Ui,kn[Pn++]=zi,kn[Pn++]=La,La=n;var u=Ui;n=zi;var h=32-Kt(u)-1;u&=~(1<<h),s+=1;var m=32-Kt(r)+h;if(30<m){var T=h-h%5;m=(u&(1<<T)-1).toString(32),u>>=T,h-=T,Ui=1<<32-Kt(r)+h|s<<h|u,zi=m+n}else Ui=1<<m|s<<h|u,zi=n}function nd(n){n.return!==null&&(ja(n,1),Py(n,1,0))}function id(n){for(;n===_c;)_c=Ms[--Vs],Ms[Vs]=null,Ec=Ms[--Vs],Ms[Vs]=null;for(;n===La;)La=kn[--Pn],kn[Pn]=null,zi=kn[--Pn],kn[Pn]=null,Ui=kn[--Pn],kn[Pn]=null}var on=null,ht=null,$e=!1,Ua=null,li=!1,rd=Error(a(519));function za(n){var r=Error(a(418,""));throw dl(On(r,n)),rd}function My(n){var r=n.stateNode,s=n.type,u=n.memoizedProps;switch(r[At]=n,r[_t]=u,s){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<Ll.length;s++)Le(Ll[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Aa(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Es(r);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),wa(r,u.value,u.defaultValue,u.children),Es(r)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||u.suppressHydrationWarning===!0||Z_(r.textContent,s)?(u.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),u.onScroll!=null&&Le("scroll",r),u.onScrollEnd!=null&&Le("scrollend",r),u.onClick!=null&&(r.onclick=ef),r=!0):r=!1,r||za(n)}function Vy(n){for(on=n.return;on;)switch(on.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:on=on.return}}function fl(n){if(n!==on)return!1;if(!$e)return Vy(n),$e=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Em(n.type,n.memoizedProps)),s=!s),s&&ht&&za(n),Vy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(r===0){ht=$n(n.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;n=n.nextSibling}ht=null}}else r===27?(r=ht,jr(n.type)?(n=Am,Am=null,ht=n):ht=r):ht=on?$n(n.stateNode.nextSibling):null;return!0}function hl(){ht=on=null,$e=!1}function Ly(){var n=Ua;return n!==null&&(cn===null?cn=n:cn.push.apply(cn,n),Ua=null),n}function dl(n){Ua===null?Ua=[n]:Ua.push(n)}var ad=ie(null),Ba=null,Bi=null;function Sr(n,r,s){se(ad,r._currentValue),r._currentValue=s}function Fi(n){n._currentValue=ad.current,ce(ad)}function sd(n,r,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===s)break;n=n.return}}function od(n,r,s,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var C=0;C<r.length;C++)if(S.context===r[C]){m.lanes|=s,S=m.alternate,S!==null&&(S.lanes|=s),sd(m.return,s,n),u||(T=null);break e}m=S.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),sd(T,s,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ml(n,r,s,u){n=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var S=h.type;gn(h.pendingProps.value,T.value)||(n!==null?n.push(S):n=[S])}}else if(h===kt.current){if(T=h.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Hl):n=[Hl])}h=h.return}n!==null&&od(r,n,s,u),r.flags|=262144}function Tc(n){for(n=n.firstContext;n!==null;){if(!gn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fa(n){Ba=n,Bi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return jy(Ba,n)}function bc(n,r){return Ba===null&&Fa(n),jy(n,r)}function jy(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Bi===null){if(n===null)throw Error(a(308));Bi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Bi=Bi.next=r;return s}var LA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},jA=i.unstable_scheduleCallback,UA=i.unstable_NormalPriority,It={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new LA,data:new Map,refCount:0}}function pl(n){n.refCount--,n.refCount===0&&jA(UA,function(){n.controller.abort()})}var gl=null,ud=0,Ls=0,js=null;function zA(n,r){if(gl===null){var s=gl=[];ud=0,Ls=fm(),js={status:"pending",value:void 0,then:function(u){s.push(u)}}}return ud++,r.then(Uy,Uy),r}function Uy(){if(--ud===0&&gl!==null){js!==null&&(js.status="fulfilled");var n=gl;gl=null,Ls=0,js=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function BA(n,r){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var zy=W.S;W.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&zA(n,r),zy!==null&&zy(n,r)};var Ha=ie(null);function cd(){var n=Ha.current;return n!==null?n:rt.pooledCache}function Sc(n,r){r===null?se(Ha,Ha.current):se(Ha,r.pool)}function By(){var n=cd();return n===null?null:{parent:It._currentValue,pool:n}}var yl=Error(a(460)),Fy=Error(a(474)),Ac=Error(a(542)),fd={then:function(){}};function Hy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function wc(){}function qy(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(wc,wc),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,$y(n),n;default:if(typeof r.status=="string")r.then(wc,wc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,$y(n),n}throw vl=r,yl}}var vl=null;function Gy(){if(vl===null)throw Error(a(459));var n=vl;return vl=null,n}function $y(n){if(n===yl||n===Ac)throw Error(a(483))}var Ar=!1;function hd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(n,r,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=yc(n),Dy(n,null,s),r}return gc(n,u,r,s),yc(n)}function _l(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Yo(n,s)}}function md(n,r){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?h=m=r:m=m.next=r}else h=m=r;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var pd=!1;function El(){if(pd){var n=js;if(n!==null)throw n}}function Tl(n,r,s,u){pd=!1;var h=n.updateQueue;Ar=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,$=C.next;C.next=null,T===null?m=$:T.next=$,T=C;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==T&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=C))}if(m!==null){var ee=h.baseState;T=0,Z=$=C=null,S=m;do{var K=S.lane&-536870913,Q=K!==S.lane;if(Q?(He&K)===K:(u&K)===K){K!==0&&K===Ls&&(pd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=n,_e=S;K=r;var tt=s;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ee=we.call(tt,ee,K);break e}ee=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,K=typeof we=="function"?we.call(tt,ee,K):we,K==null)break e;ee=v({},ee,K);break e;case 2:Ar=!0}}K=S.callback,K!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=Q,C=ee):Z=Z.next=Q,T|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Z===null&&(C=ee),h.baseState=C,h.firstBaseUpdate=$,h.lastBaseUpdate=Z,m===null&&(h.shared.lanes=0),Pr|=T,n.lanes=T,n.memoizedState=ee}}function Yy(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function Ky(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Yy(s[n],r)}var Us=ie(null),Rc=ie(0);function Qy(n,r){n=Qi,se(Rc,n),se(Us,r),Qi=n|r.baseLanes}function gd(){se(Rc,Qi),se(Us,Us.current)}function yd(){Qi=Rc.current,ce(Us),ce(Rc)}var Ir=0,Oe=null,Je=null,Tt=null,Ic=!1,zs=!1,qa=!1,Cc=0,bl=0,Bs=null,FA=0;function gt(){throw Error(a(321))}function vd(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!gn(n[s],r[s]))return!1;return!0}function _d(n,r,s,u,h,m){return Ir=m,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=n===null||n.memoizedState===null?Dv:kv,qa=!1,m=s(u,h),qa=!1,zs&&(m=Wy(r,s,u,h)),Xy(n),m}function Xy(n){W.H=Pc;var r=Je!==null&&Je.next!==null;if(Ir=0,Tt=Je=Oe=null,Ic=!1,bl=0,Bs=null,r)throw Error(a(300));n===null||Vt||(n=n.dependencies,n!==null&&Tc(n)&&(Vt=!0))}function Wy(n,r,s,u){Oe=n;var h=0;do{if(zs&&(Bs=null),bl=0,zs=!1,25<=h)throw Error(a(301));if(h+=1,Tt=Je=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=QA,m=r(s,u)}while(zs);return m}function HA(){var n=W.H,r=n.useState()[0];return r=typeof r.then=="function"?Sl(r):r,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(Oe.flags|=1024),r}function Ed(){var n=Cc!==0;return Cc=0,n}function Td(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function bd(n){if(Ic){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ic=!1}Ir=0,Tt=Je=Oe=null,zs=!1,bl=Cc=0,Bs=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Oe.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function bt(){if(Je===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var r=Tt===null?Oe.memoizedState:Tt.next;if(r!==null)Tt=r,Je=n;else{if(n===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?Oe.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(n){var r=bl;return bl+=1,Bs===null&&(Bs=[]),n=qy(Bs,n,r),r=Oe,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Dv:kv),n}function xc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Sl(n);if(n.$$typeof===G)return Qt(n)}throw Error(a(438,String(n)))}function Ad(n){var r=null,s=Oe.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Sd(),Oe.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),u=0;u<n;u++)s[u]=k;return r.index++,s}function Hi(n,r){return typeof r=="function"?r(n):r}function Nc(n){var r=bt();return wd(r,Je,n)}function wd(n,r,s){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var h=n.baseQueue,m=u.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}r.baseQueue=h=m,u.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{r=h.next;var S=T=null,C=null,$=r,Z=!1;do{var ee=$.lane&-536870913;if(ee!==$.lane?(He&ee)===ee:(Ir&ee)===ee){var K=$.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ee===Ls&&(Z=!0);else if((Ir&K)===K){$=$.next,K===Ls&&(Z=!0);continue}else ee={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},C===null?(S=C=ee,T=m):C=C.next=ee,Oe.lanes|=K,Pr|=K;ee=$.action,qa&&s(m,ee),m=$.hasEagerState?$.eagerState:s(m,ee)}else K={lane:ee,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},C===null?(S=C=K,T=m):C=C.next=K,Oe.lanes|=ee,Pr|=ee;$=$.next}while($!==null&&$!==r);if(C===null?T=m:C.next=S,!gn(m,n.memoizedState)&&(Vt=!0,Z&&(s=js,s!==null)))throw s;n.memoizedState=m,n.baseState=T,n.baseQueue=C,u.lastRenderedState=m}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Rd(n){var r=bt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var u=s.dispatch,h=s.pending,m=r.memoizedState;if(h!==null){s.pending=null;var T=h=h.next;do m=n(m,T.action),T=T.next;while(T!==h);gn(m,r.memoizedState)||(Vt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),s.lastRenderedState=m}return[m,u]}function Zy(n,r,s){var u=Oe,h=bt(),m=$e;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=r();var T=!gn((Je||h).memoizedState,s);T&&(h.memoizedState=s,Vt=!0),h=h.queue;var S=tv.bind(null,u,h,n);if(Al(2048,8,S,[n]),h.getSnapshot!==r||T||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,Fs(9,Oc(),ev.bind(null,u,h,s,r),null),rt===null)throw Error(a(349));m||(Ir&124)!==0||Jy(u,r,s)}return s}function Jy(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=Oe.updateQueue,r===null?(r=Sd(),Oe.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function ev(n,r,s,u){r.value=s,r.getSnapshot=u,nv(r)&&iv(n)}function tv(n,r,s){return s(function(){nv(r)&&iv(n)})}function nv(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!gn(n,s)}catch{return!0}}function iv(n){var r=ks(n,2);r!==null&&bn(r,n,2)}function Id(n){var r=ln();if(typeof n=="function"){var s=n;if(n=s(),qa){mn(!0);try{s()}finally{mn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:n},r}function rv(n,r,s,u){return n.baseState=s,wd(n,Je,typeof u=="function"?u:Hi)}function qA(n,r,s,u,h){if(kc(n))throw Error(a(485));if(n=r.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};W.T!==null?s(!0):m.isTransition=!1,u(m),s=r.pending,s===null?(m.next=r.pending=m,av(r,m)):(m.next=s.next,r.pending=s.next=m)}}function av(n,r){var s=r.action,u=r.payload,h=n.state;if(r.isTransition){var m=W.T,T={};W.T=T;try{var S=s(h,u),C=W.S;C!==null&&C(T,S),sv(n,r,S)}catch($){Cd(n,r,$)}finally{W.T=m}}else try{m=s(h,u),sv(n,r,m)}catch($){Cd(n,r,$)}}function sv(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){ov(n,r,u)},function(u){return Cd(n,r,u)}):ov(n,r,s)}function ov(n,r,s){r.status="fulfilled",r.value=s,lv(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,av(n,s)))}function Cd(n,r,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=s,lv(r),r=r.next;while(r!==u)}n.action=null}function lv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function uv(n,r){return r}function cv(n,r){if($e){var s=rt.formState;if(s!==null){e:{var u=Oe;if($e){if(ht){t:{for(var h=ht,m=li;h.nodeType!==8;){if(!m){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){ht=$n(h.nextSibling),u=h.data==="F!";break e}}za(u)}u=!1}u&&(r=s[0])}}return s=ln(),s.memoizedState=s.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:r},s.queue=u,s=xv.bind(null,Oe,u),u.dispatch=s,u=Id(!1),m=kd.bind(null,Oe,!1,u.queue),u=ln(),h={state:r,dispatch:null,action:n,pending:null},u.queue=h,s=qA.bind(null,Oe,h,m,s),h.dispatch=s,u.memoizedState=n,[r,s,!1]}function fv(n){var r=bt();return hv(r,Je,n)}function hv(n,r,s){if(r=wd(n,r,uv)[0],n=Nc(Hi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Sl(r)}catch(T){throw T===yl?Ac:T}else u=r;r=bt();var h=r.queue,m=h.dispatch;return s!==r.memoizedState&&(Oe.flags|=2048,Fs(9,Oc(),GA.bind(null,h,s),null)),[u,m,n]}function GA(n,r){n.action=r}function dv(n){var r=bt(),s=Je;if(s!==null)return hv(r,s,n);bt(),r=r.memoizedState,s=bt();var u=s.queue.dispatch;return s.memoizedState=n,[r,u,!1]}function Fs(n,r,s,u){return n={tag:n,create:s,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Sd(),Oe.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,r.lastEffect=n),n}function Oc(){return{destroy:void 0,resource:void 0}}function mv(){return bt().memoizedState}function Dc(n,r,s,u){var h=ln();u=u===void 0?null:u,Oe.flags|=n,h.memoizedState=Fs(1|r,Oc(),s,u)}function Al(n,r,s,u){var h=bt();u=u===void 0?null:u;var m=h.memoizedState.inst;Je!==null&&u!==null&&vd(u,Je.memoizedState.deps)?h.memoizedState=Fs(r,m,s,u):(Oe.flags|=n,h.memoizedState=Fs(1|r,m,s,u))}function pv(n,r){Dc(8390656,8,n,r)}function gv(n,r){Al(2048,8,n,r)}function yv(n,r){return Al(4,2,n,r)}function vv(n,r){return Al(4,4,n,r)}function _v(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ev(n,r,s){s=s!=null?s.concat([n]):null,Al(4,4,_v.bind(null,r,n),s)}function xd(){}function Tv(n,r){var s=bt();r=r===void 0?null:r;var u=s.memoizedState;return r!==null&&vd(r,u[1])?u[0]:(s.memoizedState=[n,r],n)}function bv(n,r){var s=bt();r=r===void 0?null:r;var u=s.memoizedState;if(r!==null&&vd(r,u[1]))return u[0];if(u=n(),qa){mn(!0);try{n()}finally{mn(!1)}}return s.memoizedState=[u,r],u}function Nd(n,r,s){return s===void 0||(Ir&1073741824)!==0?n.memoizedState=r:(n.memoizedState=s,n=w_(),Oe.lanes|=n,Pr|=n,s)}function Sv(n,r,s,u){return gn(s,r)?s:Us.current!==null?(n=Nd(n,s,u),gn(n,r)||(Vt=!0),n):(Ir&42)===0?(Vt=!0,n.memoizedState=s):(n=w_(),Oe.lanes|=n,Pr|=n,r)}function Av(n,r,s,u,h){var m=ue.p;ue.p=m!==0&&8>m?m:8;var T=W.T,S={};W.T=S,kd(n,!1,r,s);try{var C=h(),$=W.S;if($!==null&&$(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=BA(C,u);wl(n,r,Z,Tn(n))}else wl(n,r,u,Tn(n))}catch(ee){wl(n,r,{then:function(){},status:"rejected",reason:ee},Tn())}finally{ue.p=m,W.T=T}}function $A(){}function Od(n,r,s,u){if(n.tag!==5)throw Error(a(476));var h=wv(n).queue;Av(n,h,r,pe,s===null?$A:function(){return Rv(n),s(u)})}function wv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:pe},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Rv(n){var r=wv(n).next.queue;wl(n,r,{},Tn())}function Dd(){return Qt(Hl)}function Iv(){return bt().memoizedState}function Cv(){return bt().memoizedState}function YA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=Tn();n=wr(s);var u=Rr(r,n,s);u!==null&&(bn(u,r,s),_l(u,r,s)),r={cache:ld()},n.payload=r;return}r=r.return}}function KA(n,r,s){var u=Tn();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},kc(n)?Nv(r,s):(s=Zh(n,r,s,u),s!==null&&(bn(s,n,u),Ov(s,r,u)))}function xv(n,r,s){var u=Tn();wl(n,r,s,u)}function wl(n,r,s,u){var h={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(kc(n))Nv(r,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,S=m(T,s);if(h.hasEagerState=!0,h.eagerState=S,gn(S,T))return gc(n,r,h,0),rt===null&&pc(),!1}catch{}finally{}if(s=Zh(n,r,h,u),s!==null)return bn(s,n,u),Ov(s,r,u),!0}return!1}function kd(n,r,s,u){if(u={lane:2,revertLane:fm(),action:u,hasEagerState:!1,eagerState:null,next:null},kc(n)){if(r)throw Error(a(479))}else r=Zh(n,s,u,2),r!==null&&bn(r,n,2)}function kc(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function Nv(n,r){zs=Ic=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function Ov(n,r,s){if((s&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Yo(n,s)}}var Pc={readContext:Qt,use:xc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Dv={readContext:Qt,use:xc,useCallback:function(n,r){return ln().memoizedState=[n,r===void 0?null:r],n},useContext:Qt,useEffect:pv,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,Dc(4194308,4,_v.bind(null,r,n),s)},useLayoutEffect:function(n,r){return Dc(4194308,4,n,r)},useInsertionEffect:function(n,r){Dc(4,2,n,r)},useMemo:function(n,r){var s=ln();r=r===void 0?null:r;var u=n();if(qa){mn(!0);try{n()}finally{mn(!1)}}return s.memoizedState=[u,r],u},useReducer:function(n,r,s){var u=ln();if(s!==void 0){var h=s(r);if(qa){mn(!0);try{s(r)}finally{mn(!1)}}}else h=r;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=KA.bind(null,Oe,n),[u.memoizedState,n]},useRef:function(n){var r=ln();return n={current:n},r.memoizedState=n},useState:function(n){n=Id(n);var r=n.queue,s=xv.bind(null,Oe,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:xd,useDeferredValue:function(n,r){var s=ln();return Nd(s,n,r)},useTransition:function(){var n=Id(!1);return n=Av.bind(null,Oe,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var u=Oe,h=ln();if($e){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),rt===null)throw Error(a(349));(He&124)!==0||Jy(u,r,s)}h.memoizedState=s;var m={value:s,getSnapshot:r};return h.queue=m,pv(tv.bind(null,u,m,n),[n]),u.flags|=2048,Fs(9,Oc(),ev.bind(null,u,m,s,r),null),s},useId:function(){var n=ln(),r=rt.identifierPrefix;if($e){var s=zi,u=Ui;s=(u&~(1<<32-Kt(u)-1)).toString(32)+s,r="«"+r+"R"+s,s=Cc++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=FA++,r="«"+r+"r"+s.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Dd,useFormState:cv,useActionState:cv,useOptimistic:function(n){var r=ln();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=kd.bind(null,Oe,!0,s),s.dispatch=r,[n,r]},useMemoCache:Ad,useCacheRefresh:function(){return ln().memoizedState=YA.bind(null,Oe)}},kv={readContext:Qt,use:xc,useCallback:Tv,useContext:Qt,useEffect:gv,useImperativeHandle:Ev,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:bv,useReducer:Nc,useRef:mv,useState:function(){return Nc(Hi)},useDebugValue:xd,useDeferredValue:function(n,r){var s=bt();return Sv(s,Je.memoizedState,n,r)},useTransition:function(){var n=Nc(Hi)[0],r=bt().memoizedState;return[typeof n=="boolean"?n:Sl(n),r]},useSyncExternalStore:Zy,useId:Iv,useHostTransitionStatus:Dd,useFormState:fv,useActionState:fv,useOptimistic:function(n,r){var s=bt();return rv(s,Je,n,r)},useMemoCache:Ad,useCacheRefresh:Cv},QA={readContext:Qt,use:xc,useCallback:Tv,useContext:Qt,useEffect:gv,useImperativeHandle:Ev,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:bv,useReducer:Rd,useRef:mv,useState:function(){return Rd(Hi)},useDebugValue:xd,useDeferredValue:function(n,r){var s=bt();return Je===null?Nd(s,n,r):Sv(s,Je.memoizedState,n,r)},useTransition:function(){var n=Rd(Hi)[0],r=bt().memoizedState;return[typeof n=="boolean"?n:Sl(n),r]},useSyncExternalStore:Zy,useId:Iv,useHostTransitionStatus:Dd,useFormState:dv,useActionState:dv,useOptimistic:function(n,r){var s=bt();return Je!==null?rv(s,Je,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:Cv},Hs=null,Rl=0;function Mc(n){var r=Rl;return Rl+=1,Hs===null&&(Hs=[]),qy(Hs,n,r)}function Il(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Vc(n,r){throw r.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Pv(n){var r=n._init;return r(n._payload)}function Mv(n){function r(z,j){if(n){var q=z.deletions;q===null?(z.deletions=[j],z.flags|=16):q.push(j)}}function s(z,j){if(!n)return null;for(;j!==null;)r(z,j),j=j.sibling;return null}function u(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function h(z,j){return z=ji(z,j),z.index=0,z.sibling=null,z}function m(z,j,q){return z.index=q,n?(q=z.alternate,q!==null?(q=q.index,q<j?(z.flags|=67108866,j):q):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function S(z,j,q,J){return j===null||j.tag!==6?(j=ed(q,z.mode,J),j.return=z,j):(j=h(j,q),j.return=z,j)}function C(z,j,q,J){var he=q.type;return he===x?Z(z,j,q.props.children,J,q.key):j!==null&&(j.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Pv(he)===j.type)?(j=h(j,q.props),Il(j,q),j.return=z,j):(j=vc(q.type,q.key,q.props,null,z.mode,J),Il(j,q),j.return=z,j)}function $(z,j,q,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=td(q,z.mode,J),j.return=z,j):(j=h(j,q.children||[]),j.return=z,j)}function Z(z,j,q,J,he){return j===null||j.tag!==7?(j=Va(q,z.mode,J,he),j.return=z,j):(j=h(j,q),j.return=z,j)}function ee(z,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=ed(""+j,z.mode,q),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return q=vc(j.type,j.key,j.props,null,z.mode,q),Il(q,j),q.return=z,q;case P:return j=td(j,z.mode,q),j.return=z,j;case R:var J=j._init;return j=J(j._payload),ee(z,j,q)}if(be(j)||B(j))return j=Va(j,z.mode,q,null),j.return=z,j;if(typeof j.then=="function")return ee(z,Mc(j),q);if(j.$$typeof===G)return ee(z,bc(z,j),q);Vc(z,j)}return null}function K(z,j,q,J){var he=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:S(z,j,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===he?C(z,j,q,J):null;case P:return q.key===he?$(z,j,q,J):null;case R:return he=q._init,q=he(q._payload),K(z,j,q,J)}if(be(q)||B(q))return he!==null?null:Z(z,j,q,J,null);if(typeof q.then=="function")return K(z,j,Mc(q),J);if(q.$$typeof===G)return K(z,j,bc(z,q),J);Vc(z,q)}return null}function Q(z,j,q,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(q)||null,S(j,z,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return z=z.get(J.key===null?q:J.key)||null,C(j,z,J,he);case P:return z=z.get(J.key===null?q:J.key)||null,$(j,z,J,he);case R:var Me=J._init;return J=Me(J._payload),Q(z,j,q,J,he)}if(be(J)||B(J))return z=z.get(q)||null,Z(j,z,J,he,null);if(typeof J.then=="function")return Q(z,j,q,Mc(J),he);if(J.$$typeof===G)return Q(z,j,q,bc(j,J),he);Vc(j,J)}return null}function we(z,j,q,J){for(var he=null,Me=null,ge=j,Se=j=0,jt=null;ge!==null&&Se<q.length;Se++){ge.index>Se?(jt=ge,ge=null):jt=ge.sibling;var Ge=K(z,ge,q[Se],J);if(Ge===null){ge===null&&(ge=jt);break}n&&ge&&Ge.alternate===null&&r(z,ge),j=m(Ge,j,Se),Me===null?he=Ge:Me.sibling=Ge,Me=Ge,ge=jt}if(Se===q.length)return s(z,ge),$e&&ja(z,Se),he;if(ge===null){for(;Se<q.length;Se++)ge=ee(z,q[Se],J),ge!==null&&(j=m(ge,j,Se),Me===null?he=ge:Me.sibling=ge,Me=ge);return $e&&ja(z,Se),he}for(ge=u(ge);Se<q.length;Se++)jt=Q(ge,z,Se,q[Se],J),jt!==null&&(n&&jt.alternate!==null&&ge.delete(jt.key===null?Se:jt.key),j=m(jt,j,Se),Me===null?he=jt:Me.sibling=jt,Me=jt);return n&&ge.forEach(function(Hr){return r(z,Hr)}),$e&&ja(z,Se),he}function _e(z,j,q,J){if(q==null)throw Error(a(151));for(var he=null,Me=null,ge=j,Se=j=0,jt=null,Ge=q.next();ge!==null&&!Ge.done;Se++,Ge=q.next()){ge.index>Se?(jt=ge,ge=null):jt=ge.sibling;var Hr=K(z,ge,Ge.value,J);if(Hr===null){ge===null&&(ge=jt);break}n&&ge&&Hr.alternate===null&&r(z,ge),j=m(Hr,j,Se),Me===null?he=Hr:Me.sibling=Hr,Me=Hr,ge=jt}if(Ge.done)return s(z,ge),$e&&ja(z,Se),he;if(ge===null){for(;!Ge.done;Se++,Ge=q.next())Ge=ee(z,Ge.value,J),Ge!==null&&(j=m(Ge,j,Se),Me===null?he=Ge:Me.sibling=Ge,Me=Ge);return $e&&ja(z,Se),he}for(ge=u(ge);!Ge.done;Se++,Ge=q.next())Ge=Q(ge,z,Se,Ge.value,J),Ge!==null&&(n&&Ge.alternate!==null&&ge.delete(Ge.key===null?Se:Ge.key),j=m(Ge,j,Se),Me===null?he=Ge:Me.sibling=Ge,Me=Ge);return n&&ge.forEach(function(Xw){return r(z,Xw)}),$e&&ja(z,Se),he}function tt(z,j,q,J){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var he=q.key;j!==null;){if(j.key===he){if(he=q.type,he===x){if(j.tag===7){s(z,j.sibling),J=h(j,q.props.children),J.return=z,z=J;break e}}else if(j.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Pv(he)===j.type){s(z,j.sibling),J=h(j,q.props),Il(J,q),J.return=z,z=J;break e}s(z,j);break}else r(z,j);j=j.sibling}q.type===x?(J=Va(q.props.children,z.mode,J,q.key),J.return=z,z=J):(J=vc(q.type,q.key,q.props,null,z.mode,J),Il(J,q),J.return=z,z=J)}return T(z);case P:e:{for(he=q.key;j!==null;){if(j.key===he)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){s(z,j.sibling),J=h(j,q.children||[]),J.return=z,z=J;break e}else{s(z,j);break}else r(z,j);j=j.sibling}J=td(q,z.mode,J),J.return=z,z=J}return T(z);case R:return he=q._init,q=he(q._payload),tt(z,j,q,J)}if(be(q))return we(z,j,q,J);if(B(q)){if(he=B(q),typeof he!="function")throw Error(a(150));return q=he.call(q),_e(z,j,q,J)}if(typeof q.then=="function")return tt(z,j,Mc(q),J);if(q.$$typeof===G)return tt(z,j,bc(z,q),J);Vc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(s(z,j.sibling),J=h(j,q),J.return=z,z=J):(s(z,j),J=ed(q,z.mode,J),J.return=z,z=J),T(z)):s(z,j)}return function(z,j,q,J){try{Rl=0;var he=tt(z,j,q,J);return Hs=null,he}catch(ge){if(ge===yl||ge===Ac)throw ge;var Me=yn(29,ge,null,z.mode);return Me.lanes=J,Me.return=z,Me}finally{}}}var qs=Mv(!0),Vv=Mv(!1),Mn=ie(null),ui=null;function Cr(n){var r=n.alternate;se(Ct,Ct.current&1),se(Mn,n),ui===null&&(r===null||Us.current!==null||r.memoizedState!==null)&&(ui=n)}function Lv(n){if(n.tag===22){if(se(Ct,Ct.current),se(Mn,n),ui===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ui=n)}}else xr()}function xr(){se(Ct,Ct.current),se(Mn,Mn.current)}function qi(n){ce(Mn),ui===n&&(ui=null),ce(Ct)}var Ct=ie(0);function Lc(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Sm(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Pd(n,r,s,u){r=n.memoizedState,s=s(u,r),s=s==null?r:v({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Md={enqueueSetState:function(n,r,s){n=n._reactInternals;var u=Tn(),h=wr(u);h.payload=r,s!=null&&(h.callback=s),r=Rr(n,h,u),r!==null&&(bn(r,n,u),_l(r,n,u))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var u=Tn(),h=wr(u);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Rr(n,h,u),r!==null&&(bn(r,n,u),_l(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=Tn(),u=wr(s);u.tag=2,r!=null&&(u.callback=r),r=Rr(n,u,s),r!==null&&(bn(r,n,s),_l(r,n,s))}};function jv(n,r,s,u,h,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,T):r.prototype&&r.prototype.isPureReactComponent?!ul(s,u)||!ul(h,m):!0}function Uv(n,r,s,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==n&&Md.enqueueReplaceState(r,r.state,null)}function Ga(n,r){var s=r;if("ref"in r){s={};for(var u in r)u!=="ref"&&(s[u]=r[u])}if(n=n.defaultProps){s===r&&(s=v({},s));for(var h in n)s[h]===void 0&&(s[h]=n[h])}return s}var jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function zv(n){jc(n)}function Bv(n){console.error(n)}function Fv(n){jc(n)}function Uc(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Hv(n,r,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vd(n,r,s){return s=wr(s),s.tag=3,s.payload={element:null},s.callback=function(){Uc(n,r)},s}function qv(n){return n=wr(n),n.tag=3,n}function Gv(n,r,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;n.payload=function(){return h(m)},n.callback=function(){Hv(r,s,u)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Hv(r,s,u),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function XA(n,r,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=s.alternate,r!==null&&ml(r,s,h,!0),s=Mn.current,s!==null){switch(s.tag){case 13:return ui===null?sm():s.alternate===null&&dt===0&&(dt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===fd?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([u]):r.add(u),lm(n,u,h)),!1;case 22:return s.flags|=65536,u===fd?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([u]):s.add(u)),lm(n,u,h)),!1}throw Error(a(435,s.tag))}return lm(n,u,h),sm(),!1}if($e)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==rd&&(n=Error(a(422),{cause:u}),dl(On(n,s)))):(u!==rd&&(r=Error(a(423),{cause:u}),dl(On(r,s))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=On(u,s),h=Vd(n.stateNode,u,h),md(n,h),dt!==4&&(dt=2)),!1;var m=Error(a(520),{cause:u});if(m=On(m,s),Pl===null?Pl=[m]:Pl.push(m),dt!==4&&(dt=2),r===null)return!0;u=On(u,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=h&-h,s.lanes|=n,n=Vd(s.stateNode,u,n),md(s,n),!1;case 1:if(r=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mr===null||!Mr.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=qv(h),Gv(h,n,s,u),md(s,h),!1}s=s.return}while(s!==null);return!1}var $v=Error(a(461)),Vt=!1;function Ft(n,r,s,u){r.child=n===null?Vv(r,null,s,u):qs(r,n.child,s,u)}function Yv(n,r,s,u,h){s=s.render;var m=r.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return Fa(r),u=_d(n,r,s,T,m,h),S=Ed(),n!==null&&!Vt?(Td(n,r,h),Gi(n,r,h)):($e&&S&&nd(r),r.flags|=1,Ft(n,r,u,h),r.child)}function Kv(n,r,s,u,h){if(n===null){var m=s.type;return typeof m=="function"&&!Jh(m)&&m.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=m,Qv(n,r,m,u,h)):(n=vc(s.type,null,u,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!qd(n,h)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:ul,s(T,u)&&n.ref===r.ref)return Gi(n,r,h)}return r.flags|=1,n=ji(m,u),n.ref=r.ref,n.return=r,r.child=n}function Qv(n,r,s,u,h){if(n!==null){var m=n.memoizedProps;if(ul(m,u)&&n.ref===r.ref)if(Vt=!1,r.pendingProps=u=m,qd(n,h))(n.flags&131072)!==0&&(Vt=!0);else return r.lanes=n.lanes,Gi(n,r,h)}return Ld(n,r,s,u,h)}function Xv(n,r,s){var u=r.pendingProps,h=u.children,m=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=m!==null?m.baseLanes|s:s,n!==null){for(h=r.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return Wv(n,r,u,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Sc(r,m!==null?m.cachePool:null),m!==null?Qy(r,m):gd(),Lv(r);else return r.lanes=r.childLanes=536870912,Wv(n,r,m!==null?m.baseLanes|s:s,s)}else m!==null?(Sc(r,m.cachePool),Qy(r,m),xr(),r.memoizedState=null):(n!==null&&Sc(r,null),gd(),xr());return Ft(n,r,h,s),r.child}function Wv(n,r,s,u){var h=cd();return h=h===null?null:{parent:It._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},n!==null&&Sc(r,null),gd(),Lv(r),n!==null&&ml(n,r,u,!0),null}function zc(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function Ld(n,r,s,u,h){return Fa(r),s=_d(n,r,s,u,void 0,h),u=Ed(),n!==null&&!Vt?(Td(n,r,h),Gi(n,r,h)):($e&&u&&nd(r),r.flags|=1,Ft(n,r,s,h),r.child)}function Zv(n,r,s,u,h,m){return Fa(r),r.updateQueue=null,s=Wy(r,u,s,h),Xy(n),u=Ed(),n!==null&&!Vt?(Td(n,r,m),Gi(n,r,m)):($e&&u&&nd(r),r.flags|=1,Ft(n,r,s,m),r.child)}function Jv(n,r,s,u,h){if(Fa(r),r.stateNode===null){var m=Ps,T=s.contextType;typeof T=="object"&&T!==null&&(m=Qt(T)),m=new s(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Md,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},hd(r),T=s.contextType,m.context=typeof T=="object"&&T!==null?Qt(T):Ps,m.state=r.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Pd(r,s,T,u),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Md.enqueueReplaceState(m,m.state,null),Tl(r,u,m,h),El(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var S=r.memoizedProps,C=Ga(s,S);m.props=C;var $=m.context,Z=s.contextType;T=Ps,typeof Z=="object"&&Z!==null&&(T=Qt(Z));var ee=s.getDerivedStateFromProps;Z=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||$!==T)&&Uv(r,m,u,T),Ar=!1;var K=r.memoizedState;m.state=K,Tl(r,u,m,h),El(),$=r.memoizedState,S||K!==$||Ar?(typeof ee=="function"&&(Pd(r,s,ee,u),$=r.memoizedState),(C=Ar||jv(r,s,C,u,K,$,T))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),m.props=u,m.state=$,m.context=T,u=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,dd(n,r),T=r.memoizedProps,Z=Ga(s,T),m.props=Z,ee=r.pendingProps,K=m.context,$=s.contextType,C=Ps,typeof $=="object"&&$!==null&&(C=Qt($)),S=s.getDerivedStateFromProps,($=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ee||K!==C)&&Uv(r,m,u,C),Ar=!1,K=r.memoizedState,m.state=K,Tl(r,u,m,h),El();var Q=r.memoizedState;T!==ee||K!==Q||Ar||n!==null&&n.dependencies!==null&&Tc(n.dependencies)?(typeof S=="function"&&(Pd(r,s,S,u),Q=r.memoizedState),(Z=Ar||jv(r,s,Z,u,K,Q,C)||n!==null&&n.dependencies!==null&&Tc(n.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Q,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Q,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),m.props=u,m.state=Q,m.context=C,u=Z):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,zc(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=qs(r,n.child,null,h),r.child=qs(r,null,s,h)):Ft(n,r,s,h),r.memoizedState=m.state,n=r.child):n=Gi(n,r,h),n}function e_(n,r,s,u){return hl(),r.flags|=256,Ft(n,r,s,u),r.child}var jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ud(n){return{baseLanes:n,cachePool:By()}}function zd(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=Vn),n}function t_(n,r,s){var u=r.pendingProps,h=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),T&&(h=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if($e){if(h?Cr(r):xr(),$e){var S=ht,C;if(C=S){e:{for(C=S,S=li;C.nodeType!==8;){if(!S){S=null;break e}if(C=$n(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(r.memoizedState={dehydrated:S,treeContext:La!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},C=yn(18,null,null,0),C.stateNode=S,C.return=r,r.child=C,on=r,ht=null,C=!0):C=!1}C||za(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Sm(S)?r.lanes=32:r.lanes=536870912,null;qi(r)}return S=u.children,u=u.fallback,h?(xr(),h=r.mode,S=Bc({mode:"hidden",children:S},h),u=Va(u,h,s,null),S.return=r,u.return=r,S.sibling=u,r.child=S,h=r.child,h.memoizedState=Ud(s),h.childLanes=zd(n,T,s),r.memoizedState=jd,u):(Cr(r),Bd(r,S))}if(C=n.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(m)r.flags&256?(Cr(r),r.flags&=-257,r=Fd(n,r,s)):r.memoizedState!==null?(xr(),r.child=n.child,r.flags|=128,r=null):(xr(),h=u.fallback,S=r.mode,u=Bc({mode:"visible",children:u.children},S),h=Va(h,S,s,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,qs(r,n.child,null,s),u=r.child,u.memoizedState=Ud(s),u.childLanes=zd(n,T,s),r.memoizedState=jd,r=h);else if(Cr(r),Sm(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var $=T.dgst;T=$,u=Error(a(419)),u.stack="",u.digest=T,dl({value:u,source:null,stack:null}),r=Fd(n,r,s)}else if(Vt||ml(n,r,s,!1),T=(s&n.childLanes)!==0,Vt||T){if(T=rt,T!==null&&(u=s&-s,u=(u&42)!==0?1:gr(u),u=(u&(T.suspendedLanes|s))!==0?0:u,u!==0&&u!==C.retryLane))throw C.retryLane=u,ks(n,u),bn(T,n,u),$v;S.data==="$?"||sm(),r=Fd(n,r,s)}else S.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,ht=$n(S.nextSibling),on=r,$e=!0,Ua=null,li=!1,n!==null&&(kn[Pn++]=Ui,kn[Pn++]=zi,kn[Pn++]=La,Ui=n.id,zi=n.overflow,La=r),r=Bd(r,u.children),r.flags|=4096);return r}return h?(xr(),h=u.fallback,S=r.mode,C=n.child,$=C.sibling,u=ji(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,$!==null?h=ji($,h):(h=Va(h,S,s,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,S=n.child.memoizedState,S===null?S=Ud(s):(C=S.cachePool,C!==null?($=It._currentValue,C=C.parent!==$?{parent:$,pool:$}:C):C=By(),S={baseLanes:S.baseLanes|s,cachePool:C}),h.memoizedState=S,h.childLanes=zd(n,T,s),r.memoizedState=jd,u):(Cr(r),s=n.child,n=s.sibling,s=ji(s,{mode:"visible",children:u.children}),s.return=r,s.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=s,r.memoizedState=null,s)}function Bd(n,r){return r=Bc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Bc(n,r){return n=yn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Fd(n,r,s){return qs(r,n.child,null,s),n=Bd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function n_(n,r,s){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),sd(n.return,r,s)}function Hd(n,r,s,u,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=s,m.tailMode=h)}function i_(n,r,s){var u=r.pendingProps,h=u.revealOrder,m=u.tail;if(Ft(n,r,u.children,s),u=Ct.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&n_(n,s,r);else if(n.tag===19)n_(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(se(Ct,u),h){case"forwards":for(s=r.child,h=null;s!==null;)n=s.alternate,n!==null&&Lc(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Hd(r,!1,h,s,m);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&Lc(n)===null){r.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}Hd(r,!0,s,null,m);break;case"together":Hd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Gi(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),Pr|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(ml(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,s=ji(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=ji(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function qd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Tc(n)))}function WA(n,r,s){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),Sr(r,It,n.memoizedState.cache),hl();break;case 27:case 5:pr(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:Sr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Cr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?t_(n,r,s):(Cr(r),n=Gi(n,r,s),n!==null?n.sibling:null);Cr(r);break;case 19:var h=(n.flags&128)!==0;if(u=(s&r.childLanes)!==0,u||(ml(n,r,s,!1),u=(s&r.childLanes)!==0),h){if(u)return i_(n,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Ct,Ct.current),u)break;return null;case 22:case 23:return r.lanes=0,Xv(n,r,s);case 24:Sr(r,It,n.memoizedState.cache)}return Gi(n,r,s)}function r_(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)Vt=!0;else{if(!qd(n,s)&&(r.flags&128)===0)return Vt=!1,WA(n,r,s);Vt=(n.flags&131072)!==0}else Vt=!1,$e&&(r.flags&1048576)!==0&&Py(r,Ec,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,h=u._init;if(u=h(u._payload),r.type=u,typeof u=="function")Jh(u)?(n=Ga(u,n),r.tag=1,r=Jv(null,r,u,n,s)):(r.tag=0,r=Ld(null,r,u,n,s));else{if(u!=null){if(h=u.$$typeof,h===ne){r.tag=11,r=Yv(null,r,u,n,s);break e}else if(h===M){r.tag=14,r=Kv(null,r,u,n,s);break e}}throw r=ve(u)||u,Error(a(306,r,""))}}return r;case 0:return Ld(n,r,r.type,r.pendingProps,s);case 1:return u=r.type,h=Ga(u,r.pendingProps),Jv(n,r,u,h,s);case 3:e:{if(it(r,r.stateNode.containerInfo),n===null)throw Error(a(387));u=r.pendingProps;var m=r.memoizedState;h=m.element,dd(n,r),Tl(r,u,null,s);var T=r.memoizedState;if(u=T.cache,Sr(r,It,u),u!==m.cache&&od(r,[It],s,!0),El(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=e_(n,r,u,s);break e}else if(u!==h){h=On(Error(a(424)),r),dl(h),r=e_(n,r,u,s);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=$n(n.firstChild),on=r,$e=!0,Ua=null,li=!0,s=Vv(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(hl(),u===h){r=Gi(n,r,s);break e}Ft(n,r,u,s)}r=r.child}return r;case 26:return zc(n,r),n===null?(s=l0(r.type,null,r.pendingProps,null))?r.memoizedState=s:$e||(s=r.type,n=r.pendingProps,u=tf(Ie.current).createElement(s),u[At]=r,u[_t]=n,qt(u,s,n),pt(u),r.stateNode=u):r.memoizedState=l0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return pr(r),n===null&&$e&&(u=r.stateNode=a0(r.type,r.pendingProps,Ie.current),on=r,li=!0,h=ht,jr(r.type)?(Am=h,ht=$n(u.firstChild)):ht=h),Ft(n,r,r.pendingProps.children,s),zc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&$e&&((h=u=ht)&&(u=ww(u,r.type,r.pendingProps,li),u!==null?(r.stateNode=u,on=r,ht=$n(u.firstChild),li=!1,h=!0):h=!1),h||za(r)),pr(r),h=r.type,m=r.pendingProps,T=n!==null?n.memoizedProps:null,u=m.children,Em(h,m)?u=null:T!==null&&Em(h,T)&&(r.flags|=32),r.memoizedState!==null&&(h=_d(n,r,HA,null,null,s),Hl._currentValue=h),zc(n,r),Ft(n,r,u,s),r.child;case 6:return n===null&&$e&&((n=s=ht)&&(s=Rw(s,r.pendingProps,li),s!==null?(r.stateNode=s,on=r,ht=null,n=!0):n=!1),n||za(r)),null;case 13:return t_(n,r,s);case 4:return it(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=qs(r,null,u,s):Ft(n,r,u,s),r.child;case 11:return Yv(n,r,r.type,r.pendingProps,s);case 7:return Ft(n,r,r.pendingProps,s),r.child;case 8:return Ft(n,r,r.pendingProps.children,s),r.child;case 12:return Ft(n,r,r.pendingProps.children,s),r.child;case 10:return u=r.pendingProps,Sr(r,r.type,u.value),Ft(n,r,u.children,s),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,Fa(r),h=Qt(h),u=u(h),r.flags|=1,Ft(n,r,u,s),r.child;case 14:return Kv(n,r,r.type,r.pendingProps,s);case 15:return Qv(n,r,r.type,r.pendingProps,s);case 19:return i_(n,r,s);case 31:return u=r.pendingProps,s=r.mode,u={mode:u.mode,children:u.children},n===null?(s=Bc(u,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=ji(n.child,u),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Xv(n,r,s);case 24:return Fa(r),u=Qt(It),n===null?(h=cd(),h===null&&(h=rt,m=ld(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),r.memoizedState={parent:u,cache:h},hd(r),Sr(r,It,h)):((n.lanes&s)!==0&&(dd(n,r),Tl(r,null,null,s),El()),h=n.memoizedState,m=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Sr(r,It,u)):(u=m.cache,Sr(r,It,u),u!==h.cache&&od(r,[It],s,!0))),Ft(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function $i(n){n.flags|=4}function a_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!d0(r)){if(r=Mn.current,r!==null&&((He&4194048)===He?ui!==null:(He&62914560)!==He&&(He&536870912)===0||r!==ui))throw vl=fd,Fy;n.flags|=8192}}function Fc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Go():536870912,n.lanes|=r,Ks|=r)}function Cl(n,r){if(!$e)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function lt(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(r)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=s,r}function ZA(n,r,s){var u=r.pendingProps;switch(id(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return s=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Fi(It),Xn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(fl(r)?$i(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ly())),lt(r),null;case 26:return s=r.memoizedState,n===null?($i(r),s!==null?(lt(r),a_(r,s)):(lt(r),r.flags&=-16777217)):s?s!==n.memoizedState?($i(r),lt(r),a_(r,s)):(lt(r),r.flags&=-16777217):(n.memoizedProps!==u&&$i(r),lt(r),r.flags&=-16777217),null;case 27:wi(r),s=Ie.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&$i(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return lt(r),null}n=ye.current,fl(r)?My(r):(n=a0(h,u,s),r.stateNode=n,$i(r))}return lt(r),null;case 5:if(wi(r),s=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&$i(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return lt(r),null}if(n=ye.current,fl(r))My(r);else{switch(h=tf(Ie.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?h.createElement(s,{is:u.is}):h.createElement(s)}}n[At]=r,n[_t]=u;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(qt(n,s,u),s){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&$i(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&$i(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(a(166));if(n=Ie.current,fl(r)){if(n=r.stateNode,s=r.memoizedProps,u=null,h=on,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[At]=r,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Z_(n.nodeValue,s)),n||za(r)}else n=tf(n).createTextNode(u),n[At]=r,r.stateNode=n}return lt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=fl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[At]=r}else hl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),h=!1}else h=Ly(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(qi(r),r):(qi(r),null)}if(qi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=u!==null,n=n!==null&&n.memoizedState!==null,s){u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)}return s!==n&&s&&(r.child.flags|=8192),Fc(r,r.updateQueue),lt(r),null;case 4:return Xn(),n===null&&pm(r.stateNode.containerInfo),lt(r),null;case 10:return Fi(r.type),lt(r),null;case 19:if(ce(Ct),h=r.memoizedState,h===null)return lt(r),null;if(u=(r.flags&128)!==0,m=h.rendering,m===null)if(u)Cl(h,!1);else{if(dt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=Lc(n),m!==null){for(r.flags|=128,Cl(h,!1),n=m.updateQueue,r.updateQueue=n,Fc(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)ky(s,n),s=s.sibling;return se(Ct,Ct.current&1|2),r.child}n=n.sibling}h.tail!==null&&wn()>Gc&&(r.flags|=128,u=!0,Cl(h,!1),r.lanes=4194304)}else{if(!u)if(n=Lc(m),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Fc(r,n),Cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!$e)return lt(r),null}else 2*wn()-h.renderingStartTime>Gc&&s!==536870912&&(r.flags|=128,u=!0,Cl(h,!1),r.lanes=4194304);h.isBackwards?(m.sibling=r.child,r.child=m):(n=h.last,n!==null?n.sibling=m:r.child=m,h.last=m)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=wn(),r.sibling=null,n=Ct.current,se(Ct,u?n&1|2:n&1),r):(lt(r),null);case 22:case 23:return qi(r),yd(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(s&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),s=r.updateQueue,s!==null&&Fc(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==s&&(r.flags|=2048),n!==null&&ce(Ha),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Fi(It),lt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function JA(n,r){switch(id(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Fi(It),Xn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return wi(r),null;case 13:if(qi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));hl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ce(Ct),null;case 4:return Xn(),null;case 10:return Fi(r.type),null;case 22:case 23:return qi(r),yd(),n!==null&&ce(Ha),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Fi(It),null;case 25:return null;default:return null}}function s_(n,r){switch(id(r),r.tag){case 3:Fi(It),Xn();break;case 26:case 27:case 5:wi(r);break;case 4:Xn();break;case 13:qi(r);break;case 19:ce(Ct);break;case 10:Fi(r.type);break;case 22:case 23:qi(r),yd(),n!==null&&ce(Ha);break;case 24:Fi(It)}}function xl(n,r){try{var s=r.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&n)===n){u=void 0;var m=s.create,T=s.inst;u=m(),T.destroy=u}s=s.next}while(s!==h)}}catch(S){nt(r,r.return,S)}}function Nr(n,r,s){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&n)===n){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,h=r;var C=s,$=S;try{$()}catch(Z){nt(h,C,Z)}}}u=u.next}while(u!==m)}}catch(Z){nt(r,r.return,Z)}}function o_(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{Ky(r,s)}catch(u){nt(n,n.return,u)}}}function l_(n,r,s){s.props=Ga(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){nt(n,r,u)}}function Nl(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(h){nt(n,r,h)}}function ci(n,r){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){nt(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(n,r,h)}else s.current=null}function u_(n){var r=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){nt(n,n.return,h)}}function Gd(n,r,s){try{var u=n.stateNode;Ew(u,n.type,s,r),u[_t]=r}catch(h){nt(n,n.return,h)}}function c_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&jr(n.type)||n.tag===4}function $d(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||c_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&jr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Yd(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=ef));else if(u!==4&&(u===27&&jr(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(Yd(n,r,s),n=n.sibling;n!==null;)Yd(n,r,s),n=n.sibling}function Hc(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(u!==4&&(u===27&&jr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Hc(n,r,s),n=n.sibling;n!==null;)Hc(n,r,s),n=n.sibling}function f_(n){var r=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qt(r,u,s),r[At]=n,r[_t]=s}catch(m){nt(n,n.return,m)}}var Yi=!1,yt=!1,Kd=!1,h_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function ew(n,r){if(n=n.containerInfo,vm=lf,n=Sy(n),$h(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,S=-1,C=-1,$=0,Z=0,ee=n,K=null;t:for(;;){for(var Q;ee!==s||h!==0&&ee.nodeType!==3||(S=T+h),ee!==m||u!==0&&ee.nodeType!==3||(C=T+u),ee.nodeType===3&&(T+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)K=ee,ee=Q;for(;;){if(ee===n)break t;if(K===s&&++$===h&&(S=T),K===m&&++Z===u&&(C=T),(Q=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=Q}s=S===-1||C===-1?null:{start:S,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(_m={focusedElem:n,selectionRange:s},lf=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,s=r,h=m.memoizedProps,m=m.memoizedState,u=s.stateNode;try{var we=Ga(s.type,h,s.elementType===s.type);n=u.getSnapshotBeforeUpdate(we,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(_e){nt(s,s.return,_e)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)bm(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}}function d_(n,r,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Or(n,s),u&4&&xl(5,s);break;case 1:if(Or(n,s),u&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(T){nt(s,s.return,T)}else{var h=Ga(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){nt(s,s.return,T)}}u&64&&o_(s),u&512&&Nl(s,s.return);break;case 3:if(Or(n,s),u&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Ky(n,r)}catch(T){nt(s,s.return,T)}}break;case 27:r===null&&u&4&&f_(s);case 26:case 5:Or(n,s),r===null&&u&4&&u_(s),u&512&&Nl(s,s.return);break;case 12:Or(n,s);break;case 13:Or(n,s),u&4&&g_(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=uw.bind(null,s),Iw(n,s))));break;case 22:if(u=s.memoizedState!==null||Yi,!u){r=r!==null&&r.memoizedState!==null||yt,h=Yi;var m=yt;Yi=u,(yt=r)&&!m?Dr(n,s,(s.subtreeFlags&8772)!==0):Or(n,s),Yi=h,yt=m}break;case 30:break;default:Or(n,s)}}function m_(n){var r=n.alternate;r!==null&&(n.alternate=null,m_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&_r(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,un=!1;function Ki(n,r,s){for(s=s.child;s!==null;)p_(n,r,s),s=s.sibling}function p_(n,r,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ft,s)}catch{}switch(s.tag){case 26:yt||ci(s,r),Ki(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:yt||ci(s,r);var u=ot,h=un;jr(s.type)&&(ot=s.stateNode,un=!1),Ki(n,r,s),Ul(s.stateNode),ot=u,un=h;break;case 5:yt||ci(s,r);case 6:if(u=ot,h=un,ot=null,Ki(n,r,s),ot=u,un=h,ot!==null)if(un)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(m){nt(s,r,m)}else try{ot.removeChild(s.stateNode)}catch(m){nt(s,r,m)}break;case 18:ot!==null&&(un?(n=ot,i0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Yl(n)):i0(ot,s.stateNode));break;case 4:u=ot,h=un,ot=s.stateNode.containerInfo,un=!0,Ki(n,r,s),ot=u,un=h;break;case 0:case 11:case 14:case 15:yt||Nr(2,s,r),yt||Nr(4,s,r),Ki(n,r,s);break;case 1:yt||(ci(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"&&l_(s,r,u)),Ki(n,r,s);break;case 21:Ki(n,r,s);break;case 22:yt=(u=yt)||s.memoizedState!==null,Ki(n,r,s),yt=u;break;default:Ki(n,r,s)}}function g_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yl(n)}catch(s){nt(r,r.return,s)}}function tw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new h_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new h_),r;default:throw Error(a(435,n.tag))}}function Qd(n,r){var s=tw(n);r.forEach(function(u){var h=cw.bind(null,n,u);s.has(u)||(s.add(u),u.then(h,h))})}function vn(n,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],m=n,T=r,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(jr(S.type)){ot=S.stateNode,un=!1;break e}break;case 5:ot=S.stateNode,un=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,un=!0;break e}S=S.return}if(ot===null)throw Error(a(160));p_(m,T,h),ot=null,un=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)y_(r,n),r=r.sibling}var Gn=null;function y_(n,r){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:vn(r,n),_n(n),u&4&&(Nr(3,n,n.return),xl(3,n),Nr(5,n,n.return));break;case 1:vn(r,n),_n(n),u&512&&(yt||s===null||ci(s,s.return)),u&64&&Yi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=Gn;if(vn(r,n),_n(n),u&512&&(yt||s===null||ci(s,s.return)),u&4){var m=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ea]||m[At]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),qt(m,u,s),m[At]=n,pt(m),u=m;break e;case"link":var T=f0("link","href",h).get(u+(s.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(S,1);break t}}m=h.createElement(u),qt(m,u,s),h.head.appendChild(m);break;case"meta":if(T=f0("meta","content",h).get(u+(s.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(S,1);break t}}m=h.createElement(u),qt(m,u,s),h.head.appendChild(m);break;default:throw Error(a(468,u))}m[At]=n,pt(m),u=m}n.stateNode=u}else h0(h,n.type,n.stateNode);else n.stateNode=c0(h,u,n.memoizedProps);else m!==u?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,u===null?h0(h,n.type,n.stateNode):c0(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Gd(n,n.memoizedProps,s.memoizedProps)}break;case 27:vn(r,n),_n(n),u&512&&(yt||s===null||ci(s,s.return)),s!==null&&u&4&&Gd(n,n.memoizedProps,s.memoizedProps);break;case 5:if(vn(r,n),_n(n),u&512&&(yt||s===null||ci(s,s.return)),n.flags&32){h=n.stateNode;try{In(h,"")}catch(Q){nt(n,n.return,Q)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,Gd(n,h,s!==null?s.memoizedProps:h)),u&1024&&(Kd=!0);break;case 6:if(vn(r,n),_n(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(Q){nt(n,n.return,Q)}}break;case 3:if(af=null,h=Gn,Gn=nf(r.containerInfo),vn(r,n),Gn=h,_n(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Yl(r.containerInfo)}catch(Q){nt(n,n.return,Q)}Kd&&(Kd=!1,v_(n));break;case 4:u=Gn,Gn=nf(n.stateNode.containerInfo),vn(r,n),_n(n),Gn=u;break;case 12:vn(r,n),_n(n);break;case 13:vn(r,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tm=wn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Qd(n,u)));break;case 22:h=n.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,$=Yi,Z=yt;if(Yi=$||h,yt=Z||C,vn(r,n),yt=Z,Yi=$,_n(n),u&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||C||Yi||yt||$a(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){C=s=r;try{if(m=C.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=C.stateNode;var ee=C.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){nt(C,C.return,Q)}}}else if(r.tag===6){if(s===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(Q){nt(C,C.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Qd(n,s))));break;case 19:vn(r,n),_n(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Qd(n,u)));break;case 30:break;case 21:break;default:vn(r,n),_n(n)}}function _n(n){var r=n.flags;if(r&2){try{for(var s,u=n.return;u!==null;){if(c_(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=$d(n);Hc(n,m,h);break;case 5:var T=s.stateNode;s.flags&32&&(In(T,""),s.flags&=-33);var S=$d(n);Hc(n,S,T);break;case 3:case 4:var C=s.stateNode.containerInfo,$=$d(n);Yd(n,$,C);break;default:throw Error(a(161))}}catch(Z){nt(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function v_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;v_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Or(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)d_(n,r.alternate,r),r=r.sibling}function $a(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Nr(4,r,r.return),$a(r);break;case 1:ci(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&l_(r,r.return,s),$a(r);break;case 27:Ul(r.stateNode);case 26:case 5:ci(r,r.return),$a(r);break;case 22:r.memoizedState===null&&$a(r);break;case 30:$a(r);break;default:$a(r)}n=n.sibling}}function Dr(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=n,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:Dr(h,m,s),xl(4,m);break;case 1:if(Dr(h,m,s),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){nt(u,u.return,$)}if(u=m,h=u.updateQueue,h!==null){var S=u.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Yy(C[h],S)}catch($){nt(u,u.return,$)}}s&&T&64&&o_(m),Nl(m,m.return);break;case 27:f_(m);case 26:case 5:Dr(h,m,s),s&&u===null&&T&4&&u_(m),Nl(m,m.return);break;case 12:Dr(h,m,s);break;case 13:Dr(h,m,s),s&&T&4&&g_(h,m);break;case 22:m.memoizedState===null&&Dr(h,m,s),Nl(m,m.return);break;case 30:break;default:Dr(h,m,s)}r=r.sibling}}function Xd(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&pl(s))}function Wd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&pl(n))}function fi(n,r,s,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)__(n,r,s,u),r=r.sibling}function __(n,r,s,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:fi(n,r,s,u),h&2048&&xl(9,r);break;case 1:fi(n,r,s,u);break;case 3:fi(n,r,s,u),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&pl(n)));break;case 12:if(h&2048){fi(n,r,s,u),n=r.stateNode;try{var m=r.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){nt(r,r.return,C)}}else fi(n,r,s,u);break;case 13:fi(n,r,s,u);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?fi(n,r,s,u):Ol(n,r):m._visibility&2?fi(n,r,s,u):(m._visibility|=2,Gs(n,r,s,u,(r.subtreeFlags&10256)!==0)),h&2048&&Xd(T,r);break;case 24:fi(n,r,s,u),h&2048&&Wd(r.alternate,r);break;default:fi(n,r,s,u)}}function Gs(n,r,s,u,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,T=r,S=s,C=u,$=T.flags;switch(T.tag){case 0:case 11:case 15:Gs(m,T,S,C,h),xl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Gs(m,T,S,C,h):Ol(m,T):(Z._visibility|=2,Gs(m,T,S,C,h)),h&&$&2048&&Xd(T.alternate,T);break;case 24:Gs(m,T,S,C,h),h&&$&2048&&Wd(T.alternate,T);break;default:Gs(m,T,S,C,h)}r=r.sibling}}function Ol(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,u=r,h=u.flags;switch(u.tag){case 22:Ol(s,u),h&2048&&Xd(u.alternate,u);break;case 24:Ol(s,u),h&2048&&Wd(u.alternate,u);break;default:Ol(s,u)}r=r.sibling}}var Dl=8192;function $s(n){if(n.subtreeFlags&Dl)for(n=n.child;n!==null;)E_(n),n=n.sibling}function E_(n){switch(n.tag){case 26:$s(n),n.flags&Dl&&n.memoizedState!==null&&zw(Gn,n.memoizedState,n.memoizedProps);break;case 5:$s(n);break;case 3:case 4:var r=Gn;Gn=nf(n.stateNode.containerInfo),$s(n),Gn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Dl,Dl=16777216,$s(n),Dl=r):$s(n));break;default:$s(n)}}function T_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function kl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];Lt=u,S_(u,n)}T_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)b_(n),n=n.sibling}function b_(n){switch(n.tag){case 0:case 11:case 15:kl(n),n.flags&2048&&Nr(9,n,n.return);break;case 3:kl(n);break;case 12:kl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,qc(n)):kl(n);break;default:kl(n)}}function qc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];Lt=u,S_(u,n)}T_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Nr(8,r,r.return),qc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,qc(r));break;default:qc(r)}n=n.sibling}}function S_(n,r){for(;Lt!==null;){var s=Lt;switch(s.tag){case 0:case 11:case 15:Nr(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Lt=u;else e:for(s=n;Lt!==null;){u=Lt;var h=u.sibling,m=u.return;if(m_(u),u===s){Lt=null;break e}if(h!==null){h.return=m,Lt=h;break e}Lt=m}}}var nw={getCacheForType:function(n){var r=Qt(It),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s}},iw=typeof WeakMap=="function"?WeakMap:Map,Xe=0,rt=null,Ve=null,He=0,We=0,En=null,kr=!1,Ys=!1,Zd=!1,Qi=0,dt=0,Pr=0,Ya=0,Jd=0,Vn=0,Ks=0,Pl=null,cn=null,em=!1,tm=0,Gc=1/0,$c=null,Mr=null,Ht=0,Vr=null,Qs=null,Xs=0,nm=0,im=null,A_=null,Ml=0,rm=null;function Tn(){if((Xe&2)!==0&&He!==0)return He&-He;if(W.T!==null){var n=Ls;return n!==0?n:fm()}return yr()}function w_(){Vn===0&&(Vn=(He&536870912)===0||$e?qo():536870912);var n=Mn.current;return n!==null&&(n.flags|=32),Vn}function bn(n,r,s){(n===rt&&(We===2||We===9)||n.cancelPendingCommit!==null)&&(Ws(n,0),Lr(n,He,Vn,!1)),Ii(n,s),((Xe&2)===0||n!==rt)&&(n===rt&&((Xe&2)===0&&(Ya|=s),dt===4&&Lr(n,He,Vn,!1)),hi(n))}function R_(n,r,s){if((Xe&6)!==0)throw Error(a(327));var u=!s&&(r&124)===0&&(r&n.expiredLanes)===0||_a(n,r),h=u?sw(n,r):om(n,r,!0),m=u;do{if(h===0){Ys&&!u&&Lr(n,r,0,!1);break}else{if(s=n.current.alternate,m&&!rw(s)){h=om(n,r,!1),m=!1;continue}if(h===2){if(m=r,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var S=n;h=Pl;var C=S.current.memoizedState.isDehydrated;if(C&&(Ws(S,T).flags|=256),T=om(S,T,!1),T!==2){if(Zd&&!C){S.errorRecoveryDisabledLanes|=m,Ya|=m,h=4;break e}m=cn,cn=h,m!==null&&(cn===null?cn=m:cn.push.apply(cn,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){Ws(n,0),Lr(n,r,0,!0);break}e:{switch(u=n,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Lr(u,r,Vn,!kr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=tm+300-wn(),10<h)){if(Lr(u,r,Vn,!kr),ms(u,0,!0)!==0)break e;u.timeoutHandle=t0(I_.bind(null,u,s,cn,$c,em,r,Vn,Ya,Ks,kr,m,2,-0,0),h);break e}I_(u,s,cn,$c,em,r,Vn,Ya,Ks,kr,m,0,-0,0)}}break}while(!0);hi(n)}function I_(n,r,s,u,h,m,T,S,C,$,Z,ee,K,Q){if(n.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:Uw},E_(r),ee=Bw(),ee!==null)){n.cancelPendingCommit=ee(P_.bind(null,n,r,m,s,u,h,T,S,C,Z,1,K,Q)),Lr(n,m,T,!$);return}P_(n,r,m,s,u,h,T,S,C)}function rw(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],m=h.getSnapshot;h=h.value;try{if(!gn(m(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Lr(n,r,s,u){r&=~Jd,r&=~Ya,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var h=r;0<h;){var m=31-Kt(h),T=1<<m;u[m]=-1,h&=~T}s!==0&&Wn(n,s,r)}function Yc(){return(Xe&6)===0?(Vl(0),!1):!0}function am(){if(Ve!==null){if(We===0)var n=Ve.return;else n=Ve,Bi=Ba=null,bd(n),Hs=null,Rl=0,n=Ve;for(;n!==null;)s_(n.alternate,n),n=n.return;Ve=null}}function Ws(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,bw(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),am(),rt=n,Ve=s=ji(n.current,null),He=r,We=0,En=null,kr=!1,Ys=_a(n,r),Zd=!1,Ks=Vn=Jd=Ya=Pr=dt=0,cn=Pl=null,em=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var h=31-Kt(u),m=1<<h;r|=n[h],u&=~m}return Qi=r,pc(),s}function C_(n,r){Oe=null,W.H=Pc,r===yl||r===Ac?(r=Gy(),We=3):r===Fy?(r=Gy(),We=4):We=r===$v?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,Ve===null&&(dt=1,Uc(n,On(r,n.current)))}function x_(){var n=W.H;return W.H=Pc,n===null?Pc:n}function N_(){var n=W.A;return W.A=nw,n}function sm(){dt=4,kr||(He&4194048)!==He&&Mn.current!==null||(Ys=!0),(Pr&134217727)===0&&(Ya&134217727)===0||rt===null||Lr(rt,He,Vn,!1)}function om(n,r,s){var u=Xe;Xe|=2;var h=x_(),m=N_();(rt!==n||He!==r)&&($c=null,Ws(n,r)),r=!1;var T=dt;e:do try{if(We!==0&&Ve!==null){var S=Ve,C=En;switch(We){case 8:am(),T=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var $=We;if(We=0,En=null,Zs(n,S,C,$),s&&Ys){T=0;break e}break;default:$=We,We=0,En=null,Zs(n,S,C,$)}}aw(),T=dt;break}catch(Z){C_(n,Z)}while(!0);return r&&n.shellSuspendCounter++,Bi=Ba=null,Xe=u,W.H=h,W.A=m,Ve===null&&(rt=null,He=0,pc()),T}function aw(){for(;Ve!==null;)O_(Ve)}function sw(n,r){var s=Xe;Xe|=2;var u=x_(),h=N_();rt!==n||He!==r?($c=null,Gc=wn()+500,Ws(n,r)):Ys=_a(n,r);e:do try{if(We!==0&&Ve!==null){r=Ve;var m=En;t:switch(We){case 1:We=0,En=null,Zs(n,r,m,1);break;case 2:case 9:if(Hy(m)){We=0,En=null,D_(r);break}r=function(){We!==2&&We!==9||rt!==n||(We=7),hi(n)},m.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Hy(m)?(We=0,En=null,D_(r)):(We=0,En=null,Zs(n,r,m,7));break;case 5:var T=null;switch(Ve.tag){case 26:T=Ve.memoizedState;case 5:case 27:var S=Ve;if(!T||d0(T)){We=0,En=null;var C=S.sibling;if(C!==null)Ve=C;else{var $=S.return;$!==null?(Ve=$,Kc($)):Ve=null}break t}}We=0,En=null,Zs(n,r,m,5);break;case 6:We=0,En=null,Zs(n,r,m,6);break;case 8:am(),dt=6;break e;default:throw Error(a(462))}}ow();break}catch(Z){C_(n,Z)}while(!0);return Bi=Ba=null,W.H=u,W.A=h,Xe=s,Ve!==null?0:(rt=null,He=0,pc(),dt)}function ow(){for(;Ve!==null&&!zo();)O_(Ve)}function O_(n){var r=r_(n.alternate,n,Qi);n.memoizedProps=n.pendingProps,r===null?Kc(n):Ve=r}function D_(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=Zv(s,r,r.pendingProps,r.type,void 0,He);break;case 11:r=Zv(s,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:bd(r);default:s_(s,r),r=Ve=ky(r,Qi),r=r_(s,r,Qi)}n.memoizedProps=n.pendingProps,r===null?Kc(n):Ve=r}function Zs(n,r,s,u){Bi=Ba=null,bd(r),Hs=null,Rl=0;var h=r.return;try{if(XA(n,h,r,s,He)){dt=1,Uc(n,On(s,n.current)),Ve=null;return}}catch(m){if(h!==null)throw Ve=h,m;dt=1,Uc(n,On(s,n.current)),Ve=null;return}r.flags&32768?($e||u===1?n=!0:Ys||(He&536870912)!==0?n=!1:(kr=n=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),k_(r,n)):Kc(r)}function Kc(n){var r=n;do{if((r.flags&32768)!==0){k_(r,kr);return}n=r.return;var s=ZA(r.alternate,r,Qi);if(s!==null){Ve=s;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);dt===0&&(dt=5)}function k_(n,r){do{var s=JA(n.alternate,n);if(s!==null){s.flags&=32767,Ve=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=s}while(n!==null);dt=6,Ve=null}function P_(n,r,s,u,h,m,T,S,C){n.cancelPendingCommit=null;do Qc();while(Ht!==0);if((Xe&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(m=r.lanes|r.childLanes,m|=Wh,$o(n,s,m,T,S,C),n===rt&&(Ve=rt=null,He=0),Qs=r,Vr=n,Xs=s,nm=m,im=h,A_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,fw(pa,function(){return U_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,h=ue.p,ue.p=2,T=Xe,Xe|=4;try{ew(n,r,s)}finally{Xe=T,ue.p=h,W.T=u}}Ht=1,M_(),V_(),L_()}}function M_(){if(Ht===1){Ht=0;var n=Vr,r=Qs,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var u=ue.p;ue.p=2;var h=Xe;Xe|=4;try{y_(r,n);var m=_m,T=Sy(n.containerInfo),S=m.focusedElem,C=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&by(S.ownerDocument.documentElement,S)){if(C!==null&&$h(S)){var $=C.start,Z=C.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var ee=S.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var Q=K.getSelection(),we=S.textContent.length,_e=Math.min(C.start,we),tt=C.end===void 0?_e:Math.min(C.end,we);!Q.extend&&_e>tt&&(T=tt,tt=_e,_e=T);var z=Ty(S,_e),j=Ty(S,tt);if(z&&j&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var q=ee.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),_e>tt?(Q.addRange(q),Q.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),Q.addRange(q))}}}}for(ee=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}lf=!!vm,_m=vm=null}finally{Xe=h,ue.p=u,W.T=s}}n.current=r,Ht=2}}function V_(){if(Ht===2){Ht=0;var n=Vr,r=Qs,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var u=ue.p;ue.p=2;var h=Xe;Xe|=4;try{d_(n,r.alternate,r)}finally{Xe=h,ue.p=u,W.T=s}}Ht=3}}function L_(){if(Ht===4||Ht===3){Ht=0,qu();var n=Vr,r=Qs,s=Xs,u=A_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,Qs=Vr=null,j_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Mr=null),ps(s),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,h=ue.p,ue.p=2,W.T=null;try{for(var m=n.onRecoverableError,T=0;T<u.length;T++){var S=u[T];m(S.value,{componentStack:S.stack})}}finally{W.T=r,ue.p=h}}(Xs&3)!==0&&Qc(),hi(n),h=n.pendingLanes,(s&4194090)!==0&&(h&42)!==0?n===rm?Ml++:(Ml=0,rm=n):Ml=0,Vl(0)}}function j_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,pl(r)))}function Qc(n){return M_(),V_(),L_(),U_()}function U_(){if(Ht!==5)return!1;var n=Vr,r=nm;nm=0;var s=ps(Xs),u=W.T,h=ue.p;try{ue.p=32>s?32:s,W.T=null,s=im,im=null;var m=Vr,T=Xs;if(Ht=0,Qs=Vr=null,Xs=0,(Xe&6)!==0)throw Error(a(331));var S=Xe;if(Xe|=4,b_(m.current),__(m,m.current,T,s),Xe=S,Vl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ft,m)}catch{}return!0}finally{ue.p=h,W.T=u,j_(n,r)}}function z_(n,r,s){r=On(s,r),r=Vd(n.stateNode,r,2),n=Rr(n,r,2),n!==null&&(Ii(n,2),hi(n))}function nt(n,r,s){if(n.tag===3)z_(n,n,s);else for(;r!==null;){if(r.tag===3){z_(r,n,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mr===null||!Mr.has(u))){n=On(s,n),s=qv(2),u=Rr(r,s,2),u!==null&&(Gv(s,u,r,n),Ii(u,2),hi(u));break}}r=r.return}}function lm(n,r,s){var u=n.pingCache;if(u===null){u=n.pingCache=new iw;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(s)||(Zd=!0,h.add(s),n=lw.bind(null,n,r,s),r.then(n,n))}function lw(n,r,s){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,rt===n&&(He&s)===s&&(dt===4||dt===3&&(He&62914560)===He&&300>wn()-tm?(Xe&2)===0&&Ws(n,0):Jd|=s,Ks===He&&(Ks=0)),hi(n)}function B_(n,r){r===0&&(r=Go()),n=ks(n,r),n!==null&&(Ii(n,r),hi(n))}function uw(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),B_(n,s)}function cw(n,r){var s=0;switch(n.tag){case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(r),B_(n,s)}function fw(n,r){return da(n,r)}var Xc=null,Js=null,um=!1,Wc=!1,cm=!1,Ka=0;function hi(n){n!==Js&&n.next===null&&(Js===null?Xc=Js=n:Js=Js.next=n),Wc=!0,um||(um=!0,dw())}function Vl(n,r){if(!cm&&Wc){cm=!0;do for(var s=!1,u=Xc;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var T=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Kt(42|n)+1)-1,m&=h&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,G_(u,m))}else m=He,m=ms(u,u===rt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||_a(u,m)||(s=!0,G_(u,m));u=u.next}while(s);cm=!1}}function hw(){F_()}function F_(){Wc=um=!1;var n=0;Ka!==0&&(Tw()&&(n=Ka),Ka=0);for(var r=wn(),s=null,u=Xc;u!==null;){var h=u.next,m=H_(u,r);m===0?(u.next=null,s===null?Xc=h:s.next=h,h===null&&(Js=s)):(s=u,(n!==0||(m&3)!==0)&&(Wc=!0)),u=h}Vl(n)}function H_(n,r){for(var s=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Kt(m),S=1<<T,C=h[T];C===-1?((S&s)===0||(S&u)!==0)&&(h[T]=Ho(S,r)):C<=r&&(n.expiredLanes|=S),m&=~S}if(r=rt,s=He,s=ms(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===r&&(We===2||We===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ma(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||_a(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(u!==null&&ma(u),ps(s)){case 2:case 8:s=hs;break;case 32:s=pa;break;case 268435456:s=ds;break;default:s=pa}return u=q_.bind(null,n),s=da(s,u),n.callbackPriority=r,n.callbackNode=s,r}return u!==null&&u!==null&&ma(u),n.callbackPriority=2,n.callbackNode=null,2}function q_(n,r){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Qc()&&n.callbackNode!==s)return null;var u=He;return u=ms(n,n===rt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(R_(n,u,r),H_(n,wn()),n.callbackNode!=null&&n.callbackNode===s?q_.bind(null,n):null)}function G_(n,r){if(Qc())return null;R_(n,r,!0)}function dw(){Sw(function(){(Xe&6)!==0?da(Bo,hw):F_()})}function fm(){return Ka===0&&(Ka=qo()),Ka}function $_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ts(""+n)}function Y_(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function mw(n,r,s,u,h){if(r==="submit"&&s&&s.stateNode===h){var m=$_((h[_t]||null).action),T=u.submitter;T&&(r=(r=T[_t]||null)?$_(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var S=new bs("action","action",null,u,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ka!==0){var C=T?Y_(h,T):new FormData(h);Od(s,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(S.preventDefault(),C=T?Y_(h,T):new FormData(h),Od(s,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var hm=0;hm<Xh.length;hm++){var dm=Xh[hm],pw=dm.toLowerCase(),gw=dm[0].toUpperCase()+dm.slice(1);qn(pw,"on"+gw)}qn(Ry,"onAnimationEnd"),qn(Iy,"onAnimationIteration"),qn(Cy,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(kA,"onTransitionRun"),qn(PA,"onTransitionStart"),qn(MA,"onTransitionCancel"),qn(xy,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function K_(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],h=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var T=u.length-1;0<=T;T--){var S=u[T],C=S.instance,$=S.currentTarget;if(S=S.listener,C!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=$;try{m(h)}catch(Z){jc(Z)}h.currentTarget=null,m=C}else for(T=0;T<u.length;T++){if(S=u[T],C=S.instance,$=S.currentTarget,S=S.listener,C!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=$;try{m(h)}catch(Z){jc(Z)}h.currentTarget=null,m=C}}}}function Le(n,r){var s=r[Ko];s===void 0&&(s=r[Ko]=new Set);var u=n+"__bubble";s.has(u)||(Q_(r,n,2,!1),s.add(u))}function mm(n,r,s){var u=0;r&&(u|=4),Q_(s,n,u,r)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function pm(n){if(!n[Zc]){n[Zc]=!0,Qo.forEach(function(s){s!=="selectionchange"&&(yw.has(s)||mm(s,!1,n),mm(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Zc]||(r[Zc]=!0,mm("selectionchange",!1,r))}}function Q_(n,r,s,u){switch(_0(r)){case 2:var h=qw;break;case 8:h=Gw;break;default:h=xm}s=h.bind(null,r,s,n),h=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(r,s,{capture:!0,passive:h}):n.addEventListener(r,s,!0):h!==void 0?n.addEventListener(r,s,{passive:h}):n.addEventListener(r,s,!1)}function gm(n,r,s,u,h){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===h)break;if(T===4)for(T=u.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;S!==null;){if(T=Ci(S),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){u=m=T;continue e}S=S.parentNode}}u=u.return}ec(function(){var $=m,Z=Cn(s),ee=[];e:{var K=Ny.get(n);if(K!==void 0){var Q=bs,we=n;switch(n){case"keypress":if(ii(s)===0)break e;case"keydown":case"keyup":Q=Cs;break;case"focusin":we="focus",Q=ws;break;case"focusout":we="blur",Q=ws;break;case"beforeblur":case"afterblur":Q=ws;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=lc;break;case Ry:case Iy:case Cy:Q=Rs;break;case xy:Q=cc;break;case"scroll":case"scrollend":Q=tc;break;case"wheel":Q=xs;break;case"copy":case"cut":case"paste":Q=Is;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ol;break;case"toggle":case"beforetoggle":Q=hc}var _e=(r&4)!==0,tt=!_e&&(n==="scroll"||n==="scrollend"),z=_e?K!==null?K+"Capture":null:K;_e=[];for(var j=$,q;j!==null;){var J=j;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||z===null||(J=Ia(j,z),J!=null&&_e.push(jl(j,J,q))),tt)break;j=j.return}0<_e.length&&(K=new Q(K,we,null,s,Z),ee.push({event:K,listeners:_e}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",K&&s!==Di&&(we=s.relatedTarget||s.fromElement)&&(Ci(we)||we[Rn]))break e;if((Q||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(we=s.relatedTarget||s.toElement,Q=$,we=we?Ci(we):null,we!==null&&(tt=l(we),_e=we.tag,we!==tt||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(Q=null,we=$),Q!==we)){if(_e=Nn,J="onMouseLeave",z="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(_e=ol,J="onPointerLeave",z="onPointerEnter",j="pointer"),tt=Q==null?K:Jn(Q),q=we==null?K:Jn(we),K=new _e(J,j+"leave",Q,s,Z),K.target=tt,K.relatedTarget=q,J=null,Ci(Z)===$&&(_e=new _e(z,j+"enter",we,s,Z),_e.target=q,_e.relatedTarget=tt,J=_e),tt=J,Q&&we)t:{for(_e=Q,z=we,j=0,q=_e;q;q=eo(q))j++;for(q=0,J=z;J;J=eo(J))q++;for(;0<j-q;)_e=eo(_e),j--;for(;0<q-j;)z=eo(z),q--;for(;j--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=eo(_e),z=eo(z)}_e=null}else _e=null;Q!==null&&X_(ee,K,Q,_e,!1),we!==null&&tt!==null&&X_(ee,tt,we,_e,!0)}}e:{if(K=$?Jn($):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var he=py;else if(Rt(K))if(gy)he=NA;else{he=CA;var Me=IA}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&el($.elementType)&&(he=py):he=xA;if(he&&(he=he(n,$))){Li(ee,he,s,Z);break e}Me&&Me(n,K,$),n==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Tr(K,"number",K.value)}switch(Me=$?Jn($):window,n){case"focusin":(Rt(Me)||Me.contentEditable==="true")&&(Ns=Me,Yh=$,cl=null);break;case"focusout":cl=Yh=Ns=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Ay(ee,s,Z);break;case"selectionchange":if(DA)break;case"keydown":case"keyup":Ay(ee,s,Z)}var ge;if(si)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Be?X(n,s)&&(Se="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Se="onCompositionStart");Se&&(_&&s.locale!=="ko"&&(Be||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Be&&(ge=nl()):(ni=Z,br="value"in ni?ni.value:ni.textContent,Be=!0)),Me=Jc($,Se),0<Me.length&&(Se=new al(Se,n,null,s,Z),ee.push({event:Se,listeners:Me}),ge?Se.data=ge:(ge=le(s),ge!==null&&(Se.data=ge)))),(ge=y?wt(n,s):Fe(n,s))&&(Se=Jc($,"onBeforeInput"),0<Se.length&&(Me=new al("onBeforeInput","beforeinput",null,s,Z),ee.push({event:Me,listeners:Se}),Me.data=ge)),mw(ee,n,$,s,Z)}K_(ee,r)})}function jl(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Jc(n,r){for(var s=r+"Capture",u=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ia(n,s),h!=null&&u.unshift(jl(n,h,m)),h=Ia(n,r),h!=null&&u.push(jl(n,h,m))),n.tag===3)return u;n=n.return}return[]}function eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function X_(n,r,s,u,h){for(var m=r._reactName,T=[];s!==null&&s!==u;){var S=s,C=S.alternate,$=S.stateNode;if(S=S.tag,C!==null&&C===u)break;S!==5&&S!==26&&S!==27||$===null||(C=$,h?($=Ia(s,m),$!=null&&T.unshift(jl(s,$,C))):h||($=Ia(s,m),$!=null&&T.push(jl(s,$,C)))),s=s.return}T.length!==0&&n.push({event:r,listeners:T})}var vw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function W_(n){return(typeof n=="string"?n:""+n).replace(vw,`
`).replace(_w,"")}function Z_(n,r){return r=W_(r),W_(n)===r}function ef(){}function et(n,r,s,u,h,m){switch(s){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||In(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&In(n,""+u);break;case"className":ei(n,"class",u);break;case"tabIndex":ei(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(n,s,u);break;case"style":Jo(n,u,m);break;case"data":if(r!=="object"){ei(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Ts(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(r!=="input"&&et(n,r,"name",h.name,h,null),et(n,r,"formEncType",h.formEncType,h,null),et(n,r,"formMethod",h.formMethod,h,null),et(n,r,"formTarget",h.formTarget,h,null)):(et(n,r,"encType",h.encType,h,null),et(n,r,"method",h.method,h,null),et(n,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Ts(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=ef);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=Ts(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Er(n,"popover",u);break;case"xlinkActuate":zt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":zt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":zt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":zt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":zt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":zt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":zt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":zt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":zt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Er(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=zh.get(s)||s,Er(n,s,u))}}function ym(n,r,s,u,h,m){switch(s){case"style":Jo(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof u=="string"?In(n,u):(typeof u=="number"||typeof u=="bigint")&&In(n,""+u);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),m=n[_t]||null,m=m!=null?m[s]:null,typeof m=="function"&&n.removeEventListener(r,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,u,h);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):Er(n,s,u)}}}function qt(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var u=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:et(n,r,m,T,s,null)}}h&&et(n,r,"srcSet",s.srcSet,s,null),u&&et(n,r,"src",s.src,s,null);return;case"input":Le("invalid",n);var S=m=T=h=null,C=null,$=null;for(u in s)if(s.hasOwnProperty(u)){var Z=s[u];if(Z!=null)switch(u){case"name":h=Z;break;case"type":T=Z;break;case"checked":C=Z;break;case"defaultChecked":$=Z;break;case"value":m=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:et(n,r,u,Z,s,null)}}Aa(n,m,S,C,$,T,h,!1),Es(n);return;case"select":Le("invalid",n),u=T=m=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:et(n,r,h,S,s,null)}r=m,s=T,n.multiple=!!u,r!=null?Oi(n,!!u,r,!1):s!=null&&Oi(n,!!u,s,!0);return;case"textarea":Le("invalid",n),m=h=u=null;for(T in s)if(s.hasOwnProperty(T)&&(S=s[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:et(n,r,T,S,s,null)}wa(n,u,h,m),Es(n);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(u=s[C],u!=null))switch(C){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(n,r,C,u,s,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(u=0;u<Ll.length;u++)Le(Ll[u],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in s)if(s.hasOwnProperty($)&&(u=s[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:et(n,r,$,u,s,null)}return;default:if(el(r)){for(Z in s)s.hasOwnProperty(Z)&&(u=s[Z],u!==void 0&&ym(n,r,Z,u,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(u=s[S],u!=null&&et(n,r,S,u,s,null))}function Ew(n,r,s,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,S=null,C=null,$=null,Z=null;for(Q in s){var ee=s[Q];if(s.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=ee;default:u.hasOwnProperty(Q)||et(n,r,Q,null,u,ee)}}for(var K in u){var Q=u[K];if(ee=s[K],u.hasOwnProperty(K)&&(Q!=null||ee!=null))switch(K){case"type":m=Q;break;case"name":h=Q;break;case"checked":$=Q;break;case"defaultChecked":Z=Q;break;case"value":T=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:Q!==ee&&et(n,r,K,Q,u,ee)}}pn(n,T,S,C,$,Z,m,h);return;case"select":Q=T=S=K=null;for(m in s)if(C=s[m],s.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":Q=C;default:u.hasOwnProperty(m)||et(n,r,m,null,u,C)}for(h in u)if(m=u[h],C=s[h],u.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":K=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==C&&et(n,r,h,m,u,C)}r=S,s=T,u=Q,K!=null?Oi(n,!!s,K,!1):!!u!=!!s&&(r!=null?Oi(n,!!s,r,!0):Oi(n,!!s,s?[]:"",!1));return;case"textarea":Q=K=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(n,r,S,null,u,h)}for(T in u)if(h=u[T],m=s[T],u.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":K=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&et(n,r,T,h,u,m)}Ze(n,K,Q);return;case"option":for(var we in s)if(K=s[we],s.hasOwnProperty(we)&&K!=null&&!u.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:et(n,r,we,null,u,K)}for(C in u)if(K=u[C],Q=s[C],u.hasOwnProperty(C)&&K!==Q&&(K!=null||Q!=null))switch(C){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:et(n,r,C,K,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)K=s[_e],s.hasOwnProperty(_e)&&K!=null&&!u.hasOwnProperty(_e)&&et(n,r,_e,null,u,K);for($ in u)if(K=u[$],Q=s[$],u.hasOwnProperty($)&&K!==Q&&(K!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:et(n,r,$,K,u,Q)}return;default:if(el(r)){for(var tt in s)K=s[tt],s.hasOwnProperty(tt)&&K!==void 0&&!u.hasOwnProperty(tt)&&ym(n,r,tt,void 0,u,K);for(Z in u)K=u[Z],Q=s[Z],!u.hasOwnProperty(Z)||K===Q||K===void 0&&Q===void 0||ym(n,r,Z,K,u,Q);return}}for(var z in s)K=s[z],s.hasOwnProperty(z)&&K!=null&&!u.hasOwnProperty(z)&&et(n,r,z,null,u,K);for(ee in u)K=u[ee],Q=s[ee],!u.hasOwnProperty(ee)||K===Q||K==null&&Q==null||et(n,r,ee,K,u,Q)}var vm=null,_m=null;function tf(n){return n.nodeType===9?n:n.ownerDocument}function J_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Em(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tm=null;function Tw(){var n=window.event;return n&&n.type==="popstate"?n===Tm?!1:(Tm=n,!0):(Tm=null,!1)}var t0=typeof setTimeout=="function"?setTimeout:void 0,bw=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,Sw=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(n){return n0.resolve(null).then(n).catch(Aw)}:t0;function Aw(n){setTimeout(function(){throw n})}function jr(n){return n==="head"}function i0(n,r){var s=r,u=0,h=0;do{var m=s.nextSibling;if(n.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(0<u&&8>u){s=u;var T=n.ownerDocument;if(s&1&&Ul(T.documentElement),s&2&&Ul(T.body),s&4)for(s=T.head,Ul(s),T=s.firstChild;T;){var S=T.nextSibling,C=T.nodeName;T[Ea]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=S}}if(h===0){n.removeChild(m),Yl(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:u=s.charCodeAt(0)-48;else u=0;s=m}while(s);Yl(r)}function bm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":bm(s),_r(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function ww(n,r,s,u){for(;n.nodeType===1;){var h=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ea])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=$n(n.nextSibling),n===null)break}return null}function Rw(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=$n(n.nextSibling),n===null))return null;return n}function Sm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Iw(n,r){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")r();else{var u=function(){r(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function $n(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Am=null;function r0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return n;r--}else s==="/$"&&r++}n=n.previousSibling}return null}function a0(n,r,s){switch(r=tf(s),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Ul(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);_r(n)}var Ln=new Map,s0=new Set;function nf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Xi=ue.d;ue.d={f:Cw,r:xw,D:Nw,C:Ow,L:Dw,m:kw,X:Mw,S:Pw,M:Vw};function Cw(){var n=Xi.f(),r=Yc();return n||r}function xw(n){var r=Zn(n);r!==null&&r.tag===5&&r.type==="form"?Rv(r):Xi.r(n)}var to=typeof document>"u"?null:document;function o0(n,r,s){var u=to;if(u&&typeof r=="string"&&r){var h=Et(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),s0.has(h)||(s0.add(h),n={rel:n,crossOrigin:s,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),qt(r,"link",n),pt(r),u.head.appendChild(r)))}}function Nw(n){Xi.D(n),o0("dns-prefetch",n,null)}function Ow(n,r){Xi.C(n,r),o0("preconnect",n,r)}function Dw(n,r,s){Xi.L(n,r,s);var u=to;if(u&&n&&r){var h='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Et(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Et(s.imageSizes)+'"]')):h+='[href="'+Et(n)+'"]';var m=h;switch(r){case"style":m=no(n);break;case"script":m=io(n)}Ln.has(m)||(n=v({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),Ln.set(m,n),u.querySelector(h)!==null||r==="style"&&u.querySelector(zl(m))||r==="script"&&u.querySelector(Bl(m))||(r=u.createElement("link"),qt(r,"link",n),pt(r),u.head.appendChild(r)))}}function kw(n,r){Xi.m(n,r);var s=to;if(s&&n){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Et(u)+'"][href="'+Et(n)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=io(n)}if(!Ln.has(m)&&(n=v({rel:"modulepreload",href:n},r),Ln.set(m,n),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bl(m)))return}u=s.createElement("link"),qt(u,"link",n),pt(u),s.head.appendChild(u)}}}function Pw(n,r,s){Xi.S(n,r,s);var u=to;if(u&&n){var h=rn(u).hoistableStyles,m=no(n);r=r||"default";var T=h.get(m);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(zl(m)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},s),(s=Ln.get(m))&&wm(n,s);var C=T=u.createElement("link");pt(C),qt(C,"link",n),C._p=new Promise(function($,Z){C.onload=$,C.onerror=Z}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,rf(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:S},h.set(m,T)}}}function Mw(n,r){Xi.X(n,r);var s=to;if(s&&n){var u=rn(s).hoistableScripts,h=io(n),m=u.get(h);m||(m=s.querySelector(Bl(h)),m||(n=v({src:n,async:!0},r),(r=Ln.get(h))&&Rm(n,r),m=s.createElement("script"),pt(m),qt(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function Vw(n,r){Xi.M(n,r);var s=to;if(s&&n){var u=rn(s).hoistableScripts,h=io(n),m=u.get(h);m||(m=s.querySelector(Bl(h)),m||(n=v({src:n,async:!0,type:"module"},r),(r=Ln.get(h))&&Rm(n,r),m=s.createElement("script"),pt(m),qt(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function l0(n,r,s,u){var h=(h=Ie.current)?nf(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=no(s.href),s=rn(h).hoistableStyles,u=s.get(r),u||(u={type:"style",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=no(s.href);var m=rn(h).hoistableStyles,T=m.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=h.querySelector(zl(n)))&&!m._p&&(T.instance=m,T.state.loading=5),Ln.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ln.set(n,s),m||Lw(h,n,s,T.state))),r&&u===null)throw Error(a(528,""));return T}if(r&&u!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(s),s=rn(h).hoistableScripts,u=s.get(r),u||(u={type:"script",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function no(n){return'href="'+Et(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function u0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function Lw(n,r,s,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),qt(r,"link",s),pt(r),n.head.appendChild(r))}function io(n){return'[src="'+Et(n)+'"]'}function Bl(n){return"script[async]"+n}function c0(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Et(s.href)+'"]');if(u)return r.instance=u,pt(u),u;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),pt(u),qt(u,"style",h),rf(u,s.precedence,n),r.instance=u;case"stylesheet":h=no(s.href);var m=n.querySelector(zl(h));if(m)return r.state.loading|=4,r.instance=m,pt(m),m;u=u0(s),(h=Ln.get(h))&&wm(u,h),m=(n.ownerDocument||n).createElement("link"),pt(m);var T=m;return T._p=new Promise(function(S,C){T.onload=S,T.onerror=C}),qt(m,"link",u),r.state.loading|=4,rf(m,s.precedence,n),r.instance=m;case"script":return m=io(s.src),(h=n.querySelector(Bl(m)))?(r.instance=h,pt(h),h):(u=s,(h=Ln.get(m))&&(u=v({},s),Rm(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),pt(h),qt(h,"link",u),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,rf(u,s.precedence,n));return r.instance}function rf(n,r,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===r)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function wm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Rm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var af=null;function f0(n,r,s){if(af===null){var u=new Map,h=af=new Map;h.set(s,u)}else h=af,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),h=0;h<s.length;h++){var m=s[h];if(!(m[Ea]||m[At]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=n+T;var S=u.get(T);S?S.push(m):u.set(T,[m])}}return u}function h0(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function jw(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function d0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Fl=null;function Uw(){}function zw(n,r,s){if(Fl===null)throw Error(a(475));var u=Fl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=no(s.href),m=n.querySelector(zl(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=sf.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=m,pt(m);return}m=n.ownerDocument||n,s=u0(s),(h=Ln.get(h))&&wm(s,h),m=m.createElement("link"),pt(m);var T=m;T._p=new Promise(function(S,C){T.onload=S,T.onerror=C}),qt(m,"link",s),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=sf.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function Bw(){if(Fl===null)throw Error(a(475));var n=Fl;return n.stylesheets&&n.count===0&&Im(n,n.stylesheets),0<n.count?function(r){var s=setTimeout(function(){if(n.stylesheets&&Im(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(s)}}:null}function sf(){if(this.count--,this.count===0){if(this.stylesheets)Im(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var of=null;function Im(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,of=new Map,r.forEach(Fw,n),of=null,sf.call(n))}function Fw(n,r){if(!(r.state.loading&4)){var s=of.get(n);if(s)var u=s.get(null);else{s=new Map,of.set(n,s);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),u=T)}u&&s.set(null,u)}h=r.instance,T=h.getAttribute("data-precedence"),m=s.get(T)||u,m===u&&s.set(null,h),s.set(T,h),this.count++,u=sf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Hl={$$typeof:G,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Hw(n,r,s,u,h,m,T,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function m0(n,r,s,u,h,m,T,S,C,$,Z,ee){return n=new Hw(n,r,s,T,S,C,$,ee),r=1,m===!0&&(r|=24),m=yn(3,null,null,r),n.current=m,m.stateNode=n,r=ld(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:s,cache:r},hd(m),n}function p0(n){return n?(n=Ps,n):Ps}function g0(n,r,s,u,h,m){h=p0(h),u.context===null?u.context=h:u.pendingContext=h,u=wr(r),u.payload={element:s},m=m===void 0?null:m,m!==null&&(u.callback=m),s=Rr(n,u,r),s!==null&&(bn(s,n,r),_l(s,n,r))}function y0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Cm(n,r){y0(n,r),(n=n.alternate)&&y0(n,r)}function v0(n){if(n.tag===13){var r=ks(n,67108864);r!==null&&bn(r,n,67108864),Cm(n,67108864)}}var lf=!0;function qw(n,r,s,u){var h=W.T;W.T=null;var m=ue.p;try{ue.p=2,xm(n,r,s,u)}finally{ue.p=m,W.T=h}}function Gw(n,r,s,u){var h=W.T;W.T=null;var m=ue.p;try{ue.p=8,xm(n,r,s,u)}finally{ue.p=m,W.T=h}}function xm(n,r,s,u){if(lf){var h=Nm(u);if(h===null)gm(n,r,u,uf,s),E0(n,u);else if(Yw(h,n,r,s,u))u.stopPropagation();else if(E0(n,u),r&4&&-1<$w.indexOf(n)){for(;h!==null;){var m=Zn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Bn(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var C=1<<31-Kt(T);S.entanglements[1]|=C,T&=~C}hi(m),(Xe&6)===0&&(Gc=wn()+500,Vl(0))}}break;case 13:S=ks(m,2),S!==null&&bn(S,m,2),Yc(),Cm(m,2)}if(m=Nm(u),m===null&&gm(n,r,u,uf,s),m===h)break;h=m}h!==null&&u.stopPropagation()}else gm(n,r,u,null,s)}}function Nm(n){return n=Cn(n),Om(n)}var uf=null;function Om(n){if(uf=null,n=Ci(n),n!==null){var r=l(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=f(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return uf=n,null}function _0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ph()){case Bo:return 2;case hs:return 8;case pa:case Mh:return 32;case ds:return 268435456;default:return 32}default:return 32}}var Dm=!1,Ur=null,zr=null,Br=null,ql=new Map,Gl=new Map,Fr=[],$w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E0(n,r){switch(n){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":ql.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(r.pointerId)}}function $l(n,r,s,u,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Zn(r),r!==null&&v0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function Yw(n,r,s,u,h){switch(r){case"focusin":return Ur=$l(Ur,n,r,s,u,h),!0;case"dragenter":return zr=$l(zr,n,r,s,u,h),!0;case"mouseover":return Br=$l(Br,n,r,s,u,h),!0;case"pointerover":var m=h.pointerId;return ql.set(m,$l(ql.get(m)||null,n,r,s,u,h)),!0;case"gotpointercapture":return m=h.pointerId,Gl.set(m,$l(Gl.get(m)||null,n,r,s,u,h)),!0}return!1}function T0(n){var r=Ci(n.target);if(r!==null){var s=l(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){n.blockedOn=r,Yu(n.priority,function(){if(s.tag===13){var u=Tn();u=gr(u);var h=ks(s,u);h!==null&&bn(h,s,u),Cm(s,u)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cf(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=Nm(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);Di=u,s.target.dispatchEvent(u),Di=null}else return r=Zn(s),r!==null&&v0(r),n.blockedOn=s,!1;r.shift()}return!0}function b0(n,r,s){cf(n)&&s.delete(r)}function Kw(){Dm=!1,Ur!==null&&cf(Ur)&&(Ur=null),zr!==null&&cf(zr)&&(zr=null),Br!==null&&cf(Br)&&(Br=null),ql.forEach(b0),Gl.forEach(b0)}function ff(n,r){n.blockedOn===r&&(n.blockedOn=null,Dm||(Dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Kw)))}var hf=null;function S0(n){hf!==n&&(hf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hf===n&&(hf=null);for(var r=0;r<n.length;r+=3){var s=n[r],u=n[r+1],h=n[r+2];if(typeof u!="function"){if(Om(u||s)===null)continue;break}var m=Zn(s);m!==null&&(n.splice(r,3),r-=3,Od(m,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function Yl(n){function r(C){return ff(C,n)}Ur!==null&&ff(Ur,n),zr!==null&&ff(zr,n),Br!==null&&ff(Br,n),ql.forEach(r),Gl.forEach(r);for(var s=0;s<Fr.length;s++){var u=Fr[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Fr.length&&(s=Fr[0],s.blockedOn===null);)T0(s),s.blockedOn===null&&Fr.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],m=s[u+1],T=h[_t]||null;if(typeof m=="function")T||S0(s);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[_t]||null)S=T.formAction;else if(Om(h)!==null)continue}else S=T.action;typeof S=="function"?s[u+1]=S:(s.splice(u,3),u-=3),S0(s)}}}function km(n){this._internalRoot=n}df.prototype.render=km.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,u=Tn();g0(s,u,n,r,null,null)},df.prototype.unmount=km.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;g0(n.current,2,null,n,null,null),Yc(),r[Rn]=null}};function df(n){this._internalRoot=n}df.prototype.unstable_scheduleHydration=function(n){if(n){var r=yr();n={blockedOn:null,target:n,priority:r};for(var s=0;s<Fr.length&&r!==0&&r<Fr[s].priority;s++);Fr.splice(s,0,n),s===0&&T0(n)}};var A0=e.version;if(A0!=="19.1.0")throw Error(a(527,A0,"19.1.0"));ue.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Qw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{ft=mf.inject(Qw),Qe=mf}catch{}}return Ql.createRoot=function(n,r){if(!o(n))throw Error(a(299));var s=!1,u="",h=zv,m=Bv,T=Fv,S=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=m0(n,1,!1,null,null,s,u,h,m,T,S,null),n[Rn]=r.current,pm(n),new km(r)},Ql.hydrateRoot=function(n,r,s){if(!o(n))throw Error(a(299));var u=!1,h="",m=zv,T=Bv,S=Fv,C=null,$=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&($=s.formState)),r=m0(n,1,!0,r,s??null,u,h,m,T,S,C,$),r.context=p0(null),s=r.current,u=Tn(),u=gr(u),h=wr(u),h.callback=null,Rr(s,h,u),s=u,r.current.lanes=s,Ii(r,s),hi(r),n[Rn]=r.current,pm(n),new df(r)},Ql.version="19.1.0",Ql}var P0;function aR(){if(P0)return Vm.exports;P0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vm.exports=rR(),Vm.exports}var sR=aR(),Xl={},M0;function oR(){if(M0)return Xl;M0=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.parse=f,Xl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,P){const x=new l,H=A.length;if(H<2)return x;const U=(P==null?void 0:P.decode)||v;let Y=0;do{const O=A.indexOf("=",Y);if(O===-1)break;const G=A.indexOf(";",Y),ne=G===-1?H:G;if(O>ne){Y=A.lastIndexOf(";",O-1)+1;continue}const oe=d(A,Y,O),de=p(A,O,oe),M=A.slice(oe,de);if(x[M]===void 0){let R=d(A,O+1,ne),I=p(A,ne,R);const k=U(A.slice(R,I));x[M]=k}Y=ne+1}while(Y<H);return x}function d(A,P,x){do{const H=A.charCodeAt(P);if(H!==32&&H!==9)return P}while(++P<x);return x}function p(A,P,x){for(;P>x;){const H=A.charCodeAt(--P);if(H!==32&&H!==9)return P+1}return x}function g(A,P,x){const H=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const U=H(P);if(!e.test(U))throw new TypeError(`argument val is invalid: ${P}`);let Y=A+"="+U;if(!x)return Y;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);Y+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);Y+="; Domain="+x.domain}if(x.path){if(!a.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);Y+="; Path="+x.path}if(x.expires){if(!b(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);Y+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(Y+="; HttpOnly"),x.secure&&(Y+="; Secure"),x.partitioned&&(Y+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return Y}function v(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return o.call(A)==="[object Date]"}return Xl}oR();var V0="popstate";function lR(i={}){function e(a,o){let{pathname:l,search:f,hash:d}=a.location;return cp("",{pathname:l,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:hu(o)}return cR(e,t,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ei(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substring(2,10)}function L0(i,e){return{usr:i.state,key:i.key,idx:e}}function cp(i,e,t=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:t,key:e&&e.key||a||uR()}}function hu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function No(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function cR(i,e,t,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,f=o.history,d="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function b(){d="POP";let U=v(),Y=U==null?null:U-g;g=U,p&&p({action:d,location:H.location,delta:Y})}function A(U,Y){d="PUSH";let O=cp(H.location,U,Y);g=v()+1;let G=L0(O,g),ne=H.createHref(O);try{f.pushState(G,"",ne)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ne)}l&&p&&p({action:d,location:H.location,delta:1})}function P(U,Y){d="REPLACE";let O=cp(H.location,U,Y);g=v();let G=L0(O,g),ne=H.createHref(O);f.replaceState(G,"",ne),l&&p&&p({action:d,location:H.location,delta:0})}function x(U){return fR(U)}let H={get action(){return d},get location(){return i(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(V0,b),p=U,()=>{o.removeEventListener(V0,b),p=null}},createHref(U){return e(o,U)},createURL:x,encodeLocation(U){let Y=x(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:P,go(U){return f.go(U)}};return H}function fR(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:hu(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function ZT(i,e,t="/"){return hR(i,e,t,!1)}function hR(i,e,t,a){let o=typeof e=="string"?No(e):e,l=ir(o.pathname||"/",t);if(l==null)return null;let f=JT(i);dR(f);let d=null;for(let p=0;d==null&&p<f.length;++p){let g=AR(l);d=bR(f[p],g,a)}return d}function JT(i,e=[],t=[],a=""){let o=(l,f,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=er([a,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),JT(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:ER(g,l.index),routesMeta:v})};return i.forEach((l,f)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,f);else for(let p of eb(l.path))o(l,f,p)}),e}function eb(i){let e=i.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let f=eb(a.join("/")),d=[];return d.push(...f.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...f),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function dR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:TR(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var mR=/^:[\w-]+$/,pR=3,gR=2,yR=1,vR=10,_R=-2,j0=i=>i==="*";function ER(i,e){let t=i.split("/"),a=t.length;return t.some(j0)&&(a+=_R),e&&(a+=gR),t.filter(o=>!j0(o)).reduce((o,l)=>o+(mR.test(l)?pR:l===""?yR:vR),a)}function TR(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function bR(i,e,t=!1){let{routesMeta:a}=i,o={},l="/",f=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=jf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),A=p.route;if(!b&&g&&t&&!a[a.length-1].route.index&&(b=jf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:er([l,b.pathname]),pathnameBase:CR(er([l,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(l=er([l,b.pathnameBase]))}return f}function jf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,a]=SR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],f=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:b},A)=>{if(v==="*"){let x=d[A]||"";f=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const P=d[A];return b&&!P?g[v]=void 0:g[v]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:f,pattern:i}}function SR(i,e=!1,t=!0){Ei(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function AR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ir(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=i.charAt(t);return a&&a!=="/"?null:i.slice(t)||"/"}function wR(i,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof i=="string"?No(i):i;return{pathname:t?t.startsWith("/")?t:RR(t,e):e,search:xR(a),hash:NR(o)}}function RR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function zm(i,e,t,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tb(i){let e=IR(i);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function nb(i,e,t,a=!1){let o;typeof i=="string"?o=No(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),zm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),zm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),zm("#","search","hash",o)));let l=i===""||o.pathname==="",f=l?"/":o.pathname,d;if(f==null)d=t;else{let b=e.length-1;if(!a&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}d=b>=0?e[b]:"/"}let p=wR(o,d),g=f&&f!=="/"&&f.endsWith("/"),v=(l||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var er=i=>i.join("/").replace(/\/\/+/g,"/"),CR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),xR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,NR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function OR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var ib=["POST","PUT","PATCH","DELETE"];new Set(ib);var DR=["GET",...ib];new Set(DR);var Oo=D.createContext(null);Oo.displayName="DataRouter";var uh=D.createContext(null);uh.displayName="DataRouterState";var rb=D.createContext({isTransitioning:!1});rb.displayName="ViewTransition";var kR=D.createContext(new Map);kR.displayName="Fetchers";var PR=D.createContext(null);PR.displayName="Await";var Si=D.createContext(null);Si.displayName="Navigation";var Cu=D.createContext(null);Cu.displayName="Location";var Ai=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var ag=D.createContext(null);ag.displayName="RouteError";function MR(i,{relative:e}={}){ut(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=D.useContext(Si),{hash:o,pathname:l,search:f}=Nu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:er([t,l])),a.createHref({pathname:d,search:f,hash:o})}function xu(){return D.useContext(Cu)!=null}function cr(){return ut(xu(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Cu).location}var ab="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sb(i){D.useContext(Si).static||D.useLayoutEffect(i)}function fr(){let{isDataRoute:i}=D.useContext(Ai);return i?KR():VR()}function VR(){ut(xu(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(Oo),{basename:e,navigator:t}=D.useContext(Si),{matches:a}=D.useContext(Ai),{pathname:o}=cr(),l=JSON.stringify(tb(a)),f=D.useRef(!1);return sb(()=>{f.current=!0}),D.useCallback((p,g={})=>{if(Ei(f.current,ab),!f.current)return;if(typeof p=="number"){t.go(p);return}let v=nb(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:er([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,o,i])}D.createContext(null);function ch(){let{matches:i}=D.useContext(Ai),e=i[i.length-1];return e?e.params:{}}function Nu(i,{relative:e}={}){let{matches:t}=D.useContext(Ai),{pathname:a}=cr(),o=JSON.stringify(tb(t));return D.useMemo(()=>nb(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function LR(i,e){return ob(i,e)}function ob(i,e,t,a){var Y;ut(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(Si),{matches:l}=D.useContext(Ai),f=l[l.length-1],d=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let O=v&&v.path||"";lb(p,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=cr(),A;if(e){let O=typeof e=="string"?No(e):e;ut(g==="/"||((Y=O.pathname)==null?void 0:Y.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${O.pathname}" was given in the \`location\` prop.`),A=O}else A=b;let P=A.pathname||"/",x=P;if(g!=="/"){let O=g.replace(/^\//,"").split("/");x="/"+P.replace(/^\//,"").split("/").slice(O.length).join("/")}let H=ZT(i,{pathname:x});Ei(v||H!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ei(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=FR(H&&H.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:er([g,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:er([g,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,t,a);return e&&U?D.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},U):U}function jR(){let i=YR(),e=OR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:o},t):null,f)}var UR=D.createElement(jR,null),zR=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?D.createElement(Ai.Provider,{value:this.props.routeContext},D.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BR({routeContext:i,match:e,children:t}){let a=D.useContext(Oo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Ai.Provider,{value:i},t)}function FR(i,e=[],t=null,a=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:b}=t,A=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||A){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let b,A=!1,P=null,x=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,P=g.route.errorElement||UR,f&&(d<0&&v===0?(lb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,x=null):d===v&&(A=!0,x=g.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,v+1)),U=()=>{let Y;return b?Y=P:A?Y=x:g.route.Component?Y=D.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,D.createElement(BR,{match:g,routeContext:{outlet:p,matches:H,isDataRoute:t!=null},children:Y})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?D.createElement(zR,{location:t.location,revalidation:t.revalidation,component:P,error:b,children:U(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):U()},null)}function sg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(i){let e=D.useContext(Oo);return ut(e,sg(i)),e}function qR(i){let e=D.useContext(uh);return ut(e,sg(i)),e}function GR(i){let e=D.useContext(Ai);return ut(e,sg(i)),e}function og(i){let e=GR(i),t=e.matches[e.matches.length-1];return ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function $R(){return og("useRouteId")}function YR(){var a;let i=D.useContext(ag),e=qR("useRouteError"),t=og("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[t]}function KR(){let{router:i}=HR("useNavigate"),e=og("useNavigate"),t=D.useRef(!1);return sb(()=>{t.current=!0}),D.useCallback(async(o,l={})=>{Ei(t.current,ab),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var U0={};function lb(i,e,t){!e&&!U0[i]&&(U0[i]=!0,Ei(!1,t))}D.memo(QR);function QR({routes:i,future:e,state:t}){return ob(i,void 0,t,e)}function fn(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XR({basename:i="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:l=!1}){ut(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:f,navigator:o,static:l,future:{}}),[f,o,l]);typeof t=="string"&&(t=No(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:A="default"}=t,P=D.useMemo(()=>{let x=ir(p,f);return x==null?null:{location:{pathname:x,search:g,hash:v,state:b,key:A},navigationType:a}},[f,p,g,v,b,A,a]);return Ei(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:D.createElement(Si.Provider,{value:d},D.createElement(Cu.Provider,{children:e,value:P}))}function WR({children:i,location:e}){return LR(fp(i),e)}function fp(i,e=[]){let t=[];return D.Children.forEach(i,(a,o)=>{if(!D.isValidElement(a))return;let l=[...e,o];if(a.type===D.Fragment){t.push.apply(t,fp(a.props.children,l));return}ut(a.type===fn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=fp(a.props.children,l)),t.push(f)}),t}var wf="get",Rf="application/x-www-form-urlencoded";function fh(i){return i!=null&&typeof i.tagName=="string"}function ZR(i){return fh(i)&&i.tagName.toLowerCase()==="button"}function JR(i){return fh(i)&&i.tagName.toLowerCase()==="form"}function eI(i){return fh(i)&&i.tagName.toLowerCase()==="input"}function tI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function nI(i,e){return i.button===0&&(!e||e==="_self")&&!tI(i)}var pf=null;function iI(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var rI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(i){return i!=null&&!rI.has(i)?(Ei(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):i}function aI(i,e){let t,a,o,l,f;if(JR(i)){let d=i.getAttribute("action");a=d?ir(d,e):null,t=i.getAttribute("method")||wf,o=Bm(i.getAttribute("enctype"))||Rf,l=new FormData(i)}else if(ZR(i)||eI(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(a=p?ir(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||wf,o=Bm(i.getAttribute("formenctype"))||Bm(d.getAttribute("enctype"))||Rf,l=new FormData(d,i),!iI()){let{name:g,type:v,value:b}=i;if(v==="image"){let A=g?`${g}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else g&&l.append(g,b)}}else{if(fh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wf,a=null,o=Rf,f=i}return l&&o==="text/plain"&&(f=l,l=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:l,body:f}}function lg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function sI(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function lI(i,e,t){let a=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let f=await sI(l,t);return f.links?f.links():[]}return[]}));return hI(a.flat(1).filter(oI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function z0(i,e,t,a,o,l){let f=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>f(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var b;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function uI(i,e,{includeHydrateFallback:t}={}){return cI(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function cI(i){return[...new Set(i)]}function fI(i){let e={},t=Object.keys(i).sort();for(let a of t)e[a]=i[a];return e}function hI(i,e){let t=new Set;return new Set(e),i.reduce((a,o)=>{let l=JSON.stringify(fI(o));return t.has(l)||(t.add(l),a.push({key:l,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dI=new Set([100,101,204,205]);function mI(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&ir(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ub(){let i=D.useContext(Oo);return lg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function pI(){let i=D.useContext(uh);return lg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ug=D.createContext(void 0);ug.displayName="FrameworkContext";function cb(){let i=D.useContext(ug);return lg(i,"You must render this element inside a <HydratedRouter> element"),i}function gI(i,e){let t=D.useContext(ug),[a,o]=D.useState(!1),[l,f]=D.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,A=D.useRef(null);D.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let H=Y=>{Y.forEach(O=>{f(O.isIntersecting)})},U=new IntersectionObserver(H,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[i]),D.useEffect(()=>{if(a){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[a]);let P=()=>{o(!0)},x=()=>{o(!1),f(!1)};return t?i!=="intent"?[l,A,{}]:[l,A,{onFocus:Wl(d,P),onBlur:Wl(p,x),onMouseEnter:Wl(g,P),onMouseLeave:Wl(v,x),onTouchStart:Wl(b,P)}]:[!1,A,{}]}function Wl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function yI({page:i,...e}){let{router:t}=ub(),a=D.useMemo(()=>ZT(t.routes,i,t.basename),[t.routes,i,t.basename]);return a?D.createElement(_I,{page:i,matches:a,...e}):null}function vI(i){let{manifest:e,routeModules:t}=cb(),[a,o]=D.useState([]);return D.useEffect(()=>{let l=!1;return lI(i,e,t).then(f=>{l||o(f)}),()=>{l=!0}},[i,e,t]),a}function _I({page:i,matches:e,...t}){let a=cr(),{manifest:o,routeModules:l}=cb(),{basename:f}=ub(),{loaderData:d,matches:p}=pI(),g=D.useMemo(()=>z0(i,e,p,o,a,"data"),[i,e,p,o,a]),v=D.useMemo(()=>z0(i,e,p,o,a,"assets"),[i,e,p,o,a]),b=D.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let x=new Set,H=!1;if(e.forEach(Y=>{var G;let O=o.routes[Y.route.id];!O||!O.hasLoader||(!g.some(ne=>ne.route.id===Y.route.id)&&Y.route.id in d&&((G=l[Y.route.id])!=null&&G.shouldRevalidate)||O.hasClientLoader?H=!0:x.add(Y.route.id))}),x.size===0)return[];let U=mI(i,f);return H&&x.size>0&&U.searchParams.set("_routes",e.filter(Y=>x.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[f,d,a,o,g,e,i,l]),A=D.useMemo(()=>uI(v,o),[v,o]),P=vI(v);return D.createElement(D.Fragment,null,b.map(x=>D.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),A.map(x=>D.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),P.map(({key:x,link:H})=>D.createElement("link",{key:x,...H})))}function EI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fb&&(window.__reactRouterVersion="7.6.2")}catch{}function TI({basename:i,children:e,window:t}){let a=D.useRef();a.current==null&&(a.current=lR({window:t,v5Compat:!0}));let o=a.current,[l,f]=D.useState({action:o.action,location:o.location}),d=D.useCallback(p=>{D.startTransition(()=>f(p))},[f]);return D.useLayoutEffect(()=>o.listen(d),[o,d]),D.createElement(XR,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=D.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:l,replace:f,state:d,target:p,to:g,preventScrollReset:v,viewTransition:b,...A},P){let{basename:x}=D.useContext(Si),H=typeof g=="string"&&hb.test(g),U,Y=!1;if(typeof g=="string"&&H&&(U=g,fb))try{let I=new URL(window.location.href),k=g.startsWith("//")?new URL(I.protocol+g):new URL(g),L=ir(k.pathname,x);k.origin===I.origin&&L!=null?g=L+k.search+k.hash:Y=!0}catch{Ei(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=MR(g,{relative:o}),[G,ne,oe]=gI(a,A),de=wI(g,{replace:f,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:b});function M(I){e&&e(I),I.defaultPrevented||de(I)}let R=D.createElement("a",{...A,...oe,href:U||O,onClick:Y||l?e:M,ref:EI(P,ne),target:p,"data-discover":!H&&t==="render"?"true":void 0});return G&&!H?D.createElement(D.Fragment,null,R,D.createElement(yI,{page:O})):R});Zt.displayName="Link";var bI=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:l,to:f,viewTransition:d,children:p,...g},v){let b=Nu(f,{relative:g.relative}),A=cr(),P=D.useContext(uh),{navigator:x,basename:H}=D.useContext(Si),U=P!=null&&NI(b)&&d===!0,Y=x.encodeLocation?x.encodeLocation(b).pathname:b.pathname,O=A.pathname,G=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(O=O.toLowerCase(),G=G?G.toLowerCase():null,Y=Y.toLowerCase()),G&&H&&(G=ir(G,H)||G);const ne=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let oe=O===Y||!o&&O.startsWith(Y)&&O.charAt(ne)==="/",de=G!=null&&(G===Y||!o&&G.startsWith(Y)&&G.charAt(Y.length)==="/"),M={isActive:oe,isPending:de,isTransitioning:U},R=oe?e:void 0,I;typeof a=="function"?I=a(M):I=[a,oe?"active":null,de?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(M):l;return D.createElement(Zt,{...g,"aria-current":R,className:I,ref:v,style:k,to:f,viewTransition:d},typeof p=="function"?p(M):p)});bI.displayName="NavLink";var SI=D.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:l,method:f=wf,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...A},P)=>{let x=CI(),H=xI(d,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&hb.test(d),O=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let ne=G.nativeEvent.submitter,oe=(ne==null?void 0:ne.getAttribute("formmethod"))||f;x(ne||G.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:o,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return D.createElement("form",{ref:P,method:U,action:H,onSubmit:a?p:O,...A,"data-discover":!Y&&i==="render"?"true":void 0})});SI.displayName="Form";function AI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function db(i){let e=D.useContext(Oo);return ut(e,AI(i)),e}function wI(i,{target:e,replace:t,state:a,preventScrollReset:o,relative:l,viewTransition:f}={}){let d=fr(),p=cr(),g=Nu(i,{relative:l});return D.useCallback(v=>{if(nI(v,e)){v.preventDefault();let b=t!==void 0?t:hu(p)===hu(g);d(i,{replace:b,state:a,preventScrollReset:o,relative:l,viewTransition:f})}},[p,d,g,t,a,e,i,o,l,f])}var RI=0,II=()=>`__${String(++RI)}__`;function CI(){let{router:i}=db("useSubmit"),{basename:e}=D.useContext(Si),t=$R();return D.useCallback(async(a,o={})=>{let{action:l,method:f,encType:d,formData:p,body:g}=aI(a,e);if(o.navigate===!1){let v=o.fetcherKey||II();await i.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function xI(i,{relative:e}={}){let{basename:t}=D.useContext(Si),a=D.useContext(Ai);ut(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...Nu(i||".",{relative:e})},f=cr();if(i==null){l.search=f.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:er([t,l.pathname])),hu(l)}function NI(i,e={}){let t=D.useContext(rb);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=db("useViewTransitionState"),o=Nu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ir(t.currentLocation.pathname,a)||t.currentLocation.pathname,f=ir(t.nextLocation.pathname,a)||t.nextLocation.pathname;return jf(o.pathname,f)!=null||jf(o.pathname,l)!=null}[...dI];const OI=()=>{};var B0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=function(i){const e=[];let t=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},DI=function(i){const e=[];let t=0,a=0;for(;t<i.length;){const o=i[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],f=i[t++],d=i[t++],p=((o&7)<<18|(l&63)<<12|(f&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],f=i[t++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|f&63)}}return e.join("")},pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const l=i[o],f=o+1<i.length,d=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let A=(d&15)<<2|g>>6,P=g&63;p||(P=64,f||(A=64)),a.push(t[v],t[b],t[A],t[P])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(mb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):DI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||d==null||g==null||b==null)throw new kI;const A=l<<2|d>>4;if(a.push(A),g!==64){const P=d<<4&240|g>>2;if(a.push(P),b!==64){const x=g<<6&192|b;a.push(x)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PI=function(i){const e=mb(i);return pb.encodeByteArray(e,!0)},Uf=function(i){return PI(i).replace(/\./g,"")},gb=function(i){try{return pb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=()=>MI().__FIREBASE_DEFAULTS__,LI=()=>{if(typeof process>"u"||typeof B0>"u")return;const i=B0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},jI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&gb(i[1]);return e&&JSON.parse(e)},hh=()=>{try{return OI()||VI()||LI()||jI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},yb=i=>{var e,t;return(t=(e=hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},UI=i=>{const e=yb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},vb=()=>{var i;return(i=hh())===null||i===void 0?void 0:i.config},_b=i=>{var e;return(e=hh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(i){return i.endsWith(".cloudworkstations.dev")}async function Eb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Uf(JSON.stringify(t)),Uf(JSON.stringify(f)),""].join(".")}const ru={};function FI(){const i={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?i.emulator.push(e):i.prod.push(e);return i}function HI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let F0=!1;function Tb(i,e){if(typeof window>"u"||typeof document>"u"||!Do(window.location.host)||ru[i]===e||ru[i]||F0)return;ru[i]=e;function t(A){return`__firebase__banner__${A}`}const a="__firebase__banner",l=FI().prod.length>0;function f(){const A=document.getElementById(a);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,P){A.setAttribute("width","24"),A.setAttribute("id",P),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{F0=!0,f()},A}function v(A,P){A.setAttribute("id",P),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=HI(a),P=t("text"),x=document.getElementById(P)||document.createElement("span"),H=t("learnmore"),U=document.getElementById(H)||document.createElement("a"),Y=t("preprendIcon"),O=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const G=A.element;d(G),v(U,H);const ne=g();p(O,Y),G.append(O,x,U,ne),document.body.appendChild(G)}l?(x.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function GI(){var i;const e=(i=hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $I(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function KI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QI(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function XI(){return!GI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function ZI(){return new Promise((i,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="FirebaseError";class hr extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=JI,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],f=l?eC(l,a):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new hr(o,d,a)}}function eC(i,e){return i.replace(tC,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const tC=/\{\$([^}]+)}/g;function nC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ja(i,e){if(i===e)return!0;const t=Object.keys(i),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const l=i[o],f=e[o];if(H0(l)&&H0(f)){if(!Ja(l,f))return!1}else if(l!==f)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function H0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(i){const e=[];for(const[t,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,l]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Jl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function iC(i,e){const t=new rC(i,e);return t.subscribe.bind(t)}class rC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");aC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=Fm),o.error===void 0&&(o.error=Fm),o.complete===void 0&&(o.complete=Fm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i){return i&&i._delegate?i._delegate:i}class es{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new zI;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lC(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&f.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),l=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(o,l);const f=this.instances.get(o);return f&&e(f,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oC(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oC(i){return i===Qa?void 0:i}function lC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const cC={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},fC=Ue.INFO,hC={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},dC=(i,e,...t)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=hC[e];if(o)console[o](`[${a}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cg{constructor(e){this.name=e,this._logLevel=fC,this._logHandler=dC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const mC=(i,e)=>e.some(t=>i instanceof t);let q0,G0;function pC(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gC(){return G0||(G0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bb=new WeakMap,hp=new WeakMap,Sb=new WeakMap,Hm=new WeakMap,fg=new WeakMap;function yC(i){const e=new Promise((t,a)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",f)},l=()=>{t(Xr(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&bb.set(t,i)}).catch(()=>{}),fg.set(e,i),e}function vC(i){if(hp.has(i))return;const e=new Promise((t,a)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",f),i.removeEventListener("abort",f)},l=()=>{t(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",f),i.addEventListener("abort",f)});hp.set(i,e)}let dp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return hp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Sb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function _C(i){dp=i(dp)}function EC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=i.call(qm(this),e,...t);return Sb.set(a,e.sort?e.sort():[e]),Xr(a)}:gC().includes(i)?function(...e){return i.apply(qm(this),e),Xr(bb.get(this))}:function(...e){return Xr(i.apply(qm(this),e))}}function TC(i){return typeof i=="function"?EC(i):(i instanceof IDBTransaction&&vC(i),mC(i,pC())?new Proxy(i,dp):i)}function Xr(i){if(i instanceof IDBRequest)return yC(i);if(Hm.has(i))return Hm.get(i);const e=TC(i);return e!==i&&(Hm.set(i,e),fg.set(e,i)),e}const qm=i=>fg.get(i);function bC(i,e,{blocked:t,upgrade:a,blocking:o,terminated:l}={}){const f=indexedDB.open(i,e),d=Xr(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Xr(f.result),p.oldVersion,p.newVersion,Xr(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const SC=["get","getKey","getAll","getAllKeys","count"],AC=["put","add","delete","clear"],Gm=new Map;function $0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=AC.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||SC.includes(t)))return;const l=async function(f,...d){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Gm.set(e,l),l}_C(i=>({...i,get:(e,t,a)=>$0(e,t)||i.get(e,t,a),has:(e,t)=>!!$0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RC(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function RC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",Y0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new cg("@firebase/app"),IC="@firebase/app-compat",CC="@firebase/analytics-compat",xC="@firebase/analytics",NC="@firebase/app-check-compat",OC="@firebase/app-check",DC="@firebase/auth",kC="@firebase/auth-compat",PC="@firebase/database",MC="@firebase/data-connect",VC="@firebase/database-compat",LC="@firebase/functions",jC="@firebase/functions-compat",UC="@firebase/installations",zC="@firebase/installations-compat",BC="@firebase/messaging",FC="@firebase/messaging-compat",HC="@firebase/performance",qC="@firebase/performance-compat",GC="@firebase/remote-config",$C="@firebase/remote-config-compat",YC="@firebase/storage",KC="@firebase/storage-compat",QC="@firebase/firestore",XC="@firebase/ai",WC="@firebase/firestore-compat",ZC="firebase",JC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",e2={[mp]:"fire-core",[IC]:"fire-core-compat",[xC]:"fire-analytics",[CC]:"fire-analytics-compat",[OC]:"fire-app-check",[NC]:"fire-app-check-compat",[DC]:"fire-auth",[kC]:"fire-auth-compat",[PC]:"fire-rtdb",[MC]:"fire-data-connect",[VC]:"fire-rtdb-compat",[LC]:"fire-fn",[jC]:"fire-fn-compat",[UC]:"fire-iid",[zC]:"fire-iid-compat",[BC]:"fire-fcm",[FC]:"fire-fcm-compat",[HC]:"fire-perf",[qC]:"fire-perf-compat",[GC]:"fire-rc",[$C]:"fire-rc-compat",[YC]:"fire-gcs",[KC]:"fire-gcs-compat",[QC]:"fire-fst",[WC]:"fire-fst-compat",[XC]:"fire-vertex","fire-js":"fire-js",[ZC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map,t2=new Map,gp=new Map;function K0(i,e){try{i.container.addComponent(e)}catch(t){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function yo(i){const e=i.name;if(gp.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,i);for(const t of zf.values())K0(t,i);for(const t of t2.values())K0(t,i);return!0}function hg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Sn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Ou("app","Firebase",n2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=JC;function Ab(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:pp,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Wr.create("bad-app-name",{appName:String(o)});if(t||(t=vb()),!t)throw Wr.create("no-options");const l=zf.get(o);if(l){if(Ja(t,l.options)&&Ja(a,l.config))return l;throw Wr.create("duplicate-app",{appName:o})}const f=new uC(o);for(const p of gp.values())f.addComponent(p);const d=new i2(t,a,f);return zf.set(o,d),d}function wb(i=pp){const e=zf.get(i);if(!e&&i===pp&&vb())return Ab();if(!e)throw Wr.create("no-app",{appName:i});return e}function Zr(i,e,t){var a;let o=(a=e2[i])!==null&&a!==void 0?a:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),f=e.match(/\s|\//);if(l||f){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(d.join(" "));return}yo(new es(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="firebase-heartbeat-database",a2=1,du="firebase-heartbeat-store";let $m=null;function Rb(){return $m||($m=bC(r2,a2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(du)}catch(t){console.warn(t)}}}}).catch(i=>{throw Wr.create("idb-open",{originalErrorMessage:i.message})})),$m}async function s2(i){try{const t=(await Rb()).transaction(du),a=await t.objectStore(du).get(Ib(i));return await t.done,a}catch(e){if(e instanceof hr)rr.warn(e.message);else{const t=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(t.message)}}}async function Q0(i,e){try{const a=(await Rb()).transaction(du,"readwrite");await a.objectStore(du).put(e,Ib(i)),await a.done}catch(t){if(t instanceof hr)rr.warn(t.message);else{const a=Wr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rr.warn(a.message)}}}function Ib(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=1024,l2=30;class u2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new f2(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=X0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(f=>f.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>l2){const f=h2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){rr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X0(),{heartbeatsToSend:a,unsentEntries:o}=c2(this._heartbeatsCache.heartbeats),l=Uf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rr.warn(t),""}}}function X0(){return new Date().toISOString().substring(0,10)}function c2(i,e=o2){const t=[];let a=i.slice();for(const o of i){const l=t.find(f=>f.agent===o.agent);if(l){if(l.dates.push(o.date),W0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),W0(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class f2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?ZI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await s2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function W0(i){return Uf(JSON.stringify({version:2,heartbeats:i})).length}function h2(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let a=1;a<i.length;a++)i[a].date<t&&(t=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(i){yo(new es("platform-logger",e=>new wC(e),"PRIVATE")),yo(new es("heartbeat",e=>new u2(e),"PRIVATE")),Zr(mp,Y0,i),Zr(mp,Y0,"esm2017"),Zr("fire-js","")}d2("");var m2="firebase",p2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(m2,p2,"app");function dg(i,e){var t={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(t[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(t[a[o]]=i[a[o]]);return t}function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=Cb,xb=new Ou("auth","Firebase",Cb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new cg("@firebase/auth");function y2(i,...e){Bf.logLevel<=Ue.WARN&&Bf.warn(`Auth (${ko}): ${i}`,...e)}function If(i,...e){Bf.logLevel<=Ue.ERROR&&Bf.error(`Auth (${ko}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(i,...e){throw pg(i,...e)}function Qn(i,...e){return pg(i,...e)}function mg(i,e,t){const a=Object.assign(Object.assign({},g2()),{[e]:t});return new Ou("auth","Firebase",a).create(e,{appName:i.name})}function tr(i){return mg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v2(i,e,t){const a=t;if(!(e instanceof a))throw a.name!==e.constructor.name&&zn(i,"argument-error"),mg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pg(i,...e){if(typeof i!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(t,...a)}return xb.create(i,...e)}function Ae(i,e,...t){if(!i)throw pg(e,...t)}function Zi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw If(e),new Error(e)}function ar(i,e){i||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function _2(){return Z0()==="http:"||Z0()==="https:"}function Z0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_2()||YI()||"connection"in navigator)?navigator.onLine:!0}function T2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,ar(t>e,"Short delay should be less than long delay!"),this.isMobile=qI()||KI()}get(){return E2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(i,e){ar(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A2=new ku(3e4,6e4);function ca(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function dr(i,e,t,a,o={}){return Ob(i,o,async()=>{let l={},f={};a&&(e==="GET"?f=a:l={body:JSON.stringify(a)});const d=Du(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},l);return $I()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Do(i.emulatorConfig.host)&&(g.credentials="include"),Nb.fetch()(await Db(i,i.config.apiHost,t,d),g)})}async function Ob(i,e,t){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},b2),e);try{const o=new R2(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await l.json();if("needConfirmation"in f)throw gf(i,"account-exists-with-different-credential",f);if(l.ok&&!("errorMessage"in f))return f;{const d=l.ok?f.errorMessage:f.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gf(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw gf(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw gf(i,"user-disabled",f);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw mg(i,v,g);zn(i,v)}}catch(o){if(o instanceof hr)throw o;zn(i,"network-request-failed",{message:String(o)})}}async function Pu(i,e,t,a,o={}){const l=await dr(i,e,t,a,o);return"mfaPendingCredential"in l&&zn(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function Db(i,e,t,a){const o=`${e}${t}?${a}`,l=i,f=l.config.emulator?gg(i.config,o):`${i.config.apiScheme}://${o}`;return S2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(f).toString():f}function w2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Qn(this.auth,"network-request-failed")),A2.get())})}}function gf(i,e,t){const a={appName:i.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Qn(i,e,a);return o.customData._tokenResponse=t,o}function J0(i){return i!==void 0&&i.enterprise!==void 0}class I2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return w2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C2(i,e){return dr(i,"GET","/v2/recaptchaConfig",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(i,e){return dr(i,"POST","/v1/accounts:delete",e)}async function Ff(i,e){return dr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N2(i,e=!1){const t=dn(i),a=await t.getIdToken(e),o=yg(a);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,f=l==null?void 0:l.sign_in_provider;return{claims:o,token:a,authTime:au(Ym(o.auth_time)),issuedAtTime:au(Ym(o.iat)),expirationTime:au(Ym(o.exp)),signInProvider:f||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ym(i){return Number(i)*1e3}function yg(i){const[e,t,a]=i.split(".");if(e===void 0||t===void 0||a===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const o=gb(t);return o?JSON.parse(o):(If("Failed to decode base64 JWT payload"),null)}catch(o){return If("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function eE(i){const e=yg(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof hr&&O2(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function O2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(i){var e;const t=i.auth,a=await i.getIdToken(),o=await vo(i,Ff(t,{idToken:a}));Ae(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const f=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?kb(l.providerUserInfo):[],d=k2(i.providerData,f),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vp(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(i,b)}async function _p(i){const e=dn(i);await Hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k2(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function kb(i){return i.map(e=>{var{providerId:t}=e,a=dg(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(i,e){const t=await Ob(i,{},async()=>{const a=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,f=await Db(i,o,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:a};return i.emulatorConfig&&Do(i.emulatorConfig.host)&&(p.credentials="include"),Nb.fetch()(f,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function M2(i,e){return dr(i,"POST","/v2/accounts:revokeToken",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=eE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:l}=await P2(e,t);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:l}=t,f=new fo;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),l&&(Ae(typeof l=="number","internal-error",{appName:e}),f.expirationTime=l),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:t,auth:a,stsTokenManager:o}=e,l=dg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await vo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return N2(this,e)}reload(){return _p(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Hf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await vo(this,x2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,o,l,f,d,p,g,v;const b=(a=t.displayName)!==null&&a!==void 0?a:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,P=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,x=(f=t.photoURL)!==null&&f!==void 0?f:void 0,H=(d=t.tenantId)!==null&&d!==void 0?d:void 0,U=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=t.createdAt)!==null&&g!==void 0?g:void 0,O=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:ne,isAnonymous:oe,providerData:de,stsTokenManager:M}=t;Ae(G&&M,e,"internal-error");const R=fo.fromJSON(this.name,M);Ae(typeof G=="string",e,"internal-error"),qr(b,e.name),qr(A,e.name),Ae(typeof ne=="boolean",e,"internal-error"),Ae(typeof oe=="boolean",e,"internal-error"),qr(P,e.name),qr(x,e.name),qr(H,e.name),qr(U,e.name),qr(Y,e.name),qr(O,e.name);const I=new Yn({uid:G,auth:e,email:A,emailVerified:ne,displayName:b,isAnonymous:oe,photoURL:x,phoneNumber:P,tenantId:H,stsTokenManager:R,createdAt:Y,lastLoginAt:O});return de&&Array.isArray(de)&&(I.providerData=de.map(k=>Object.assign({},k))),U&&(I._redirectEventId=U),I}static async _fromIdTokenResponse(e,t,a=!1){const o=new fo;o.updateFromServerResponse(t);const l=new Yn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Hf(l),l}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?kb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new fo;d.updateFromIdToken(a);const p=new Yn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;function Ji(i){ar(i instanceof Function,"Expected a class definition");let e=tE.get(i);return e?(ar(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,tE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Pb.type="NONE";const nE=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(i,e,t){return`firebase:${i}:${e}:${t}`}class ho{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=Cf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Cf("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ff(this.auth,{idToken:e}).catch(()=>{});return t?Yn._fromGetAccountInfoResponse(this.auth,t,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new ho(Ji(nE),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Ji(nE);const f=Cf(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(f);if(v){let b;if(typeof v=="string"){const A=await Ff(e,{idToken:v}).catch(()=>{});if(!A)break;b=await Yn._fromGetAccountInfoResponse(e,A,v)}else b=Yn._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ho(l,e,a):(l=p[0],d&&await l._set(f,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(f)}catch{}})),new ho(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zb(e))return"Blackberry";if(Bb(e))return"Webos";if(Vb(e))return"Safari";if((e.includes("chrome/")||Lb(e))&&!e.includes("edge/"))return"Chrome";if(Ub(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Mb(i=tn()){return/firefox\//i.test(i)}function Vb(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lb(i=tn()){return/crios\//i.test(i)}function jb(i=tn()){return/iemobile/i.test(i)}function Ub(i=tn()){return/android/i.test(i)}function zb(i=tn()){return/blackberry/i.test(i)}function Bb(i=tn()){return/webos/i.test(i)}function vg(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function V2(i=tn()){var e;return vg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L2(){return QI()&&document.documentMode===10}function Fb(i=tn()){return vg(i)||Ub(i)||Bb(i)||zb(i)||/windows phone/i.test(i)||jb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(i,e=[]){let t;switch(i){case"Browser":t=iE(tn());break;case"Worker":t=`${iE(tn())}-${i}`;break;default:t=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ko}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((f,d)=>{try{const p=e(l);f(p)}catch(p){d(p)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(i,e={}){return dr(i,"GET","/v2/passwordPolicy",ca(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=6;class B2{constructor(e){var t,a,o,l;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:z2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,o,l,f,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new j2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ji(t)),this._initializationPromise=this.queue(async()=>{var a,o,l;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ff(this,{idToken:e}),a=await Yn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(tr(this));const t=e?dn(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U2(this),t=new B2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await M2(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ji(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[Ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{f||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&y2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fa(i){return dn(i)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=iC(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H2(i){dh=i}function qb(i){return dh.loadJS(i)}function q2(){return dh.recaptchaEnterpriseScript}function G2(){return dh.gapiScript}function $2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Y2{constructor(){this.enterprise=new K2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class K2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Q2="recaptcha-enterprise",Gb="NO_RECAPTCHA";class X2{constructor(e){this.type=Q2,this.auth=fa(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(f,d)=>{C2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new I2(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,f(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,f,d){const p=window.grecaptcha;J0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{f(g)}).catch(()=>{f(Gb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y2().execute("siteKey",{action:"verify"}):new Promise((l,f)=>{a(this.auth).then(d=>{if(!t&&J0(window.grecaptcha))o(d,l,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=q2();p.length!==0&&(p+=d),qb(p).then(()=>{o(d,l,f)}).catch(g=>{f(g)})}}).catch(d=>{f(d)})})}}async function aE(i,e,t,a=!1,o=!1){const l=new X2(i);let f;if(o)f=Gb;else try{f=await l.verify(t)}catch{f=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ep(i,e,t,a,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await aE(i,e,t,t==="getOobCode");return a(i,f)}else return a(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await aE(i,e,t,t==="getOobCode");return a(i,d)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(i,e){const t=hg(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ja(l,e??{}))return o;zn(o,"already-initialized")}return t.initialize({options:e})}function Z2(i,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(Ji);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function J2(i,e,t){const a=fa(i);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=$b(e),{host:f,port:d}=ex(e),p=d===null?"":`:${d}`,g={url:`${l}//${f}${p}/`},v=Object.freeze({host:f,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(Ja(g,a.config.emulator)&&Ja(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Do(f)?(Eb(`${l}//${f}${p}`),Tb("Auth",!0)):tx()}function $b(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function ex(i){const e=$b(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:sE(a.substr(l.length+1))}}else{const[l,f]=a.split(":");return{host:l,port:sE(f)}}}function sE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function tx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,t){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function nx(i,e){return dr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(i,e){return Pu(i,"POST","/v1/accounts:signInWithPassword",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(i,e){return Pu(i,"POST","/v1/accounts:signInWithEmailLink",ca(i,e))}async function ax(i,e){return Pu(i,"POST","/v1/accounts:signInWithEmailLink",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends _g{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new mu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new mu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,t,"signInWithPassword",ix);case"emailLink":return rx(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,a,"signUpPassword",nx);case"emailLink":return ax(e,{idToken:t,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(i,e){return Pu(i,"POST","/v1/accounts:signInWithIdp",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="http://localhost";class ts extends _g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=t,l=dg(t,["providerId","signInMethod"]);if(!a||!o)return null;const f=new ts(a,o);return f.idToken=l.idToken||void 0,f.accessToken=l.accessToken||void 0,f.secret=l.secret,f.nonce=l.nonce,f.pendingToken=l.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return mo(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,mo(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mo(e,t)}buildRequest(){const e={requestUri:sx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lx(i){const e=Zl(Jl(i)).link,t=e?Zl(Jl(e)).deep_link_id:null,a=Zl(Jl(i)).deep_link_id;return(a?Zl(Jl(a)).link:null)||a||t||e||i}class Eg{constructor(e){var t,a,o,l,f,d;const p=Zl(Jl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(a=p.oobCode)!==null&&a!==void 0?a:null,b=ox((o=p.mode)!==null&&o!==void 0?o:null);Ae(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=lx(e);try{return new Eg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,t){return mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Eg.parseLink(t);return Ae(a,"argument-error"),mu._fromEmailAndCode(e,a.code,a.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Mu{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ts._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Wi.credential(t,a)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Mu{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Mu{constructor(){super("twitter.com")}static credential(e,t){return ts._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Kr.credential(t,a)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(i,e){return Pu(i,"POST","/v1/accounts:signUp",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const l=await Yn._fromIdTokenResponse(e,a,o),f=oE(a);return new ns({user:l,providerId:f,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=oE(a);return new ns({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function oE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends hr{constructor(e,t,a,o){var l;super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new qf(e,t,a,o)}}function Yb(i,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(i,l,e,a):l})}async function cx(i,e,t=!1){const a=await vo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ns._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(i,e,t=!1){const{auth:a}=i;if(Sn(a.app))return Promise.reject(tr(a));const o="reauthenticate";try{const l=await vo(i,Yb(a,o,e,i),t);Ae(l.idToken,a,"internal-error");const f=yg(l.idToken);Ae(f,a,"internal-error");const{sub:d}=f;return Ae(i.uid===d,a,"user-mismatch"),ns._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&zn(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(i,e,t=!1){if(Sn(i.app))return Promise.reject(tr(i));const a="signIn",o=await Yb(i,a,e),l=await ns._fromIdTokenResponse(i,a,o);return t||await i._updateCurrentUser(l.user),l}async function hx(i,e){return Kb(fa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(i){const e=fa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dx(i,e,t){if(Sn(i.app))return Promise.reject(tr(i));const a=fa(i),f=await Ep(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ux).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Qb(i),p}),d=await ns._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(d.user),d}function mx(i,e,t){return Sn(i.app)?Promise.reject(tr(i)):hx(dn(i),Po.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Qb(i),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(i,e){return dr(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const a=dn(i),l={idToken:await a.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await vo(a,px(a.auth,l));a.displayName=f.displayName||null,a.photoURL=f.photoUrl||null;const d=a.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=a.displayName,d.photoURL=a.photoURL),await a._updateTokensIfNecessary(f)}function gx(i,e,t,a){return dn(i).onIdTokenChanged(e,t,a)}function yx(i,e,t){return dn(i).beforeAuthStateChanged(e,t)}function Xb(i,e,t,a){return dn(i).onAuthStateChanged(e,t,a)}async function vx(i){return dn(i).delete()}const Gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=1e3,Ex=10;class Zb extends Wb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,d,p)=>{this.notifyListeners(f,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!t&&this.localCache[a]===f||this.notifyListeners(a,f)},l=this.storage.getItem(a);L2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Ex):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},_x)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zb.type="LOCAL";const Tx=Zb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Wb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jb.type="SESSION";const e1=Jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new mh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:l}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(f).map(async g=>g(t.origin,l)),p=await bx(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(i="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,f;return new Promise((d,p)=>{const g=bg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function Ax(i){yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function wx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rx(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Ix(){return t1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",Cx=1,$f="firebaseLocalStorage",i1="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ph(i,e){return i.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function xx(){const i=indexedDB.deleteDatabase(n1);return new Vu(i).toPromise()}function bp(){const i=indexedDB.open(n1,Cx);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore($f,{keyPath:i1})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains($f)?e(a):(a.close(),await xx(),e(await bp()))})})}async function lE(i,e,t){const a=ph(i,!0).put({[i1]:e,value:t});return new Vu(a).toPromise()}async function Nx(i,e){const t=ph(i,!1).get(e),a=await new Vu(t).toPromise();return a===void 0?null:a.value}function uE(i,e){const t=ph(i,!0).delete(e);return new Vu(t).toPromise()}const Ox=800,Dx=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>Dx)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(Ix()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await wx(),!this.activeServiceWorker)return;this.sender=new Sx(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await lE(e,Gf,"1"),await uE(e,Gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>lE(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>Nx(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>uE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=ph(o,!1).getAll();return new Vu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ox)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const kx=r1;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(i,e){return e?Ji(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends _g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Px(i){return Kb(i.auth,new Sg(i),i.bypassAuthState)}function Mx(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),fx(t,new Sg(i),i.bypassAuthState)}async function Vx(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),cx(t,new Sg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:l,error:f,type:d}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Px;case"linkViaPopup":case"linkViaRedirect":return Vx;case"reauthViaPopup":case"reauthViaRedirect":return Mx;default:zn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new ku(2e3,1e4);async function jx(i,e,t){if(Sn(i.app))return Promise.reject(Qn(i,"operation-not-supported-in-this-environment"));const a=fa(i);v2(i,e,Tg);const o=a1(a,t);return new Xa(a,"signInViaPopup",e,o).executeNotNull()}class Xa extends s1{constructor(e,t,a,o,l){super(e,t,o,l),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Lx.get())};e()}}Xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="pendingRedirect",xf=new Map;class zx extends s1{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=xf.get(this.auth._key());if(!e){try{const a=await Bx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}xf.set(this.auth._key(),e)}return this.bypassAuthState||xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bx(i,e){const t=qx(e),a=Hx(i);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function Fx(i,e){xf.set(i._key(),e)}function Hx(i){return Ji(i._redirectPersistence)}function qx(i){return Cf(Ux,i.config.apiKey,i.name)}async function Gx(i,e,t=!1){if(Sn(i.app))return Promise.reject(tr(i));const a=fa(i),o=a1(a,e),f=await new zx(a,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=10*60*1e3;class Yx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!o1(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$x&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function o1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(i,e={}){return dr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wx=/^https?/;async function Zx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Qx(i);for(const t of e)try{if(Jx(t))return}catch{}zn(i,"unauthorized-domain")}function Jx(i){const e=yp(),{protocol:t,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===a}if(!Wx.test(t))return!1;if(Xx.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new ku(3e4,6e4);function fE(){const i=yi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function tN(i){return new Promise((e,t)=>{var a,o,l;function f(){fE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fE(),t(Qn(i,"network-request-failed"))},timeout:eN.get()})}if(!((o=(a=yi().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=yi().gapi)===null||l===void 0)&&l.load)f();else{const d=$2("iframefcb");return yi()[d]=()=>{gapi.load?f():t(Qn(i,"network-request-failed"))},qb(`${G2()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Nf=null,e})}let Nf=null;function nN(i){return Nf=Nf||tN(i),Nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new ku(5e3,15e3),rN="__/auth/iframe",aN="emulator/auth/iframe",sN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lN(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?gg(e,aN):`https://${i.config.authDomain}/${rN}`,a={apiKey:e.apiKey,appName:i.name,v:ko},o=oN.get(i.config.apiHost);o&&(a.eid=o);const l=i._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Du(a).slice(1)}`}async function uN(i){const e=await nN(i),t=yi().gapi;return Ae(t,i,"internal-error"),e.open({where:document.body,url:lN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sN,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const f=Qn(i,"network-request-failed"),d=yi().setTimeout(()=>{l(f)},iN.get());function p(){yi().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{l(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fN=500,hN=600,dN="_blank",mN="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pN(i,e,t,a=fN,o=hN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p=Object.assign(Object.assign({},cN),{width:a.toString(),height:o.toString(),top:l,left:f}),g=tn().toLowerCase();t&&(d=Lb(g)?dN:t),Mb(g)&&(e=e||mN,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[P,x])=>`${A}${P}=${x},`,"");if(V2(g)&&d!=="_self")return gN(e||"",d),new hE(null);const b=window.open(e||"",d,v);Ae(b,i,"popup-blocked");try{b.focus()}catch{}return new hE(b)}function gN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="__/auth/handler",vN="emulator/auth/handler",_N=encodeURIComponent("fac");async function dE(i,e,t,a,o,l){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:a,v:ko,eventId:o};if(e instanceof Tg){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",nC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))f[v]=b}if(e instanceof Mu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(f.scopes=v.join(","))}i.tenantId&&(f.tid=i.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await i._getAppCheckToken(),g=p?`#${_N}=${encodeURIComponent(p)}`:"";return`${EN(i)}?${Du(d).slice(1)}${g}`}function EN({config:i}){return i.emulator?gg(i,vN):`https://${i.authDomain}/${yN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class TN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=Gx,this._overrideRedirectResult=Fx}async _openPopup(e,t,a,o){var l;ar((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const f=await dE(e,t,a,yp(),o);return pN(e,f,bg())}async _openRedirect(e,t,a,o){await this._originValidation(e);const l=await dE(e,t,a,yp(),o);return Ax(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ar(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await uN(e),a=new Yx(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Km,{type:Km},o=>{var l;const f=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Km];f!==void 0&&t(!!f),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fb()||Vb()||vg()}}const bN=TN;var mE="@firebase/auth",pE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wN(i){yo(new es("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=a.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(i)},g=new F2(a,o,l,p);return Z2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),yo(new es("auth-internal",e=>{const t=fa(e.getProvider("auth").getImmediate());return(a=>new SN(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(mE,pE,AN(i)),Zr(mE,pE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=5*60,IN=_b("authIdTokenMaxAge")||RN;let gE=null;const CN=i=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>IN)return;const o=t==null?void 0:t.token;gE!==o&&(gE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xN(i=wb()){const e=hg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=W2(i,{popupRedirectResolver:bN,persistence:[kx,Tx,e1]}),a=_b("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const f=CN(l.toString());yx(t,f,()=>f(t.currentUser)),gx(t,d=>f(d))}}const o=yb("auth");return o&&J2(t,`http://${o}`),t}function NN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}H2({loadJS(i){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const l=Qn("internal-error");l.customData=o,t(l)},a.type="text/javascript",a.charset="UTF-8",NN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wN("Browser");const ON={apiKey:"AIzaSyC-T2TKd3psTXPFZ-4b-k_188x1YsAXJfo",authDomain:"movieapp-4f054.firebaseapp.com",projectId:"movieapp-4f054",storageBucket:"movieapp-4f054.appspot.com",messagingSenderId:"314117383377",appId:"1:314117383377:web:33536213bfcd3a6f99d1f0",measurementId:"G-FRLLW7HM4G"},DN=Ab(ON),xt=xN(DN),kN=new Wi;var yE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,l1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function I(){}I.prototype=R.prototype,M.D=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(k,L,B){for(var N=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)N[ve-2]=arguments[ve];return R.prototype[L].apply(k,N)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,I){I||(I=0);var k=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)k[L]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(L=0;16>L;++L)k[L]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],L=M.g[2];var B=M.g[3],N=R+(B^I&(L^B))+k[0]+3614090360&4294967295;R=I+(N<<7&4294967295|N>>>25),N=B+(L^R&(I^L))+k[1]+3905402710&4294967295,B=R+(N<<12&4294967295|N>>>20),N=L+(I^B&(R^I))+k[2]+606105819&4294967295,L=B+(N<<17&4294967295|N>>>15),N=I+(R^L&(B^R))+k[3]+3250441966&4294967295,I=L+(N<<22&4294967295|N>>>10),N=R+(B^I&(L^B))+k[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=B+(L^R&(I^L))+k[5]+1200080426&4294967295,B=R+(N<<12&4294967295|N>>>20),N=L+(I^B&(R^I))+k[6]+2821735955&4294967295,L=B+(N<<17&4294967295|N>>>15),N=I+(R^L&(B^R))+k[7]+4249261313&4294967295,I=L+(N<<22&4294967295|N>>>10),N=R+(B^I&(L^B))+k[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=B+(L^R&(I^L))+k[9]+2336552879&4294967295,B=R+(N<<12&4294967295|N>>>20),N=L+(I^B&(R^I))+k[10]+4294925233&4294967295,L=B+(N<<17&4294967295|N>>>15),N=I+(R^L&(B^R))+k[11]+2304563134&4294967295,I=L+(N<<22&4294967295|N>>>10),N=R+(B^I&(L^B))+k[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=B+(L^R&(I^L))+k[13]+4254626195&4294967295,B=R+(N<<12&4294967295|N>>>20),N=L+(I^B&(R^I))+k[14]+2792965006&4294967295,L=B+(N<<17&4294967295|N>>>15),N=I+(R^L&(B^R))+k[15]+1236535329&4294967295,I=L+(N<<22&4294967295|N>>>10),N=R+(L^B&(I^L))+k[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=B+(I^L&(R^I))+k[6]+3225465664&4294967295,B=R+(N<<9&4294967295|N>>>23),N=L+(R^I&(B^R))+k[11]+643717713&4294967295,L=B+(N<<14&4294967295|N>>>18),N=I+(B^R&(L^B))+k[0]+3921069994&4294967295,I=L+(N<<20&4294967295|N>>>12),N=R+(L^B&(I^L))+k[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=B+(I^L&(R^I))+k[10]+38016083&4294967295,B=R+(N<<9&4294967295|N>>>23),N=L+(R^I&(B^R))+k[15]+3634488961&4294967295,L=B+(N<<14&4294967295|N>>>18),N=I+(B^R&(L^B))+k[4]+3889429448&4294967295,I=L+(N<<20&4294967295|N>>>12),N=R+(L^B&(I^L))+k[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=B+(I^L&(R^I))+k[14]+3275163606&4294967295,B=R+(N<<9&4294967295|N>>>23),N=L+(R^I&(B^R))+k[3]+4107603335&4294967295,L=B+(N<<14&4294967295|N>>>18),N=I+(B^R&(L^B))+k[8]+1163531501&4294967295,I=L+(N<<20&4294967295|N>>>12),N=R+(L^B&(I^L))+k[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=B+(I^L&(R^I))+k[2]+4243563512&4294967295,B=R+(N<<9&4294967295|N>>>23),N=L+(R^I&(B^R))+k[7]+1735328473&4294967295,L=B+(N<<14&4294967295|N>>>18),N=I+(B^R&(L^B))+k[12]+2368359562&4294967295,I=L+(N<<20&4294967295|N>>>12),N=R+(I^L^B)+k[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=B+(R^I^L)+k[8]+2272392833&4294967295,B=R+(N<<11&4294967295|N>>>21),N=L+(B^R^I)+k[11]+1839030562&4294967295,L=B+(N<<16&4294967295|N>>>16),N=I+(L^B^R)+k[14]+4259657740&4294967295,I=L+(N<<23&4294967295|N>>>9),N=R+(I^L^B)+k[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=B+(R^I^L)+k[4]+1272893353&4294967295,B=R+(N<<11&4294967295|N>>>21),N=L+(B^R^I)+k[7]+4139469664&4294967295,L=B+(N<<16&4294967295|N>>>16),N=I+(L^B^R)+k[10]+3200236656&4294967295,I=L+(N<<23&4294967295|N>>>9),N=R+(I^L^B)+k[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=B+(R^I^L)+k[0]+3936430074&4294967295,B=R+(N<<11&4294967295|N>>>21),N=L+(B^R^I)+k[3]+3572445317&4294967295,L=B+(N<<16&4294967295|N>>>16),N=I+(L^B^R)+k[6]+76029189&4294967295,I=L+(N<<23&4294967295|N>>>9),N=R+(I^L^B)+k[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=B+(R^I^L)+k[12]+3873151461&4294967295,B=R+(N<<11&4294967295|N>>>21),N=L+(B^R^I)+k[15]+530742520&4294967295,L=B+(N<<16&4294967295|N>>>16),N=I+(L^B^R)+k[2]+3299628645&4294967295,I=L+(N<<23&4294967295|N>>>9),N=R+(L^(I|~B))+k[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=B+(I^(R|~L))+k[7]+1126891415&4294967295,B=R+(N<<10&4294967295|N>>>22),N=L+(R^(B|~I))+k[14]+2878612391&4294967295,L=B+(N<<15&4294967295|N>>>17),N=I+(B^(L|~R))+k[5]+4237533241&4294967295,I=L+(N<<21&4294967295|N>>>11),N=R+(L^(I|~B))+k[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=B+(I^(R|~L))+k[3]+2399980690&4294967295,B=R+(N<<10&4294967295|N>>>22),N=L+(R^(B|~I))+k[10]+4293915773&4294967295,L=B+(N<<15&4294967295|N>>>17),N=I+(B^(L|~R))+k[1]+2240044497&4294967295,I=L+(N<<21&4294967295|N>>>11),N=R+(L^(I|~B))+k[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=B+(I^(R|~L))+k[15]+4264355552&4294967295,B=R+(N<<10&4294967295|N>>>22),N=L+(R^(B|~I))+k[6]+2734768916&4294967295,L=B+(N<<15&4294967295|N>>>17),N=I+(B^(L|~R))+k[13]+1309151649&4294967295,I=L+(N<<21&4294967295|N>>>11),N=R+(L^(I|~B))+k[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=B+(I^(R|~L))+k[11]+3174756917&4294967295,B=R+(N<<10&4294967295|N>>>22),N=L+(R^(B|~I))+k[2]+718787259&4294967295,L=B+(N<<15&4294967295|N>>>17),N=I+(B^(L|~R))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+B&4294967295}a.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var I=R-this.blockSize,k=this.B,L=this.h,B=0;B<R;){if(L==0)for(;B<=I;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<R;)if(k[L++]=M.charCodeAt(B++),L==this.blockSize){o(this,k),L=0;break}}else for(;B<R;)if(k[L++]=M[B++],L==this.blockSize){o(this,k),L=0;break}}this.h=L,this.o+=R},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var I=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=I&255,I/=256;for(this.u(M),M=Array(16),R=I=0;4>R;++R)for(var k=0;32>k;k+=8)M[I++]=this.g[R]>>>k&255;return M};function l(M,R){var I=d;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function f(M,R){this.h=R;for(var I=[],k=!0,L=M.length-1;0<=L;L--){var B=M[L]|0;k&&B==R||(I[L]=B,k=!1)}this.g=I}var d={};function p(M){return-128<=M&&128>M?l(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return U(g(-M));for(var R=[],I=1,k=0;M>=I;k++)R[k]=M/I|0,I*=4294967296;return new f(R,0)}function v(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return U(v(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),k=b,L=0;L<M.length;L+=8){var B=Math.min(8,M.length-L),N=parseInt(M.substring(L,L+B),R);8>B?(B=g(Math.pow(R,B)),k=k.j(B).add(g(N))):(k=k.j(I),k=k.add(g(N)))}return k}var b=p(0),A=p(1),P=p(16777216);i=f.prototype,i.m=function(){if(H(this))return-U(this).m();for(var M=0,R=1,I=0;I<this.g.length;I++){var k=this.i(I);M+=(0<=k?k:4294967296+k)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(H(this))return"-"+U(this).toString(M);for(var R=g(Math.pow(M,6)),I=this,k="";;){var L=ne(I,R).g;I=Y(I,L.j(R));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=L,x(I))return B+k;for(;6>B.length;)B="0"+B;k=B+k}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function H(M){return M.h==-1}i.l=function(M){return M=Y(this,M),H(M)?-1:x(M)?0:1};function U(M){for(var R=M.g.length,I=[],k=0;k<R;k++)I[k]=~M.g[k];return new f(I,~M.h).add(A)}i.abs=function(){return H(this)?U(this):this},i.add=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],k=0,L=0;L<=R;L++){var B=k+(this.i(L)&65535)+(M.i(L)&65535),N=(B>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);k=N>>>16,B&=65535,N&=65535,I[L]=N<<16|B}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Y(M,R){return M.add(U(R))}i.j=function(M){if(x(this)||x(M))return b;if(H(this))return H(M)?U(this).j(U(M)):U(U(this).j(M));if(H(M))return U(this.j(U(M)));if(0>this.l(P)&&0>M.l(P))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,I=[],k=0;k<2*R;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<M.g.length;L++){var B=this.i(k)>>>16,N=this.i(k)&65535,ve=M.i(L)>>>16,be=M.i(L)&65535;I[2*k+2*L]+=N*be,O(I,2*k+2*L),I[2*k+2*L+1]+=B*be,O(I,2*k+2*L+1),I[2*k+2*L+1]+=N*ve,O(I,2*k+2*L+1),I[2*k+2*L+2]+=B*ve,O(I,2*k+2*L+2)}for(k=0;k<R;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=R;k<2*R;k++)I[k]=0;return new f(I,0)};function O(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function G(M,R){this.g=M,this.h=R}function ne(M,R){if(x(R))throw Error("division by zero");if(x(M))return new G(b,b);if(H(M))return R=ne(U(M),R),new G(U(R.g),U(R.h));if(H(R))return R=ne(M,U(R)),new G(U(R.g),R.h);if(30<M.g.length){if(H(M)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,k=R;0>=k.l(M);)I=oe(I),k=oe(k);var L=de(I,1),B=de(k,1);for(k=de(k,2),I=de(I,2);!x(k);){var N=B.add(k);0>=N.l(M)&&(L=L.add(I),B=N),k=de(k,1),I=de(I,1)}return R=Y(M,L.j(R)),new G(L,R)}for(L=b;0<=M.l(R);){for(I=Math.max(1,Math.floor(M.m()/R.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),B=g(I),N=B.j(R);H(N)||0<N.l(M);)I-=k,B=g(I),N=B.j(R);x(B)&&(B=A),L=L.add(B),M=Y(M,N)}return new G(L,M)}i.A=function(M){return ne(this,M).h},i.and=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],k=0;k<R;k++)I[k]=this.i(k)&M.i(k);return new f(I,this.h&M.h)},i.or=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],k=0;k<R;k++)I[k]=this.i(k)|M.i(k);return new f(I,this.h|M.h)},i.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],k=0;k<R;k++)I[k]=this.i(k)^M.i(k);return new f(I,this.h^M.h)};function oe(M){for(var R=M.g.length+1,I=[],k=0;k<R;k++)I[k]=M.i(k)<<1|M.i(k-1)>>>31;return new f(I,M.h)}function de(M,R){var I=R>>5;R%=32;for(var k=M.g.length-I,L=[],B=0;B<k;B++)L[B]=0<R?M.i(B+I)>>>R|M.i(B+I+1)<<32-R:M.i(B+I);return new f(L,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,l1=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Jr=f}).apply(typeof yE<"u"?yE:typeof self<"u"?self:typeof window<"u"?window:{});var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u1,eu,c1,Of,Sp,f1,h1,d1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yf=="object"&&yf];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=t(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var F=c[w];if(!(F in _))break e;_=_[F]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var _=0,w=!1,F={next:function(){if(!w&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,A.apply(null,arguments)}function P(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function x(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,F,X){for(var le=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)le[Be-2]=arguments[Be];return y.prototype[F].apply(w,le)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const F=c.length||0,X=w.length||0;c.length=F+X;for(let le=0;le<X;le++)c[F+le]=w[le]}else c.push(w)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function O(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var oe=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function de(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let _,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(_ in w)c[_]=w[_];for(let X=0;X<I.length;X++)_=I[X],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function L(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){d.setTimeout(()=>{throw c},0)}function N(){var c=ke;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ve{constructor(){this.h=this.g=null}add(y,_){const w=be.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var be=new Y(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,pe=!1,ke=new ve,V=()=>{const c=d.Promise.resolve(void 0);ue=()=>{c.then(ie)}};var ie=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){B(_)}var y=be;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Pe(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(oe){e:{try{ne(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}x(Pe,se);var Ie={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),it=0;function Xn(c,y,_,w,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=F,this.key=++it,this.da=this.fa=!1}function pr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wi(c){this.src=c,this.g={},this.h=0}wi.prototype.add=function(c,y,_,w,F){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var le=da(c,y,w,F);return-1<le?(y=c[le],_||(y.fa=!1)):(y=new Xn(y,this.src,X,!!w,F),y.fa=_,c.push(y)),y};function ha(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],F=Array.prototype.indexOf.call(w,y,void 0),X;(X=0<=F)&&Array.prototype.splice.call(w,F,1),X&&(pr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function da(c,y,_,w){for(var F=0;F<c.length;++F){var X=c[F];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==w)return F}return-1}var ma="closure_lm_"+(1e6*Math.random()|0),zo={};function qu(c,y,_,w,F){if(Array.isArray(y)){for(var X=0;X<y.length;X++)qu(c,y[X],_,w,F);return null}return _=Gu(_),c&&c[kt]?c.K(y,_,g(w)?!!w.capture:!1,F):wn(c,y,_,!1,w,F)}function wn(c,y,_,w,F,X){if(!y)throw Error("Invalid event type");var le=g(F)?!!F.capture:!!F,Be=ds(c);if(Be||(c[ma]=Be=new wi(c)),_=Be.add(y,_,w,le,X),_.proxy)return _;if(w=Ph(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)ye||(F=le),F===void 0&&(F=!1),c.addEventListener(y.toString(),w,F);else if(c.attachEvent)c.attachEvent(pa(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ph(){function c(_){return y.call(c.src,c.listener,_)}const y=Mh;return c}function Bo(c,y,_,w,F){if(Array.isArray(y))for(var X=0;X<y.length;X++)Bo(c,y[X],_,w,F);else w=g(w)?!!w.capture:!!w,_=Gu(_),c&&c[kt]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=da(X,_,w,F),-1<_&&(pr(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=ds(c))&&(y=c.g[y.toString()],c=-1,y&&(c=da(y,_,w,F)),(_=-1<c?y[c]:null)&&hs(_))}function hs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[kt])ha(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(pa(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=ds(y))?(ha(_,c),_.h==0&&(_.src=null,y[ma]=null)):pr(c)}}}function pa(c){return c in zo?zo[c]:zo[c]="on"+c}function Mh(c,y){if(c.da)c=!0;else{y=new Pe(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&hs(c),c=_.call(w,y)}return c}function ds(c){return c=c[ma],c instanceof wi?c:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gu(c){return typeof c=="function"?c:(c[Fo]||(c[Fo]=function(y){return c.handleEvent(y)}),c[Fo])}function ft(){ce.call(this),this.i=new wi(this),this.M=this,this.F=null}x(ft,ce),ft.prototype[kt]=!0,ft.prototype.removeEventListener=function(c,y,_,w){Bo(this,c,y,_,w)};function Qe(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var F=y;y=new se(w,c),k(y,F)}if(F=!0,_)for(var X=_.length-1;0<=X;X--){var le=y.g=_[X];F=mn(le,w,!0,y)&&F}if(le=y.g=c,F=mn(le,w,!0,y)&&F,F=mn(le,w,!1,y)&&F,_)for(X=0;X<_.length;X++)le=y.g=_[X],F=mn(le,w,!1,y)&&F}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)pr(_[w]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ft.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function mn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,X=0;X<y.length;++X){var le=y[X];if(le&&!le.da&&le.capture==_){var Be=le.listener,wt=le.ha||le.src;le.fa&&ha(c.i,le),F=Be.call(wt,w)!==!1&&F}}return F&&!w.defaultPrevented}function Kt(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function $u(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,$u(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Vh extends ce{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$u(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(c){ce.call(this),this.h=c,this.g={}}x(ga,ce);var ya=[];function va(c){de(c.g,function(y,_){this.g.hasOwnProperty(_)&&hs(y)},c),c.g={}}ga.prototype.N=function(){ga.aa.N.call(this),va(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=d.JSON.stringify,ms=d.JSON.parse,_a=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ho(){}Ho.prototype.h=null;function qo(c){return c.h||(c.h=c.i())}function Go(){}var Ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){se.call(this,"d")}x(Ii,se);function $o(){se.call(this,"c")}x($o,se);var Wn={},Yo=null;function gr(){return Yo=Yo||new ft}Wn.La="serverreachability";function ps(c){se.call(this,Wn.La,c)}x(ps,se);function yr(c){const y=gr();Qe(y,new ps(y))}Wn.STAT_EVENT="statevent";function Yu(c,y){se.call(this,Wn.STAT_EVENT,c),this.stat=y}x(Yu,se);function st(c){const y=gr();Qe(y,new Yu(y,c))}Wn.Ma="timingevent";function At(c,y){se.call(this,Wn.Ma,c),this.size=y}x(At,se);function _t(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Ko(c,y,_,w,F,X){c.info(function(){if(c.g)if(X)for(var le="",Be=X.split("&"),wt=0;wt<Be.length;wt++){var Fe=Be[wt].split("=");if(1<Fe.length){var Mt=Fe[0];Fe=Fe[1];var Rt=Mt.split("_");le=2<=Rt.length&&Rt[1]=="type"?le+(Mt+"="+Fe+"&"):le+(Mt+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+y+`
`+_+`
`+le})}function Lh(c,y,_,w,F,X,le){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+y+`
`+_+`
`+X+" "+le})}function vr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ea(c,_)+(w?" "+w:"")})}function Ku(c,y){c.info(function(){return"TIMEOUT: "+y})}Rn.prototype.info=function(){};function Ea(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<F.length;le++)F[le]=""}}}}return Bn(_)}catch{return y}}var _r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}x(Jn,Ho),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function rn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Qo={},gs={};function Fn(c,y,_){c.L=1,c.v=wa(pn(y)),c.m=_,c.P=!0,xi(c,null)}function xi(c,y){c.F=Date.now(),Ta(c),c.A=pn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),tl(_.i,"t",w),c.C=0,_=c.j.J,c.h=new pt,c.g=cc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Vh(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(ya[0]=F.toString()),F=ya);for(var X=0;X<F.length;X++){var le=qu(_,F[X],w||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),yr(),Ko(c.i,c.u,c.A,c.l,c.R,c.m)}rn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Nn(c)==3?y.j():this.Y(c)},rn.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Nn(this.g);var y=this.g.Ba();const Li=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Li?yr(3):yr(2)),Er(this);var _=this.g.Z();this.X=_;t:if(Qu(this)){var w=nc(this.g);c="";var F=w.length,X=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ei(this);var le="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(X&&y==F-1)});w.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,Lh(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,wt=this.g;if((Be=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Be)){var Fe=Be;break t}}Fe=null}if(_=Fe)vr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,_);else{this.o=!1,this.s=3,st(12),zt(this),ei(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<le.length;)if(Bt=Xu(this,le),Bt==gs){Rt==4&&(this.s=4,st(14),_=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Qo){this.s=4,st(15),vr(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else vr(this.i,this.l,Bt,null),ba(this,Bt);if(Qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||le.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)vr(this.i,this.l,le,"[Invalid Chunked Response]"),zt(this),ei(this);else if(0<le.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ka(Mt),Mt.M=!0,st(11))}}else vr(this.i,this.l,le,null),ba(this,le);Rt==4&&zt(this),this.o&&!this.J&&(Rt==4?oc(this.j,this):(this.o=!1,Ta(this)))}else Fh(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),zt(this),ei(this)}}}catch{}finally{}};function Qu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?gs:(_=Number(y.substring(_,w)),isNaN(_)?Qo:(w+=1,w+_>y.length?gs:(y=y.slice(w,w+_),c.C=w+_,y)))}rn.prototype.cancel=function(){this.J=!0,zt(this)};function Ta(c){c.S=Date.now()+c.I,Wu(c,c.I)}function Wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(A(c.ba,c),y)}function Er(c){c.B&&(d.clearTimeout(c.B),c.B=null)}rn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ku(this.i,this.A),this.L!=2&&(yr(),st(17)),zt(this),this.s=2,ei(this)):Wu(this,this.S-c)};function ei(c){c.j.G==0||c.J||oc(c.j,c)}function zt(c){Er(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,va(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ba(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Xo(_.h,c))){if(!c.K&&Xo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Cs(_),Rs(_);else break e;sl(_),st(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=_t(A(_.Za,_),6e3));if(1>=vs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((c.K||_.g==c)&&Cs(_),!O(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Fe=F[y];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const Mt=Fe[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const Rt=Fe[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const Li=Fe[5];Li!=null&&typeof Li=="number"&&0<Li&&(w=1.5*Li,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Bt=c.g;if(Bt){const oi=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var X=w.h;X.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(_s(X,X.h),X.h=null))}if(w.D){const ll=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(w.ya=ll,Ze(w.I,w.D,ll))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var le=c;if(w.qa=uc(w,w.J?w.ia:null,w.W),le.K){an(w.h,le);var Be=le,wt=w.L;wt&&(Be.I=wt),Be.B&&(Er(Be),Ta(Be)),w.g=le}else ac(w);0<_.i.length&&Is(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Vi(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Vi(_,7):rl(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}yr(4)}catch{}}var Zu=class{constructor(c,y){this.g=c,this.map=y}};function Ni(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ys(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vs(c){return c.h?1:c.g?c.g.size:0}function Xo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function _s(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ni.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function jh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Es(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Zo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Es(c),w=jh(c),F=w.length,X=0;X<F;X++)y.call(void 0,w[X],_&&_[X],c)}var Sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),F=null;if(0<=w){var X=c[_].substring(0,w);F=c[_].substring(w+1)}else X=c[_];y(X,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,Aa(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.s),this.l=c.l;var y=c.i,_=new Di;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Oi(this,_),this.m=c.m}else c&&(y=String(c).match(Sa))?(this.h=!1,Aa(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),Tr(this,y[4]),this.l=In(y[5]||"",!0),Oi(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ra(y,Jo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ra(y,Jo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ra(_,_.charAt(0)=="/"?zh:el,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ra(_,Ts)),c.join("")};function pn(c){return new Et(c)}function Aa(c,y,_){c.j=_?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oi(c,y,_){y instanceof Di?(c.i=y,ec(c.i,c.h)):(_||(y=Ra(y,Bh)),c.i=new Di(y,c.h))}function Ze(c,y,_){c.i.set(y,_)}function wa(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ra(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ju),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Jo=/[#\/\?@]/g,el=/[#\?:]/g,zh=/[#\?]/g,Bh=/[#\?@]/g,Ts=/#/g;function Di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Uh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Di.prototype,i.add=function(c,y){Cn(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ki(c,y){Cn(c),y=ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Pi(c,y){return Cn(c),y=ti(c,y),c.g.has(y)}i.forEach=function(c,y){Cn(this),this.g.forEach(function(_,w){_.forEach(function(F){c.call(y,F,w,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const F=c[w];for(let X=0;X<F.length;X++)_.push(y[w])}return _},i.V=function(c){Cn(this);let y=[];if(typeof c=="string")Pi(this,c)&&(y=y.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Cn(this),this.i=null,c=ti(this,c),Pi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function tl(c,y,_){ki(c,y),0<_.length&&(c.i=null,c.g.set(ti(c,y),H(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const X=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var F=X;le[w]!==""&&(F+="="+encodeURIComponent(String(le[w]))),c.push(F)}}return this.i=c.join("&")};function ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ec(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(_,w){var F=w.toLowerCase();w!=F&&(ki(this,w),tl(this,F,_))},c)),c.j=y}function Ia(c,y){const _=new Rn;if(d.Image){const w=new Image;w.onload=P(xn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=P(xn,_,"TestLoadImage: error",!1,y,w),w.onabort=P(xn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=P(xn,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Hn(c,y){const _=new Rn,w=new AbortController,F=setTimeout(()=>{w.abort(),xn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(X=>{clearTimeout(F),X.ok?xn(_,"TestPingServer: ok",!0,y):xn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),xn(_,"TestPingServer: error",!1,y)})}function xn(c,y,_,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(_)}catch{}}function Ca(){this.g=new _a}function ni(c,y,_){const w=_||"";try{Zo(c,function(F,X){let le=F;g(F)&&(le=Bn(F)),y.push(w+X+"="+encodeURIComponent(le))})}catch(F){throw y.push(w+"type="+encodeURIComponent("_badmap")),F}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}x(br,Ho),br.prototype.g=function(){return new Mi(this.l,this.j)},br.prototype.i=function(c){return function(){return c}}({});function Mi(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Mi,ft),i=Mi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&nl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function il(c){let y="";return de(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Pt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=il(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ze(c,y,_))}function Ye(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ye,ft);var bs=/^https?$/i,xa=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?qo(this.o):qo(Zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){tc(this,X);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)_.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())_.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(xa,y,void 0))||w||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of _)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Na(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){tc(this,X)}};function tc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ss(c),ai(c)}function Ss(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),ai(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?As(this):this.bb())},i.bb=function(){As(this)};function As(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Kt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=le===0){var F=String(c.D).match(Sa)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),w=!bs.test(F?F.toLowerCase():"")}_=w}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var X=2<Nn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Ss(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){Na(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{_.onreadystatechange=w}catch{}}}function Na(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ms(y)}};function nc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fh(c){const y={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(O(c[w]))continue;var _=L(c[w]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[F]||[];y[F]=X,X.push(_)}M(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ws(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,c),this.cb=Oa("retryDelaySeedMs",1e4,c),this.Wa=Oa("forwardChannelMaxRetries",2,c),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(c&&c.concurrentRequestLimit),this.Da=new Ca,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ws.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){st(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=uc(this,null,this.W),Is(this)};function rl(c){if(ic(c),c.G==3){var y=c.U++,_=pn(c.I);if(Ze(_,"SID",c.K),Ze(_,"RID",y),Ze(_,"TYPE","terminate"),Da(c,_),y=new rn(c,c.j,y),y.L=2,y.v=wa(pn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=cc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ta(y)}lc(c)}function Rs(c){c.g&&(ka(c),c.g.cancel(),c.g=null)}function ic(c){Rs(c),c.u&&(d.clearTimeout(c.u),c.u=null),Cs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Is(c){if(!ys(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||V(),pe||(ue(),pe=!0),ke.add(y,c),c.B=0}}function Hh(c,y){return vs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(A(c.Ga,c,y),ol(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new rn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=R(X),k(X,this.S)):X=this.S),this.m!==null||this.O||(F.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=rc(this,F,y),_=pn(this.I),Ze(_,"RID",c),Ze(_,"CVER",22),this.D&&Ze(_,"X-HTTP-Session-Id",this.D),Da(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(il(X)))+"&"+y:this.m&&Pt(_,this.m,X)),_s(this.h,F),this.Ua&&Ze(_,"TYPE","init"),this.P?(Ze(_,"$req",y),Ze(_,"SID","null"),F.T=!0,Fn(F,_,null)):Fn(F,_,y),this.G=2}}else this.G==3&&(c?al(this,c):this.i.length==0||ys(this.h)||al(this))};function al(c,y){var _;y?_=y.l:_=c.U++;const w=pn(c.I);Ze(w,"SID",c.K),Ze(w,"RID",_),Ze(w,"AID",c.T),Da(c,w),c.m&&c.o&&Pt(w,c.m,c.o),_=new rn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=rc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_s(c.h,_),Fn(_,w,y)}function Da(c,y){c.H&&de(c.H,function(_,w){Ze(y,w,_)}),c.l&&Zo({},function(_,w){Ze(y,w,_)})}function rc(c,y,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;e:{var F=c.i;let X=-1;for(;;){const le=["count="+_];X==-1?0<_?(X=F[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Be=!0;for(let wt=0;wt<_;wt++){let Fe=F[wt].g;const Mt=F[wt].map;if(Fe-=X,0>Fe)X=Math.max(0,F[wt].g-100),Be=!1;else try{ni(Mt,le,"req"+Fe+"_")}catch{w&&w(Mt)}}if(Be){w=le.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function ac(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||V(),pe||(ue(),pe=!0),ke.add(y,c),c.v=0}}function sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(A(c.Fa,c),ol(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Rs(this),sc(this))};function ka(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function sc(c){c.g=new rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pn(c.qa);Ze(y,"RID","rpc"),Ze(y,"SID",c.K),Ze(y,"AID",c.T),Ze(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(y,"TO",c.ja),Ze(y,"TYPE","xmlhttp"),Da(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=wa(pn(y)),_.m=null,_.P=!0,xi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Rs(this),sl(this),st(19))};function Cs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function oc(c,y){var _=null;if(c.g==y){Cs(c),ka(c),c.g=null;var w=2}else if(Xo(c.h,y))_=y.D,an(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;w=gr(),Qe(w,new At(w,_)),Is(c)}else ac(c);else if(F=y.s,F==3||F==0&&0<y.X||!(w==1&&Hh(c,y)||w==2&&sl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function ol(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Vi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),w=c.Xa;const F=!w;w=new Et(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Aa(w,"https"),wa(w),F?Ia(w.toString(),_):Hn(w.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(y),lc(c),ic(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function lc(c){if(c.G=0,c.ka=[],c.l){const y=Wo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function uc(c,y,_){var w=_ instanceof Et?pn(_):new Et(_);if(w.g!="")y&&(w.g=y+"."+w.g),Tr(w,w.s);else{var F=d.location;w=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var X=new Et(null);w&&Aa(X,w),y&&(X.g=y),F&&Tr(X,F),_&&(X.l=_),w=X}return _=c.D,y=c.ya,_&&y&&Ze(w,_,y),Ze(w,"VER",c.la),Da(c,w),w}function cc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new br({eb:_})):new Ye(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function fc(){}i=fc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function xs(){}xs.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ft.call(this),this.g=new ws(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!O(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}x(sn,ft),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){rl(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Bn(c),c=_);y.i.push(new Zu(y.Ya++,c)),y.G==3&&Is(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,sn.aa.N.call(this)};function hc(c){Ii.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(hc,Ii);function dc(){$o.call(this),this.status=1}x(dc,$o);function si(c){this.g=c}x(si,fc),si.prototype.ua=function(){Qe(this.g,"a")},si.prototype.ta=function(c){Qe(this.g,new hc(c))},si.prototype.sa=function(c){Qe(this.g,new dc)},si.prototype.ra=function(){Qe(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,d1=function(){return new xs},h1=function(){return gr()},f1=Wn,Sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Of=_r,Ci.COMPLETE="complete",c1=Ci,Go.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",ft.prototype.listen=ft.prototype.K,eu=Go,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,u1=Ye}).apply(typeof yf<"u"?yf:typeof self<"u"?self:typeof window<"u"?window:{});const vE="@firebase/firestore",_E="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new cg("@firebase/firestore");function ro(){return is.logLevel}function fe(i,...e){if(is.logLevel<=Ue.DEBUG){const t=e.map(Ag);is.debug(`Firestore (${Mo}): ${i}`,...t)}}function sr(i,...e){if(is.logLevel<=Ue.ERROR){const t=e.map(Ag);is.error(`Firestore (${Mo}): ${i}`,...t)}}function _o(i,...e){if(is.logLevel<=Ue.WARN){const t=e.map(Ag);is.warn(`Firestore (${Mo}): ${i}`,...t)}}function Ag(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(i,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,m1(i,a,t)}function m1(i,e,t){let a=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw sr(a),new Error(a)}function Ke(i,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,i||m1(e,o,a)}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class MN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let l=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ea,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ea)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new p1(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class LN{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jN{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new LN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const a=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const o=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new EE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new EE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=zN(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<t&&(a+=e.charAt(o[l]%62))}return a}}function De(i,e){return i<e?-1:i>e?1:0}function Ap(i,e){let t=0;for(;t<i.length&&t<e.length;){const a=i.codePointAt(t),o=e.codePointAt(t);if(a!==o){if(a<128&&o<128)return De(a,o);{const l=g1(),f=BN(l.encode(TE(i,t)),l.encode(TE(e,t)));return f!==0?f:De(a,o)}}t+=a>65535?2:1}return De(i.length,e.length)}function TE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function BN(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return De(i[t],e[t]);return De(i.length,e.length)}function Eo(i,e,t){return i.length===e.length&&i.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=-62135596800,SE=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*SE);return new Ot(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bE)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SE}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-bE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ot(0,0))}static max(){return new Ce(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="__name__";class di{constructor(e,t,a){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Re(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const l=di.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const a=di.isNumericId(e),o=di.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?di.extractNumericId(e).compare(di.extractNumericId(t)):Ap(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class mt extends di{construct(e,t,a){return new mt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ee(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const FN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends di{construct(e,t,a){return new $t(e,t,a)}static isValidIdentifier(e){return FN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AE}static keyField(){return new $t([AE])}static fromServerFormat(e){const t=[];let a="",o=0;const l=()=>{if(a.length===0)throw new Ee(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let f=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ee(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(a+=d,o++):(l(),o++)}if(l(),f)throw new Ee(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(mt.fromString(e))}static fromName(e){return new Te(mt.fromString(e).popFirst(5))}static empty(){return new Te(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function HN(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(a===1e9?new Ot(t+1,0):new Ot(t,a));return new ta(o,Te.empty(),e)}function qN(i){return new ta(i.readTime,i.key,pu)}class ta{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new ta(Ce.min(),Te.empty(),pu)}static max(){return new ta(Ce.max(),Te.empty(),pu)}}function GN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:De(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==$N)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,a)=>{t(e)})}static reject(e){return new te((t,a)=>{a(e)})}static waitFor(e){return new te((t,a)=>{let o=0,l=0,f=!1;e.forEach(d=>{++o,d.next(()=>{++l,f&&l===o&&t()},p=>a(p))}),f=!0,l===o&&t()})}static or(e){let t=te.resolve(!1);for(const a of e)t=t.next(o=>o?te.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,l)=>{a.push(t.call(this,o,l))}),this.waitFor(a)}static mapArray(e,t){return new te((a,o)=>{const l=e.length,f=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{f[g]=v,++d,d===l&&a(f)},v=>o(v))}})}static doWhile(e,t){return new te((a,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):a()};l()})}}function KN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>t.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}gh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=-1;function yh(i){return i==null}function Yf(i){return i===0&&1/i==-1/0}function QN(i){return typeof i=="number"&&Number.isInteger(i)&&!Yf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="";function XN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=wE(e)),e=WN(i.get(t),e);return wE(e)}function WN(i,e){let t=e;const a=i.length;for(let o=0;o<a;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case v1:t+="";break;default:t+=l}}return t}function wE(i){return i+v1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function os(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function _1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vf(this.root,e,this.comparator,!0)}}class vf{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,a,o,l){this.key=e,this.value=t,this.color=a??Gt.RED,this.left=o??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,l){return new Gt(e??this.key,t??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,a),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,a,o,l){return this}insert(e,t,a){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IE(this.data.getIterator())}getIteratorFrom(e){return new IE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class IE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Dt($t.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new E1("Invalid base64 string: "+l):l}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const ZN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const t=ZN.exec(i);if(Ke(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ia(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="server_timestamp",b1="__type__",S1="__previous_value__",A1="__local_write_time__";function Rg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[b1])===null||t===void 0?void 0:t.stringValue)===T1}function vh(i){const e=i.mapValue.fields[S1];return Rg(e)?vh(e):e}function gu(i){const e=na(i.mapValue.fields[A1].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t,a,o,l,f,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Kf="(default)";class yu{constructor(e,t){this.projectId=e,this.database=t||Kf}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="__type__",eO="__max__",_f={mapValue:{}},R1="__vector__",Qf="value";function ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Rg(i)?4:nO(i)?9007199254740991:tO(i)?10:11:Re(28295,{value:i})}function Ti(i,e){if(i===e)return!0;const t=ra(i);if(t!==ra(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return gu(i).isEqual(gu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=na(o.timestampValue),d=na(l.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return ia(o.bytesValue).isEqual(ia(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return vt(o.geoPointValue.latitude)===vt(l.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return vt(o.integerValue)===vt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=vt(o.doubleValue),d=vt(l.doubleValue);return f===d?Yf(f)===Yf(d):isNaN(f)&&isNaN(d)}return!1}(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(o,l){const f=o.mapValue.fields||{},d=l.mapValue.fields||{};if(RE(f)!==RE(d))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(d[p]===void 0||!Ti(f[p],d[p])))return!1;return!0}(i,e);default:return Re(52216,{left:i})}}function vu(i,e){return(i.values||[]).find(t=>Ti(t,e))!==void 0}function To(i,e){if(i===e)return 0;const t=ra(i),a=ra(e);if(t!==a)return De(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(i.booleanValue,e.booleanValue);case 2:return function(l,f){const d=vt(l.integerValue||l.doubleValue),p=vt(f.integerValue||f.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return CE(i.timestampValue,e.timestampValue);case 4:return CE(gu(i),gu(e));case 5:return Ap(i.stringValue,e.stringValue);case 6:return function(l,f){const d=ia(l),p=ia(f);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const d=l.split("/"),p=f.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=De(d[g],p[g]);if(v!==0)return v}return De(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const d=De(vt(l.latitude),vt(f.latitude));return d!==0?d:De(vt(l.longitude),vt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return xE(i.arrayValue,e.arrayValue);case 10:return function(l,f){var d,p,g,v;const b=l.fields||{},A=f.fields||{},P=(d=b[Qf])===null||d===void 0?void 0:d.arrayValue,x=(p=A[Qf])===null||p===void 0?void 0:p.arrayValue,H=De(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((v=x==null?void 0:x.values)===null||v===void 0?void 0:v.length)||0);return H!==0?H:xE(P,x)}(i.mapValue,e.mapValue);case 11:return function(l,f){if(l===_f.mapValue&&f===_f.mapValue)return 0;if(l===_f.mapValue)return 1;if(f===_f.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const A=Ap(p[b],v[b]);if(A!==0)return A;const P=To(d[p[b]],g[v[b]]);if(P!==0)return P}return De(p.length,v.length)}(i.mapValue,e.mapValue);default:throw Re(23264,{Pe:t})}}function CE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return De(i,e);const t=na(i),a=na(e),o=De(t.seconds,a.seconds);return o!==0?o:De(t.nanos,a.nanos)}function xE(i,e){const t=i.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const l=To(t[o],a[o]);if(l)return l}return De(t.length,a.length)}function bo(i){return wp(i)}function wp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const a=na(t);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ia(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Te.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let a="[",o=!0;for(const l of t.values||[])o?o=!1:a+=",",a+=wp(l);return a+"]"}(i.arrayValue):"mapValue"in i?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const f of a)l?l=!1:o+=",",o+=`${f}:${wp(t.fields[f])}`;return o+"}"}(i.mapValue):Re(61005,{value:i})}function Df(i){switch(ra(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(i);return e?16+Df(e):16;case 5:return 2*i.stringValue.length;case 6:return ia(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,l)=>o+Df(l),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return os(a.fields,(l,f)=>{o+=l.length+Df(f)}),o}(i.mapValue);default:throw Re(13486,{value:i})}}function Rp(i){return!!i&&"integerValue"in i}function Ig(i){return!!i&&"arrayValue"in i}function NE(i){return!!i&&"nullValue"in i}function OE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function kf(i){return!!i&&"mapValue"in i}function tO(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[w1])===null||t===void 0?void 0:t.stringValue)===R1}function su(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return os(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=su(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=su(i.arrayValue.values[t]);return e}return Object.assign({},i)}function nO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===eO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!kf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=$t.emptyPath(),a={},o=[];e.forEach((f,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,a,o),a={},o=[],t=d.popLast()}f?a[d.lastSegment()]=su(f):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,o)}delete(e){const t=this.field(e.popLast());kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];kf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){os(t,(o,l)=>e[o]=l);for(const o of a)delete e[o]}clone(){return new jn(su(this.value))}}function I1(i){const e=[];return os(i.fields,(t,a)=>{const o=new $t([t]);if(kf(a)){const l=I1(a.mapValue).fields;if(l.length===0)e.push(o);else for(const f of l)e.push(o.child(f))}else e.push(o)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,a,o,l,f,d){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=l,this.data=f,this.documentState=d}static newInvalidDocument(e){return new en(e,0,Ce.min(),Ce.min(),Ce.min(),jn.empty(),0)}static newFoundDocument(e,t,a,o){return new en(e,1,t,Ce.min(),a,o,0)}static newNoDocument(e,t){return new en(e,2,t,Ce.min(),Ce.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Ce.min(),Ce.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t){this.position=e,this.inclusive=t}}function DE(i,e,t){let a=0;for(let o=0;o<i.position.length;o++){const l=e[o],f=i.position[o];if(l.field.isKeyField()?a=Te.comparator(Te.fromName(f.referenceValue),t.key):a=To(f,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function kE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ti(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t="asc"){this.field=e,this.dir=t}}function iO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{}class Nt extends C1{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new aO(e,t,a):t==="array-contains"?new lO(e,a):t==="in"?new uO(e,a):t==="not-in"?new cO(e,a):t==="array-contains-any"?new fO(e,a):new Nt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new sO(e,a):new oO(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(To(t,this.value)):t!==null&&ra(this.value)===ra(t)&&this.matchesComparison(To(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends C1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new bi(e,t)}matches(e){return x1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function x1(i){return i.op==="and"}function N1(i){return rO(i)&&x1(i)}function rO(i){for(const e of i.filters)if(e instanceof bi)return!1;return!0}function Ip(i){if(i instanceof Nt)return i.field.canonicalString()+i.op.toString()+bo(i.value);if(N1(i))return i.filters.map(e=>Ip(e)).join(",");{const e=i.filters.map(t=>Ip(t)).join(",");return`${i.op}(${e})`}}function O1(i,e){return i instanceof Nt?function(a,o){return o instanceof Nt&&a.op===o.op&&a.field.isEqual(o.field)&&Ti(a.value,o.value)}(i,e):i instanceof bi?function(a,o){return o instanceof bi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((l,f,d)=>l&&O1(f,o.filters[d]),!0):!1}(i,e):void Re(19439)}function D1(i){return i instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${bo(t.value)}`}(i):i instanceof bi?function(t){return t.op.toString()+" {"+t.getFilters().map(D1).join(" ,")+"}"}(i):"Filter"}class aO extends Nt{constructor(e,t,a){super(e,t,a),this.key=Te.fromName(a.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class sO extends Nt{constructor(e,t){super(e,"in",t),this.keys=k1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oO extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=k1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function k1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>Te.fromName(a.referenceValue))}class lO extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ig(t)&&vu(t.arrayValue,this.value)}}class uO extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vu(this.value.arrayValue,t)}}class cO extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vu(this.value.arrayValue,t)}}class fO extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>vu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,t=null,a=[],o=[],l=null,f=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=f,this.endAt=d,this.Ie=null}}function PE(i,e=null,t=[],a=[],o=null,l=null,f=null){return new hO(i,e,t,a,o,l,f)}function Cg(i){const e=xe(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>Ip(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>bo(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>bo(a)).join(",")),e.Ie=t}return e.Ie}function xg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!iO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!O1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!kE(i.startAt,e.startAt)&&kE(i.endAt,e.endAt)}function Cp(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t=null,a=[],o=[],l=null,f="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=f,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function dO(i,e,t,a,o,l,f,d){return new _h(i,e,t,a,o,l,f,d)}function Ng(i){return new _h(i)}function ME(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function mO(i){return i.collectionGroup!==null}function ou(i){const e=xe(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new Dt($t.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Wf(l,a))}),t.has($t.keyField().canonicalString())||e.Ee.push(new Wf($t.keyField(),a))}return e.Ee}function vi(i){const e=xe(i);return e.de||(e.de=pO(e,ou(i))),e.de}function pO(i,e){if(i.limitType==="F")return PE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Wf(o.field,l)});const t=i.endAt?new Xf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Xf(i.startAt.position,i.startAt.inclusive):null;return PE(i.path,i.collectionGroup,e,i.filters,i.limit,t,a)}}function xp(i,e,t){return new _h(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Eh(i,e){return xg(vi(i),vi(e))&&i.limitType===e.limitType}function P1(i){return`${Cg(vi(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>D1(o)).join(", ")}]`),yh(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>bo(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>bo(o)).join(",")),`Target(${a})`}(vi(i))}; limitType=${i.limitType})`}function Th(i,e){return e.isFoundDocument()&&function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Te.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(i,e)&&function(a,o){for(const l of ou(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,d,p){const g=DE(f,d,p);return f.inclusive?g<=0:g<0}(a.startAt,ou(a),o)||a.endAt&&!function(f,d,p){const g=DE(f,d,p);return f.inclusive?g>=0:g>0}(a.endAt,ou(a),o))}(i,e)}function gO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function M1(i){return(e,t)=>{let a=!1;for(const o of ou(i)){const l=yO(o,e,t);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function yO(i,e,t){const a=i.field.isKeyField()?Te.comparator(e.key,t.key):function(l,f,d){const p=f.data.field(l),g=d.data.field(l);return p!==null&&g!==null?To(p,g):Re(42886)}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Re(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,(t,a)=>{for(const[o,l]of a)e(o,l)})}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new ct(Te.comparator);function or(){return vO}const V1=new ct(Te.comparator);function tu(...i){let e=V1;for(const t of i)e=e.insert(t.key,t);return e}function L1(i){let e=V1;return i.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function Wa(){return lu()}function j1(){return lu()}function lu(){return new ls(i=>i.toString(),(i,e)=>i.isEqual(e))}const _O=new ct(Te.comparator),EO=new Dt(Te.comparator);function ze(...i){let e=EO;for(const t of i)e=e.add(t);return e}const TO=new Dt(De);function bO(){return TO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function U1(i){return{integerValue:""+i}}function SO(i,e){return QN(e)?U1(e):Og(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function AO(i,e,t){return i instanceof Zf?function(o,l){const f={fields:{[b1]:{stringValue:T1},[A1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Rg(l)&&(l=vh(l)),l&&(f.fields[S1]=l),{mapValue:f}}(t,e):i instanceof _u?B1(i,e):i instanceof Eu?F1(i,e):function(o,l){const f=z1(o,l),d=VE(f)+VE(o.Re);return Rp(f)&&Rp(o.Re)?U1(d):Og(o.serializer,d)}(i,e)}function wO(i,e,t){return i instanceof _u?B1(i,e):i instanceof Eu?F1(i,e):t}function z1(i,e){return i instanceof Jf?function(a){return Rp(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class Zf extends bh{}class _u extends bh{constructor(e){super(),this.elements=e}}function B1(i,e){const t=H1(e);for(const a of i.elements)t.some(o=>Ti(o,a))||t.push(a);return{arrayValue:{values:t}}}class Eu extends bh{constructor(e){super(),this.elements=e}}function F1(i,e){let t=H1(e);for(const a of i.elements)t=t.filter(o=>!Ti(o,a));return{arrayValue:{values:t}}}class Jf extends bh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function VE(i){return vt(i.integerValue||i.doubleValue)}function H1(i){return Ig(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function RO(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof _u&&o instanceof _u||a instanceof Eu&&o instanceof Eu?Eo(a.elements,o.elements,Ti):a instanceof Jf&&o instanceof Jf?Ti(a.Re,o.Re):a instanceof Zf&&o instanceof Zf}(i.transform,e.transform)}class IO{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Sh{}function q1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new $1(i.key,nr.none()):new Lu(i.key,i.data,nr.none());{const t=i.data,a=jn.empty();let o=new Dt($t.comparator);for(let l of e.fields)if(!o.has(l)){let f=t.field(l);f===null&&l.length>1&&(l=l.popLast(),f=t.field(l)),f===null?a.delete(l):a.set(l,f),o=o.add(l)}return new us(i.key,a,new Kn(o.toArray()),nr.none())}}function CO(i,e,t){i instanceof Lu?function(o,l,f){const d=o.value.clone(),p=jE(o.fieldTransforms,l,f.transformResults);d.setAll(p),l.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(i,e,t):i instanceof us?function(o,l,f){if(!Pf(o.precondition,l))return void l.convertToUnknownDocument(f.version);const d=jE(o.fieldTransforms,l,f.transformResults),p=l.data;p.setAll(G1(o)),p.setAll(d),l.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,t):function(o,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function uu(i,e,t,a){return i instanceof Lu?function(l,f,d,p){if(!Pf(l.precondition,f))return d;const g=l.value.clone(),v=UE(l.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,t,a):i instanceof us?function(l,f,d,p){if(!Pf(l.precondition,f))return d;const g=UE(l.fieldTransforms,p,f),v=f.data;return v.setAll(G1(l)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(i,e,t,a):function(l,f,d){return Pf(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(i,e,t)}function xO(i,e){let t=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),l=z1(a.transform,o||null);l!=null&&(t===null&&(t=jn.empty()),t.set(a.field,l))}return t||null}function LE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Eo(a,o,(l,f)=>RO(l,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Lu extends Sh{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends Sh{constructor(e,t,a,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function G1(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function jE(i,e,t){const a=new Map;Ke(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const l=i[o],f=l.transform,d=e.data.field(l.field);a.set(l.field,wO(f,d,t[o]))}return a}function UE(i,e,t){const a=new Map;for(const o of i){const l=o.transform,f=t.data.field(o.field);a.set(o.field,AO(l,f,e))}return a}class $1 extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&CO(l,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=uu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=uu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=j1();return this.mutations.forEach(o=>{const l=e.get(o.key),f=l.overlayedDocument;let d=this.applyToLocalView(f,l.mutatedFields);d=t.has(o.key)?null:d;const p=q1(f,d);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ce.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(t,a)=>LE(t,a))&&Eo(this.baseMutations,e.baseMutations,(t,a)=>LE(t,a))}}class Dg{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){Ke(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return _O}();const l=e.mutations;for(let f=0;f<l.length;f++)o=o.insert(l[f].key,a[f].version);return new Dg(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,qe;function PO(i){switch(i){case re.OK:return Re(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function Y1(i){if(i===void 0)return sr("GRPC error has no .code"),re.UNKNOWN;switch(i){case St.OK:return re.OK;case St.CANCELLED:return re.CANCELLED;case St.UNKNOWN:return re.UNKNOWN;case St.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case St.INTERNAL:return re.INTERNAL;case St.UNAVAILABLE:return re.UNAVAILABLE;case St.UNAUTHENTICATED:return re.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case St.NOT_FOUND:return re.NOT_FOUND;case St.ALREADY_EXISTS:return re.ALREADY_EXISTS;case St.PERMISSION_DENIED:return re.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case St.ABORTED:return re.ABORTED;case St.OUT_OF_RANGE:return re.OUT_OF_RANGE;case St.UNIMPLEMENTED:return re.UNIMPLEMENTED;case St.DATA_LOSS:return re.DATA_LOSS;default:return Re(39323,{code:i})}}(qe=St||(St={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new Jr([4294967295,4294967295],0);function zE(i){const e=g1().encode(i),t=new l1;return t.update(e),new Uint8Array(t.digest())}function BE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Jr([t,a],0),new Jr([o,l],0)]}class kg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new nu(`Invalid padding: ${t}`);if(a<0)throw new nu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new nu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Jr.fromNumber(this.pe)}we(e,t,a){let o=e.add(t.multiply(Jr.fromNumber(a)));return o.compare(MO)===1&&(o=new Jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=zE(e),[a,o]=BE(t);for(let l=0;l<this.hashCount;l++){const f=this.we(a,o,l);if(!this.be(f))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new kg(l,o,t);return a.forEach(d=>f.insert(d)),f}insert(e){if(this.pe===0)return;const t=zE(e),[a,o]=BE(t);for(let l=0;l<this.hashCount;l++){const f=this.we(a,o,l);this.Se(f)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t,a,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Ah(Ce.min(),o,new ct(De),or(),ze())}}class ju{constructor(e,t,a,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new ju(a,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t,a,o){this.De=e,this.removedTargetIds=t,this.key=a,this.ve=o}}class K1{constructor(e,t){this.targetId=e,this.Ce=t}}class Q1{constructor(e,t,a=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class FE{constructor(){this.Fe=0,this.Me=HE(),this.xe=Yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),t=ze(),a=ze();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Re(38017,{changeType:l})}}),new ju(this.xe,this.Oe,e,t,a)}Qe(){this.Ne=!1,this.Me=HE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class VO{constructor(e){this.ze=e,this.je=new Map,this.He=or(),this.Je=Ef(),this.Ye=Ef(),this.Ze=new ct(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const a=this.rt(t);switch(e.state){case 0:this.it(t)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(t);break;case 3:this.it(t)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),a.ke(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((a,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,a=e.Ce.count,o=this._t(t);if(o){const l=o.target;if(Cp(l))if(a===0){const f=new Te(l.path);this.tt(t,f,en.newNoDocument(f,Ce.min()))}else Ke(a===1,20013,{expectedCount:a});else{const f=this.ut(t);if(f!==a){const d=this.ct(e),p=d?this.lt(d,e,f):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=t;let f,d;try{f=ia(a).toUint8Array()}catch(p){if(p instanceof E1)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new kg(f,o,l)}catch(p){return _o(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,a){return t.Ce.count===a-this.Tt(e,t.targetId)?0:2}Tt(e,t){const a=this.ze.getRemoteKeysForTarget(t);let o=0;return a.forEach(l=>{const f=this.ze.Pt(),d=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,f)=>{const d=this._t(f);if(d){if(l.current&&Cp(d.target)){const p=new Te(d.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,en.newNoDocument(p,e))}l.Le&&(t.set(f,l.qe()),l.Qe())}});let a=ze();this.Ye.forEach((l,f)=>{let d=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(l))}),this.He.forEach((l,f)=>f.setReadTime(e));const o=new Ah(e,t,this.Ze,this.He,a);return this.He=or(),this.Je=Ef(),this.Ye=Ef(),this.Ze=new ct(De),o}et(e,t){if(!this.it(e))return;const a=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,a),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),a&&(this.He=this.He.insert(t,a))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new FE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Dt(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Dt(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new FE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ef(){return new ct(Te.comparator)}function HE(){return new ct(Te.comparator)}const LO={asc:"ASCENDING",desc:"DESCENDING"},jO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UO={and:"AND",or:"OR"};class zO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Np(i,e){return i.useProto3Json||yh(e)?e:{value:e}}function eh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function BO(i,e){return eh(i,e.toTimestamp())}function _i(i){return Ke(!!i,49232),Ce.fromTimestamp(function(t){const a=na(t);return new Ot(a.seconds,a.nanos)}(i))}function Pg(i,e){return Op(i,e).canonicalString()}function Op(i,e){const t=function(o){return new mt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function W1(i){const e=mt.fromString(i);return Ke(nS(e),10190,{key:e.toString()}),e}function Dp(i,e){return Pg(i.databaseId,e.path)}function Qm(i,e){const t=W1(e);if(t.get(1)!==i.databaseId.projectId)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(J1(t))}function Z1(i,e){return Pg(i.databaseId,e)}function FO(i){const e=W1(i);return e.length===4?mt.emptyPath():J1(e)}function kp(i){return new mt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function J1(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function qE(i,e,t){return{name:Dp(i,e),fields:t.value.mapValue.fields}}function HO(i,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,d=f&&function(g){const v=g.code===void 0?re.UNKNOWN:Y1(g.code);return new Ee(v,g.message||"")}(f);t=new Q1(a,o,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Qm(i,a.document.name),l=_i(a.document.updateTime),f=a.document.createTime?_i(a.document.createTime):Ce.min(),d=new jn({mapValue:{fields:a.document.fields}}),p=en.newFoundDocument(o,l,f,d),g=a.targetIds||[],v=a.removedTargetIds||[];t=new Mf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Qm(i,a.document),l=a.readTime?_i(a.readTime):Ce.min(),f=en.newNoDocument(o,l),d=a.removedTargetIds||[];t=new Mf([],d,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Qm(i,a.document),l=a.removedTargetIds||[];t=new Mf([],l,o,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,f=new kO(o,l),d=a.targetId;t=new K1(d,f)}}return t}function qO(i,e){let t;if(e instanceof Lu)t={update:qE(i,e.key,e.value)};else if(e instanceof $1)t={delete:Dp(i,e.key)};else if(e instanceof us)t={update:qE(i,e.key,e.data),updateMask:JO(e.fieldMask)};else{if(!(e instanceof NO))return Re(16599,{ft:e.type});t={verify:Dp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,f){const d=f.transform;if(d instanceof Zf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _u)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jf)return{fieldPath:f.field.canonicalString(),increment:d.Re};throw Re(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:BO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)}(i,e.precondition)),t}function GO(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map(t=>function(o,l){let f=o.updateTime?_i(o.updateTime):_i(l);return f.isEqual(Ce.min())&&(f=_i(l)),new IO(f,o.transformResults||[])}(t,e))):[]}function $O(i,e){return{documents:[Z1(i,e.path)]}}function YO(i,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=Z1(i,o);const l=function(g){if(g.length!==0)return tS(bi.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const f=function(g){if(g.length!==0)return g.map(v=>function(A){return{field:so(A.field),direction:XO(A.dir)}}(v))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const d=Np(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function KO(i){let e=FO(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){Ke(a===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const A=eS(b);return A instanceof bi&&N1(A)?A.getFilters():[A]}(t.where));let f=[];t.orderBy&&(f=function(b){return b.map(A=>function(x){return new Wf(oo(x.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(b){let A;return A=typeof b=="object"?b.value:b,yh(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(b){const A=!!b.before,P=b.values||[];return new Xf(P,A)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const A=!b.before,P=b.values||[];return new Xf(P,A)}(t.endAt)),dO(e,o,f,l,d,"F",p,g)}function QO(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eS(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=oo(t.unaryFilter.field);return Nt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(t.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=oo(t.unaryFilter.field);return Nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=oo(t.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(i):i.fieldFilter!==void 0?function(t){return Nt.create(oo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return bi.create(t.compositeFilter.filters.map(a=>eS(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(i):Re(30097,{filter:i})}function XO(i){return LO[i]}function WO(i){return jO[i]}function ZO(i){return UO[i]}function so(i){return{fieldPath:i.canonicalString()}}function oo(i){return $t.fromServerFormat(i.fieldPath)}function tS(i){return i instanceof Nt?function(t){if(t.op==="=="){if(OE(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NAN"}};if(NE(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OE(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NAN"}};if(NE(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(t.field),op:WO(t.op),value:t.value}}}(i):i instanceof bi?function(t){const a=t.getFilters().map(o=>tS(o));return a.length===1?a[0]:{compositeFilter:{op:ZO(t.op),filters:a}}}(i):Re(54877,{filter:i})}function JO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,t,a,o,l=Ce.min(),f=Ce.min(),d=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.wt=e}}function tD(i){const e=KO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.Cn=new iD}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(ta.min())}updateCollectionGroup(e,t,a){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class iD{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new Dt(mt.comparator),l=!o.has(a);return this.index[t]=o.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Dt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iS=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(iS,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new So(0)}static lr(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="LruGarbageCollector",rD=1048576;function YE([i,e],[t,a]){const o=De(i,t);return o===0?De(e,a):o}class aD{constructor(e){this.Er=e,this.buffer=new Dt(YE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();YE(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sD{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe($E,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?fe($E,"Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.mr(3e5)})}}class oD{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return te.resolve(gh.le);const a=new aD(t);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.gr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(GE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let a,o,l,f,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(a=b,d=Date.now(),this.removeTargets(e,a,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(g=Date.now(),ro()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b})))}}function lD(i,e){return new oD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.changes=new ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?te.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&uu(a.mutation,o,Kn.empty(),Ot.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,ze()).next(()=>a))}getLocalViewOfDocuments(e,t,a=ze()){const o=Wa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(l=>{let f=tu();return l.forEach((d,p)=>{f=f.insert(d,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const a=Wa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,ze()))}populateOverlays(e,t,a){const o=[];return a.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((f,d)=>{t.set(f,d)})})}computeViews(e,t,a,o){let l=or();const f=lu(),d=function(){return lu()}();return t.forEach((p,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof us)?l=l.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),uu(v.mutation,g,v.mutation.getFieldMask(),Ot.now())):f.set(g.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>f.set(g,v)),t.forEach((g,v)=>{var b;return d.set(g,new cD(v,(b=f.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const a=lu();let o=new ct((f,d)=>f-d),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const d of f)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=a.get(p)||Kn.empty();v=d.applyToLocalView(g,v),a.set(p,v);const b=(o.get(d.batchId)||ze()).add(p);o=o.insert(d.batchId,b)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=j1();v.forEach(A=>{if(!l.has(A)){const P=q1(t.get(A),a.get(A));P!==null&&b.set(A,P),l=l.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(f){return Te.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(l=>{const f=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-l.size):te.resolve(Wa());let d=pu,p=l;return f.next(g=>te.forEach(g,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(A=>{p=p.insert(v,A)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,ze())).next(v=>({batchId:d,changes:L1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(a=>{let o=tu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const l=t.collectionGroup;let f=tu();return this.indexManager.getCollectionParents(e,l).next(d=>te.forEach(d,p=>{const g=function(b,A){return new _h(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(v=>{v.forEach((b,A)=>{f=f.insert(b,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,o))).next(f=>{l.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,en.newInvalidDocument(v)))});let d=tu();return f.forEach((p,g)=>{const v=l.get(p);v!==void 0&&uu(v.mutation,g,Kn.empty(),Ot.now()),Th(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return te.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:tD(o.bundledQuery),readTime:_i(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.overlays=new ct(Te.comparator),this.Qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Wa();return te.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&a.set(o,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,l)=>{this.St(e,t,l)}),te.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(a)),te.resolve()}getOverlaysForCollection(e,t,a){const o=Wa(),l=t.length+1,f=new Te(t.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let l=new ct((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let v=l.get(g.largestBatchId);v===null&&(v=Wa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Wa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return te.resolve(d)}St(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new DO(t,a));let l=this.Qr.get(t);l===void 0&&(l=ze(),this.Qr.set(t,l)),this.Qr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.$r=new Dt(Ut.Ur),this.Kr=new Dt(Ut.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const a=new Ut(e,t);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.zr(new Ut(e,t))}jr(e,t){e.forEach(a=>this.removeReference(a,t))}Hr(e){const t=new Te(new mt([])),a=new Ut(t,e),o=new Ut(t,e+1),l=[];return this.Kr.forEachInRange([a,o],f=>{this.zr(f),l.push(f.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Te(new mt([])),a=new Ut(t,e),o=new Ut(t,e+1);let l=ze();return this.Kr.forEachInRange([a,o],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new Ut(e,0),a=this.$r.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Ut{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Te.comparator(e.key,t.key)||De(e.Zr,t.Zr)}static Wr(e,t){return De(e.Zr,t.Zr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Dt(Ut.Ur)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new OO(l,t,a,o);this.mutationQueue.push(f);for(const d of o)this.Xr=this.Xr.add(new Ut(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,t){return te.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.ti(a),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?wg:this.nr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([a,o],f=>{const d=this.ei(f.Zr);l.push(d)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Dt(De);return t.forEach(o=>{const l=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,f],d=>{a=a.add(d.Zr)})}),te.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let l=a;Te.isDocumentKey(l)||(l=l.child(""));const f=new Ut(new Te(l),0);let d=new Dt(De);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Zr)),!0)},f),te.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return te.forEach(t.mutations,o=>{const l=new Ut(o.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,t){const a=new Ut(t,0),o=this.Xr.firstAfterOrEqual(a);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.ii=e,this.docs=function(){return new ct(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),l=o?o.size:0,f=this.ii(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return te.resolve(a?a.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let a=or();return t.forEach(o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():en.newInvalidDocument(o))}),te.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let l=or();const f=t.path,d=new Te(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||GN(qN(v),a)<=0||(o.has(v.key)||Th(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,a,o){Re(9500)}si(e,t){return te.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new yD(this)}getSize(e){return te.resolve(this.size)}}class yD extends uD{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),te.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.persistence=e,this.oi=new ls(t=>Cg(t),xg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new Mg,this.targetCount=0,this.ui=So.cr()}forEachTarget(e,t){return this.oi.forEach((a,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this._i&&(this._i=t),te.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new So(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Tr(t),te.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,a){let o=0;const l=[];return this.oi.forEach((f,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.oi.delete(f),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),te.waitFor(l).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const a=this.oi.get(t)||null;return te.resolve(a)}addMatchingKeys(e,t,a){return this.ai.Gr(t,a),te.resolve()}removeMatchingKeys(e,t,a){this.ai.jr(t,a);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(f=>{l.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const a=this.ai.Yr(t);return te.resolve(a)}containsKey(e,t){return te.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t){this.ci={},this.overlays={},this.li=new gh(0),this.hi=!1,this.hi=!0,this.Pi=new mD,this.referenceDelegate=e(this),this.Ti=new vD(this),this.indexManager=new nD,this.remoteDocumentCache=function(o){return new gD(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new eD(t),this.Ei=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ci[e.toKey()];return a||(a=new pD(t,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,a){fe("MemoryPersistence","Starting transaction:",e);const o=new _D(this.li.next());return this.referenceDelegate.di(),a(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(e,t){return te.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,t)))}}class _D extends YN{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.Vi=new Mg,this.mi=null}static fi(e){return new Vg(e)}get gi(){if(this.mi)return this.mi;throw Re(60996)}addReference(e,t,a){return this.Vi.addReference(a,t),this.gi.delete(a.toString()),te.resolve()}removeReference(e,t,a){return this.Vi.removeReference(a,t),this.gi.add(a.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.gi,a=>{const o=Te.fromPath(a);return this.pi(e,o).next(l=>{l||t.removeEntry(o,Ce.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(a=>{a?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return te.or([()=>te.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class th{constructor(e,t){this.persistence=e,this.yi=new ls(a=>XN(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=lD(this,t)}static fi(e,t){return new th(e,t)}di(){}Ai(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}br(e){let t=0;return this.yr(e,a=>{t++}).next(()=>t)}yr(e,t){return te.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(l=>l?te.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,t).next(d=>{d||(a++,l.removeEntry(f,Ce.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.yi.set(a,e.currentSequenceNumber),te.resolve()}removeReference(e,t,a){return this.yi.set(a,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),te.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Df(e.data.value)),t}Dr(e,t,a){return te.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return te.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.ds=a,this.As=o}static Rs(e,t){let a=ze(),o=ze();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Lg(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return XI()?8:KN(tn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,a,o){const l={result:null};return this.ws(e,t).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.bs(e,t,o,a).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new ED;return this.Ss(e,t,f).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,f,d.size)})}).next(()=>l.result)}Ds(e,t,a,o){return a.documentReadCount<this.gs?(ro()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),te.resolve()):(ro()<=Ue.DEBUG&&fe("QueryEngine","Query:",ao(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(ro()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(t))):te.resolve())}ws(e,t){if(ME(t))return te.resolve(null);let a=vi(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=xp(t,null,"F"),a=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const f=ze(...l);return this.ys.getDocuments(e,f).next(d=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.vs(t,d);return this.Cs(t,g,f,p.readTime)?this.ws(e,xp(t,null,"F")):this.Fs(e,g,t,p)}))})))}bs(e,t,a,o){return ME(t)||o.isEqual(Ce.min())?te.resolve(null):this.ys.getDocuments(e,a).next(l=>{const f=this.vs(t,l);return this.Cs(t,f,a,o)?te.resolve(null):(ro()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(t)),this.Fs(e,f,t,HN(o,pu)).next(d=>d))})}vs(e,t){let a=new Dt(M1(e));return t.forEach((o,l)=>{Th(e,l)&&(a=a.add(l))}),a}Cs(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,a){return ro()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ao(t)),this.ys.getDocumentsMatchingQuery(e,t,ta.min(),a)}Fs(e,t,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="LocalStore",bD=3e8;class SD{constructor(e,t,a,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new ct(De),this.Os=new ls(l=>Cg(l),xg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function AD(i,e,t,a){return new SD(i,e,t,a)}async function aS(i,e){const t=xe(i);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(l=>(o=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const f=[],d=[];let p=ze();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(a,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:d}))})})}function wD(i,e){const t=xe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const b=g.batch,A=b.keys();let P=te.resolve();return A.forEach(x=>{P=P.next(()=>v.getEntry(p,x)).next(H=>{const U=g.docVersions.get(x);Ke(U!==null,48541),H.version.compareTo(U)<0&&(b.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))})}),P.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let p=ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function sS(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function RD(i,e){const t=xe(i),a=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const d=[];e.targetChanges.forEach((v,b)=>{const A=o.get(b);if(!A)return;d.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,b)));let P=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Yt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,a)),o=o.insert(b,P),function(H,U,Y){return H.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=bD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(A,P,v)&&d.push(t.Ti.updateTargetData(l,P))});let p=or(),g=ze();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(ID(l,f,e.documentUpdates).next(v=>{p=v.qs,g=v.Qs})),!a.isEqual(Ce.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(b=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,a));d.push(v)}return te.waitFor(d).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.xs=o,l))}function ID(i,e,t){let a=ze(),o=ze();return t.forEach(l=>a=a.add(l)),e.getEntries(i,a).next(l=>{let f=or();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),f=f.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(d,p)):fe(jg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function CD(i,e){const t=xe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=wg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function xD(i,e){const t=xe(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.Ti.getTargetData(a,e).next(l=>l?(o=l,te.resolve(o)):t.Ti.allocateTargetId(a).next(f=>(o=new Qr(e,f,"TargetPurposeListen",a.currentSequenceNumber),t.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(a.targetId,a),t.Os.set(e,a.targetId)),a})}async function Pp(i,e,t){const a=xe(i),o=a.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Lo(f))throw f;fe(jg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function KE(i,e,t){const a=xe(i);let o=Ce.min(),l=ze();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const b=xe(p),A=b.Os.get(v);return A!==void 0?te.resolve(b.xs.get(A)):b.Ti.getTargetData(g,v)}(a,f,vi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(f,d.targetId).next(p=>{l=p})}).next(()=>a.Ms.getDocumentsMatchingQuery(f,e,t?o:Ce.min(),t?l:ze())).next(d=>(ND(a,gO(e),d),{documents:d,$s:l})))}function ND(i,e,t){let a=i.Ns.get(e)||Ce.min();t.forEach((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),i.Ns.set(e,a)}class QE{constructor(){this.activeTargetIds=bO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(){this.xo=new QE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,a){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new QE,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="ConnectivityMonitor";class WE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(XE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(XE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=null;function Mp(){return Tf===null?Tf=function(){return 268435456+Math.round(2147483648*Math.random())}():Tf++,"0x"+Tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",kD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===Kf?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,t,a,o,l){const f=Mp(),d=this.jo(e,t.toUriEncodedString());fe(Xm,`Sending RPC '${e}' ${f}:`,d,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,l);const{host:g}=new URL(d),v=Do(g);return this.Jo(e,d,p,a,v).then(b=>(fe(Xm,`Received RPC '${e}' ${f}: `,b),b),b=>{throw _o(Xm,`RPC '${e}' ${f} failed with error: `,b,"url: ",d,"request:",a),b})}Yo(e,t,a,o,l,f){return this.zo(e,t,a,o,l)}Ho(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),a&&a.headers.forEach((o,l)=>e[l]=o)}jo(e,t){const a=kD[e];return`${this.Ko}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class VD extends PD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,o,l){const f=Mp();return new Promise((d,p)=>{const g=new u1;g.setWithCredentials(!0),g.listenOnce(c1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Of.NO_ERROR:const b=g.getResponseJson();fe(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),d(b);break;case Of.TIMEOUT:fe(Wt,`RPC '${e}' ${f} timed out`),p(new Ee(re.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const A=g.getStatus();if(fe(Wt,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const x=P==null?void 0:P.error;if(x&&x.status&&x.message){const H=function(Y){const O=Y.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(O)>=0?O:re.UNKNOWN}(x.status);p(new Ee(H,x.message))}else p(new Ee(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ee(re.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{fe(Wt,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);fe(Wt,`RPC '${e}' ${f} sending request:`,o),g.send(t,"POST",v,a,15)})}I_(e,t,a){const o=Mp(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=d1(),d=h1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const v=l.join("");fe(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=f.createWebChannel(v,p);this.E_(b);let A=!1,P=!1;const x=new MD({Zo:U=>{P?fe(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(fe(Wt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),fe(Wt,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},Xo:()=>b.close()}),H=(U,Y,O)=>{U.listen(Y,G=>{try{O(G)}catch(ne){setTimeout(()=>{throw ne},0)}})};return H(b,eu.EventType.OPEN,()=>{P||(fe(Wt,`RPC '${e}' stream ${o} transport opened.`),x.__())}),H(b,eu.EventType.CLOSE,()=>{P||(P=!0,fe(Wt,`RPC '${e}' stream ${o} transport closed`),x.u_(),this.d_(b))}),H(b,eu.EventType.ERROR,U=>{P||(P=!0,_o(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),x.u_(new Ee(re.UNAVAILABLE,"The operation could not be completed")))}),H(b,eu.EventType.MESSAGE,U=>{var Y;if(!P){const O=U.data[0];Ke(!!O,16349);const G=O,ne=(G==null?void 0:G.error)||((Y=G[0])===null||Y===void 0?void 0:Y.error);if(ne){fe(Wt,`RPC '${e}' stream ${o} received error:`,ne);const oe=ne.status;let de=function(I){const k=St[I];if(k!==void 0)return Y1(k)}(oe),M=ne.message;de===void 0&&(de=re.INTERNAL,M="Unknown error status: "+oe+" with message "+ne.message),P=!0,x.u_(new Ee(de,M)),b.close()}else fe(Wt,`RPC '${e}' stream ${o} received:`,O),x.c_(O)}}),H(d,f1.STAT_EVENT,U=>{U.stat===Sp.PROXY?fe(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Sp.NOPROXY&&fe(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(i){return new zO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t,a=1e3,o=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=a,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-a);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="PersistentStream";class lS{constructor(e,t,a,o,l,f,d,p){this.xi=e,this.S_=a,this.D_=o,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new oS(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===t&&this.z_(a,o)},a=>{e(()=>{const o=new Ee(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,t){const a=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(ZE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(fe(ZE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LD extends lS{constructor(e,t,a,o,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,f),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=HO(this.serializer,e),a=function(l){if(!("targetChange"in l))return Ce.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?_i(f.readTime):Ce.min()}(e);return this.listener.Y_(t,a)}Z_(e){const t={};t.database=kp(this.serializer),t.addTarget=function(l,f){let d;const p=f.target;if(d=Cp(p)?{documents:$O(l,p)}:{query:YO(l,p).gt},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=X1(l,f.resumeToken);const g=Np(l,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ce.min())>0){d.readTime=eh(l,f.snapshotVersion.toTimestamp());const g=Np(l,f.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=QO(this.serializer,e);a&&(t.labels=a),this.Q_(t)}X_(e){const t={};t.database=kp(this.serializer),t.removeTarget=e,this.Q_(t)}}class jD extends lS{constructor(e,t,a,o,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,f),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=GO(e.writeResults,e.commitTime),a=_i(e.commitTime);return this.listener.ra(a,t)}ia(){const e={};e.database=kp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>qO(this.serializer,a))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{}class zD extends UD{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.zo(e,Op(t,a),o,l,f)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(re.UNKNOWN,l.toString())})}Yo(e,t,a,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Yo(e,Op(t,a),o,f,d,l)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ee(re.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class BD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(sr(t),this.ua=!1):fe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="RemoteStore";class FD{constructor(e,t,a,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(f=>{a.enqueueAndForget(async()=>{cs(this)&&(fe(rs,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.da.add(4),await Uu(g),g.Va.set("Unknown"),g.da.delete(4),await Rh(g)}(this))})}),this.Va=new BD(a,o)}}async function Rh(i){if(cs(i))for(const e of i.Aa)await e(!0)}async function Uu(i){for(const e of i.Aa)await e(!1)}function uS(i,e){const t=xe(i);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Fg(t)?Bg(t):jo(t).N_()&&zg(t,e))}function Ug(i,e){const t=xe(i),a=jo(t);t.Ea.delete(e),a.N_()&&cS(t,e),t.Ea.size===0&&(a.N_()?a.k_():cs(t)&&t.Va.set("Unknown"))}function zg(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jo(i).Z_(e)}function cS(i,e){i.ma.Ke(e),jo(i).X_(e)}function Bg(i){i.ma=new VO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),jo(i).start(),i.Va.ca()}function Fg(i){return cs(i)&&!jo(i).O_()&&i.Ea.size>0}function cs(i){return xe(i).da.size===0}function fS(i){i.ma=void 0}async function HD(i){i.Va.set("Online")}async function qD(i){i.Ea.forEach((e,t)=>{zg(i,e)})}async function GD(i,e){fS(i),Fg(i)?(i.Va.Pa(e),Bg(i)):i.Va.set("Unknown")}async function $D(i,e,t){if(i.Va.set("Online"),e instanceof Q1&&e.state===2&&e.cause)try{await async function(o,l){const f=l.cause;for(const d of l.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o.Ea.delete(d),o.ma.removeTarget(d))}(i,e)}catch(a){fe(rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await nh(i,a)}else if(e instanceof Mf?i.ma.Xe(e):e instanceof K1?i.ma.ot(e):i.ma.nt(e),!t.isEqual(Ce.min()))try{const a=await sS(i.localStore);t.compareTo(a)>=0&&await function(l,f){const d=l.ma.It(f);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ea.get(g);v&&l.Ea.set(g,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach((p,g)=>{const v=l.Ea.get(p);if(!v)return;l.Ea.set(p,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),cS(l,p);const b=new Qr(v.target,p,g,v.sequenceNumber);zg(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(a){fe(rs,"Failed to raise snapshot:",a),await nh(i,a)}}async function nh(i,e,t){if(!Lo(e))throw e;i.da.add(1),await Uu(i),i.Va.set("Offline"),t||(t=()=>sS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(rs,"Retrying IndexedDB access"),await t(),i.da.delete(1),await Rh(i)})}function hS(i,e){return e().catch(t=>nh(i,t,e))}async function Ih(i){const e=xe(i),t=aa(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:wg;for(;YD(e);)try{const o=await CD(e.localStore,a);if(o===null){e.Ia.length===0&&t.k_();break}a=o.batchId,KD(e,o)}catch(o){await nh(e,o)}dS(e)&&mS(e)}function YD(i){return cs(i)&&i.Ia.length<10}function KD(i,e){i.Ia.push(e);const t=aa(i);t.N_()&&t.ea&&t.ta(e.mutations)}function dS(i){return cs(i)&&!aa(i).O_()&&i.Ia.length>0}function mS(i){aa(i).start()}async function QD(i){aa(i).ia()}async function XD(i){const e=aa(i);for(const t of i.Ia)e.ta(t.mutations)}async function WD(i,e,t){const a=i.Ia.shift(),o=Dg.from(a,e,t);await hS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Ih(i)}async function ZD(i,e){e&&aa(i).ea&&await async function(a,o){if(function(f){return PO(f)&&f!==re.ABORTED}(o.code)){const l=a.Ia.shift();aa(a).L_(),await hS(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Ih(a)}}(i,e),dS(i)&&mS(i)}async function JE(i,e){const t=xe(i);t.asyncQueue.verifyOperationInProgress(),fe(rs,"RemoteStore received new credentials");const a=cs(t);t.da.add(3),await Uu(t),a&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Rh(t)}async function JD(i,e){const t=xe(i);e?(t.da.delete(2),await Rh(t)):e||(t.da.add(2),await Uu(t),t.Va.set("Unknown"))}function jo(i){return i.fa||(i.fa=function(t,a,o){const l=xe(t);return l.oa(),new LD(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{e_:HD.bind(null,i),n_:qD.bind(null,i),i_:GD.bind(null,i),Y_:$D.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),Fg(i)?Bg(i):i.Va.set("Unknown")):(await i.fa.stop(),fS(i))})),i.fa}function aa(i){return i.ga||(i.ga=function(t,a,o){const l=xe(t);return l.oa(),new jD(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:QD.bind(null,i),i_:ZD.bind(null,i),na:XD.bind(null,i),ra:WD.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await Ih(i)):(await i.ga.stop(),i.Ia.length>0&&(fe(rs,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t,a,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,l){const f=Date.now()+a,d=new Hg(e,t,f,o,l);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(i,e){if(sr("AsyncQueue",`${e}: ${i}`),Lo(i))return new Ee(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Te.comparator(t.key,a.key):(t,a)=>Te.comparator(t.key,a.key),this.keyedMap=tu(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new po;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.pa=new ct(Te.comparator)}track(e){const t=e.doc.key,a=this.pa.get(t);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(t,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(t):e.type===1&&a.type===2?this.pa=this.pa.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Re(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,a)=>{e.push(a)}),e}}class Ao{constructor(e,t,a,o,l,f,d,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,l){const f=[];return t.forEach(d=>{f.push({type:0,doc:d})}),new Ao(e,t,po.emptySet(t),f,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class t4{constructor(){this.queries=tT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=xe(t),l=o.queries;o.queries=tT(),l.forEach((f,d)=>{for(const p of d.Sa)p.onError(a)})})(this,new Ee(re.ABORTED,"Firestore shutting down"))}}function tT(){return new ls(i=>P1(i),Eh)}async function n4(i,e){const t=xe(i);let a=3;const o=e.query;let l=t.queries.get(o);l?!l.Da()&&e.va()&&(a=2):(l=new e4,a=e.va()?0:1);try{switch(a){case 0:l.ba=await t.onListen(o,!0);break;case 1:l.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const d=qg(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Gg(t)}async function i4(i,e){const t=xe(i),a=e.query;let o=3;const l=t.queries.get(a);if(l){const f=l.Sa.indexOf(e);f>=0&&(l.Sa.splice(f,1),l.Sa.length===0?o=e.va()?0:1:!l.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function r4(i,e){const t=xe(i);let a=!1;for(const o of e){const l=o.query,f=t.queries.get(l);if(f){for(const d of f.Sa)d.Ma(o)&&(a=!0);f.ba=o}}a&&Gg(t)}function a4(i,e,t){const a=xe(i),o=a.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);a.queries.delete(e)}function Gg(i){i.Ca.forEach(e=>{e.next()})}var Vp,nT;(nT=Vp||(Vp={})).xa="default",nT.Cache="cache";class s4{constructor(e,t,a){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ao(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const a=t!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.key=e}}class gS{constructor(e){this.key=e}}class o4{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.Za=M1(e),this.Xa=new po(this.Za)}get eu(){return this.Ha}tu(e,t){const a=t?t.nu:new eT,o=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,f=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,b)=>{const A=o.get(v),P=Th(this.query,b)?b:null,x=!!A&&this.mutatedKeys.has(A.key),H=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let U=!1;A&&P?A.data.isEqual(P.data)?x!==H&&(a.track({type:3,doc:P}),U=!0):this.ru(A,P)||(a.track({type:2,doc:P}),U=!0,(p&&this.Za(P,p)>0||g&&this.Za(P,g)<0)&&(d=!0)):!A&&P?(a.track({type:0,doc:P}),U=!0):A&&!P&&(a.track({type:1,doc:A}),U=!0,(p||g)&&(d=!0)),U&&(P?(f=f.add(P),l=H?l.add(v):l.delete(v)):(f=f.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),l=l.delete(v.key),a.track({type:1,doc:v})}return{Xa:f,nu:a,Cs:d,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((v,b)=>function(P,x){const H=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:U})}};return H(P)-H(x)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(a),o=o!=null&&o;const d=t&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new Ao(this.query,e.Xa,l,f,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new eT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const t=[];return e.forEach(a=>{this.Ya.has(a)||t.push(new gS(a))}),this.Ya.forEach(a=>{e.has(a)||t.push(new pS(a))}),t}au(e){this.Ha=e.$s,this.Ya=ze();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Ao.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const $g="SyncEngine";class l4{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class u4{constructor(e){this.key=e,this.cu=!1}}class c4{constructor(e,t,a,o,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new ls(d=>P1(d),Eh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ct(Te.comparator),this.Eu=new Map,this.du=new Mg,this.Au={},this.Ru=new Map,this.Vu=So.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function f4(i,e,t=!0){const a=bS(i);let o;const l=a.hu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await yS(a,e,t,!0),o}async function h4(i,e){const t=bS(i);await yS(t,e,!0,!1)}async function yS(i,e,t,a){const o=await xD(i.localStore,vi(e)),l=o.targetId,f=i.sharedClientState.addLocalQueryTarget(l,t);let d;return a&&(d=await d4(i,e,l,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&uS(i.remoteStore,o),d}async function d4(i,e,t,a,o){i.fu=(b,A,P)=>async function(H,U,Y,O){let G=U.view.tu(Y);G.Cs&&(G=await KE(H.localStore,U.query,!1).then(({documents:M})=>U.view.tu(M,G)));const ne=O&&O.targetChanges.get(U.targetId),oe=O&&O.targetMismatches.get(U.targetId)!=null,de=U.view.applyChanges(G,H.isPrimaryClient,ne,oe);return rT(H,U.targetId,de.ou),de.snapshot}(i,b,A,P);const l=await KE(i.localStore,e,!0),f=new o4(e,l.$s),d=f.tu(l.documents),p=ju.createSynthesizedTargetChangeForCurrentChange(t,a&&i.onlineState!=="Offline",o),g=f.applyChanges(d,i.isPrimaryClient,p);rT(i,t,g.ou);const v=new l4(e,t,f);return i.hu.set(e,v),i.Pu.has(t)?i.Pu.get(t).push(e):i.Pu.set(t,[e]),g.snapshot}async function m4(i,e,t){const a=xe(i),o=a.hu.get(e),l=a.Pu.get(o.targetId);if(l.length>1)return a.Pu.set(o.targetId,l.filter(f=>!Eh(f,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Pp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&Ug(a.remoteStore,o.targetId),Lp(a,o.targetId)}).catch(Vo)):(Lp(a,o.targetId),await Pp(a.localStore,o.targetId,!0))}async function p4(i,e){const t=xe(i),a=t.hu.get(e),o=t.Pu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Ug(t.remoteStore,a.targetId))}async function g4(i,e,t){const a=S4(i);try{const o=await function(f,d){const p=xe(f),g=Ot.now(),v=d.reduce((P,x)=>P.add(x.key),ze());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let x=or(),H=ze();return p.Bs.getEntries(P,v).next(U=>{x=U,x.forEach((Y,O)=>{O.isValidDocument()||(H=H.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,x)).next(U=>{b=U;const Y=[];for(const O of d){const G=xO(O,b.get(O.key).overlayedDocument);G!=null&&Y.push(new us(O.key,G,I1(G.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,Y,d)}).next(U=>{A=U;const Y=U.applyToLocalDocumentSet(b,H);return p.documentOverlayCache.saveOverlays(P,U.batchId,Y)})}).then(()=>({batchId:A.batchId,changes:L1(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){let g=f.Au[f.currentUser.toKey()];g||(g=new ct(De)),g=g.insert(d,p),f.Au[f.currentUser.toKey()]=g}(a,o.batchId,t),await zu(a,o.changes),await Ih(a.remoteStore)}catch(o){const l=qg(o,"Failed to persist write");t.reject(l)}}async function vS(i,e){const t=xe(i);try{const a=await RD(t.localStore,e);e.targetChanges.forEach((o,l)=>{const f=t.Eu.get(l);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ke(f.cu,14607):o.removedDocuments.size>0&&(Ke(f.cu,42227),f.cu=!1))}),await zu(t,a,e)}catch(a){await Vo(a)}}function iT(i,e,t){const a=xe(i);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.hu.forEach((l,f)=>{const d=f.view.Fa(e);d.snapshot&&o.push(d.snapshot)}),function(f,d){const p=xe(f);p.onlineState=d;let g=!1;p.queries.forEach((v,b)=>{for(const A of b.Sa)A.Fa(d)&&(g=!0)}),g&&Gg(p)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function y4(i,e,t){const a=xe(i);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Eu.get(e),l=o&&o.key;if(l){let f=new ct(Te.comparator);f=f.insert(l,en.newNoDocument(l,Ce.min()));const d=ze().add(l),p=new Ah(Ce.min(),new Map,new ct(De),f,d);await vS(a,p),a.Iu=a.Iu.remove(l),a.Eu.delete(e),Yg(a)}else await Pp(a.localStore,e,!1).then(()=>Lp(a,e,t)).catch(Vo)}async function v4(i,e){const t=xe(i),a=e.batch.batchId;try{const o=await wD(t.localStore,e);ES(t,a,null),_S(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await zu(t,o)}catch(o){await Vo(o)}}async function _4(i,e,t){const a=xe(i);try{const o=await function(f,d){const p=xe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(Ke(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(a.localStore,e);ES(a,e,t),_S(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await zu(a,o)}catch(o){await Vo(o)}}function _S(i,e){(i.Ru.get(e)||[]).forEach(t=>{t.resolve()}),i.Ru.delete(e)}function ES(i,e,t){const a=xe(i);let o=a.Au[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function Lp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Pu.get(e))i.hu.delete(a),t&&i.lu.gu(a,t);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(a=>{i.du.containsKey(a)||TS(i,a)})}function TS(i,e){i.Tu.delete(e.path.canonicalString());const t=i.Iu.get(e);t!==null&&(Ug(i.remoteStore,t),i.Iu=i.Iu.remove(e),i.Eu.delete(t),Yg(i))}function rT(i,e,t){for(const a of t)a instanceof pS?(i.du.addReference(a.key,e),E4(i,a)):a instanceof gS?(fe($g,"Document no longer in limbo: "+a.key),i.du.removeReference(a.key,e),i.du.containsKey(a.key)||TS(i,a.key)):Re(19791,{pu:a})}function E4(i,e){const t=e.key,a=t.path.canonicalString();i.Iu.get(t)||i.Tu.has(a)||(fe($g,"New document in limbo: "+t),i.Tu.add(a),Yg(i))}function Yg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const t=new Te(mt.fromString(e)),a=i.Vu.next();i.Eu.set(a,new u4(t)),i.Iu=i.Iu.insert(t,a),uS(i.remoteStore,new Qr(vi(Ng(t.path)),a,"TargetPurposeLimboResolution",gh.le))}}async function zu(i,e,t){const a=xe(i),o=[],l=[],f=[];a.hu.isEmpty()||(a.hu.forEach((d,p)=>{f.push(a.fu(p,e,t).then(g=>{var v;if((g||t)&&a.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Lg.Rs(p.targetId,g);l.push(b)}}))}),await Promise.all(f),a.lu.Y_(o),await async function(p,g){const v=xe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>te.forEach(g,A=>te.forEach(A.ds,P=>v.persistence.referenceDelegate.addReference(b,A.targetId,P)).next(()=>te.forEach(A.As,P=>v.persistence.referenceDelegate.removeReference(b,A.targetId,P)))))}catch(b){if(!Lo(b))throw b;fe(jg,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const P=v.xs.get(A),x=P.snapshotVersion,H=P.withLastLimboFreeSnapshotVersion(x);v.xs=v.xs.insert(A,H)}}}(a.localStore,l))}async function T4(i,e){const t=xe(i);if(!t.currentUser.isEqual(e)){fe($g,"User change. New user:",e.toKey());const a=await aS(t.localStore,e);t.currentUser=e,function(l,f){l.Ru.forEach(d=>{d.forEach(p=>{p.reject(new Ee(re.CANCELLED,f))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await zu(t,a.ks)}}function b4(i,e){const t=xe(i),a=t.Eu.get(e);if(a&&a.cu)return ze().add(a.key);{let o=ze();const l=t.Pu.get(e);if(!l)return o;for(const f of l){const d=t.hu.get(f);o=o.unionWith(d.view.eu)}return o}}function bS(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y4.bind(null,e),e.lu.Y_=r4.bind(null,e.eventManager),e.lu.gu=a4.bind(null,e.eventManager),e}function S4(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_4.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return AD(this.persistence,new TD,e.initialUser,this.serializer)}Su(e){return new rS(Vg.fi,this.serializer)}bu(e){return new OD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class A4 extends ih{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ke(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new sD(a,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new rS(a=>th.fi(a,t),this.serializer)}}class jp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>iT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await JD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t4}()}createDatastore(e){const t=wh(e.databaseInfo.databaseId),a=function(l){return new VD(l)}(e.databaseInfo);return function(l,f,d,p){return new zD(l,f,d,p)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,l,f,d){return new FD(a,o,l,f,d)}(this.localStore,this.datastore,e.asyncQueue,t=>iT(this.syncEngine,t,0),function(){return WE.C()?new WE:new DD}())}createSyncEngine(e,t){return function(o,l,f,d,p,g,v){const b=new c4(o,l,f,d,p,g);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=xe(o);fe(rs,"RemoteStore shutting down."),l.da.add(5),await Uu(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}jp.provider={build:()=>new jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="FirestoreClient";class R4{constructor(e,t,a,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=y1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async f=>{fe(sa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(fe(sa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=qg(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Zm(i,e){i.asyncQueue.verifyOperationInProgress(),fe(sa,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await aS(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function aT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await I4(i);fe(sa,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(a=>JE(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>JE(e.remoteStore,o)),i._onlineComponents=e}async function I4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(sa,"Using user provided OfflineComponentProvider");try{await Zm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;_o("Error using user provided cache. Falling back to memory cache: "+t),await Zm(i,new ih)}}else fe(sa,"Using default OfflineComponentProvider"),await Zm(i,new A4(void 0));return i._offlineComponents}async function SS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(sa,"Using user provided OnlineComponentProvider"),await aT(i,i._uninitializedComponentsProvider._online)):(fe(sa,"Using default OnlineComponentProvider"),await aT(i,new jp))),i._onlineComponents}function C4(i){return SS(i).then(e=>e.syncEngine)}async function x4(i){const e=await SS(i),t=e.eventManager;return t.onListen=f4.bind(null,e.syncEngine),t.onUnlisten=m4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=h4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=p4.bind(null,e.syncEngine),t}function N4(i,e,t={}){const a=new ea;return i.asyncQueue.enqueueAndForget(async()=>function(l,f,d,p,g){const v=new w4({next:A=>{v.xu(),f.enqueueAndForget(()=>i4(l,b));const P=A.docs.has(d);!P&&A.fromCache?g.reject(new Ee(re.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&p&&p.source==="server"?g.reject(new Ee(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new s4(Ng(d.path),v,{includeMetadataChanges:!0,Qa:!0});return n4(l,b)}(await x4(i),i.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(i,e,t){if(!t)throw new Ee(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function D4(i,e,t,a){if(e===!0&&a===!0)throw new Ee(re.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function oT(i){if(!Te.isDocumentKey(i))throw new Ee(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Kg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function Tu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ee(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kg(i);throw new Ee(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firestore.googleapis.com",lT=!0;class uT{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wS,this.ssl=lT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rD)throw new Ee(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AS((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qg{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new PN;switch(a.type){case"firstParty":return new jN(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ee(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=sT.get(t);a&&(fe("ComponentProvider","Removing Datastore"),sT.delete(t),a.terminate())}(this),Promise.resolve()}}function k4(i,e,t,a={}){var o;i=Tu(i,Qg);const l=Do(e),f=i._getSettings(),d=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;l&&(Eb(`https://${p}`),Tb("Firestore",!0)),f.host!==wS&&f.host!==p&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:l,emulatorOptions:a});if(!Ja(g,d)&&(i._setSettings(g),a.mockUserToken)){let v,b;if(typeof a.mockUserToken=="string")v=a.mockUserToken,b=Jt.MOCK_USER;else{v=BI(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new Ee(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Jt(A)}i._authCredentials=new MN(new p1(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Xg(this.firestore,e,this._query)}}class Un{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class bu extends Xg{constructor(e,t,a){super(e,t,Ng(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new Te(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function Su(i,e,...t){if(i=dn(i),arguments.length===1&&(e=y1.newId()),O4("doc","path",e),i instanceof Qg){const a=mt.fromString(e,...t);return oT(a),new Un(i,null,new Te(a))}{if(!(i instanceof Un||i instanceof bu))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(mt.fromString(e,...t));return oT(a),new Un(i.firestore,i instanceof bu?i.converter:null,new Te(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="AsyncQueue";class fT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new oS(this,"async_queue_retry"),this.rc=()=>{const a=Wm();a&&fe(cT,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const t=Wm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Wm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new ea;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Lo(e))throw e;fe(cT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,sr("INTERNAL UNHANDLED ERROR: ",hT(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=t,t}enqueueAfterDelay(e,t,a){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=Hg.createAndSchedule(this,e,t,a,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&Re(47125,{cc:hT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function hT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Wg extends Qg{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new fT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fT(e),this._firestoreClient=void 0,await e}}}function P4(i,e){const t=wb(),a=Kf,o=hg(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=UI("firestore");l&&k4(o,...l)}return o}function RS(i){if(i._terminated)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||M4(i),i._firestoreClient}function M4(i){var e,t,a;const o=i._freezeSettings(),l=function(d,p,g,v){return new JN(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,AS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new R4(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(Yt.fromBase64String(e))}catch(t){throw new Ee(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wo(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=/^__.*__$/;class L4{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}function CS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ic:i})}}class ty{constructor(e,t,a,o,l,f){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return rh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(CS(this.Ic)&&V4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class j4{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||wh(e)}bc(e,t,a,o=!1){return new ty({Ic:e,methodName:t,wc:a,path:$t.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U4(i){const e=i._freezeSettings(),t=wh(i._databaseId);return new j4(i._databaseId,!!e.ignoreUndefinedProperties,t)}function z4(i,e,t,a,o,l={}){const f=i.bc(l.merge||l.mergeFields?2:0,e,t,o);DS("Data must be an object, but it was:",f,a);const d=NS(a,f);let p,g;if(l.merge)p=new Kn(f.fieldMask),g=f.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const A=B4(e,b,t);if(!f.contains(A))throw new Ee(re.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);H4(v,A)||v.push(A)}p=new Kn(v),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new L4(new jn(d),p,g)}function xS(i,e){if(OS(i=dn(i)))return DS("Unsupported field value:",e,i),NS(i,e);if(i instanceof IS)return function(a,o){if(!CS(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const l=[];let f=0;for(const d of a){let p=xS(d,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),f++}return{arrayValue:{values:l}}}(i,e)}return function(a,o){if((a=dn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return SO(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Ot.fromDate(a);return{timestampValue:eh(o.serializer,l)}}if(a instanceof Ot){const l=new Ot(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:eh(o.serializer,l)}}if(a instanceof Jg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof wo)return{bytesValue:X1(o.serializer,a._byteString)};if(a instanceof Un){const l=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(l))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ey)return function(f,d){return{mapValue:{fields:{[w1]:{stringValue:R1},[Qf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return Og(d.serializer,g)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${Kg(a)}`)}(i,e)}function NS(i,e){const t={};return _1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(i,(a,o)=>{const l=xS(o,e.Ac(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function OS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ot||i instanceof Jg||i instanceof wo||i instanceof Un||i instanceof IS||i instanceof ey)}function DS(i,e,t){if(!OS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const a=Kg(t);throw a==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+a)}}function B4(i,e,t){if((e=dn(e))instanceof Zg)return e._internalPath;if(typeof e=="string")return kS(i,e);throw rh("Field path arguments must be of type string or ",i,!1,void 0,t)}const F4=new RegExp("[~\\*/\\[\\]]");function kS(i,e,t){if(e.search(F4)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Zg(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function rh(i,e,t,a,o){const l=a&&!a.isEmpty(),f=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||f)&&(p+=" (found",l&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new Ee(re.INVALID_ARGUMENT,d+i+p)}function H4(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t,a,o,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(MS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class q4 extends PS{data(){return super.data()}}function MS(i,e){return typeof e=="string"?kS(i,e):e instanceof Zg?e._internalPath:e._delegate._internalPath}class G4{convertValue(e,t="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return os(e,(o,l)=>{a[o]=this.convertValue(l,t)}),a}convertVectorValue(e){var t,a,o;const l=(o=(a=(t=e.fields)===null||t===void 0?void 0:t[Qf].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>vt(f.doubleValue));return new ey(l)}convertGeoPoint(e){return new Jg(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const t=na(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=mt.fromString(e);Ke(nS(a),9688,{name:e});const o=new yu(a.get(1),a.get(3)),l=new Te(a.popFirst(5));return o.isEqual(t)||sr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VS extends PS{constructor(e,t,a,o,l,f){super(e,t,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new K4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(MS("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class K4 extends VS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(i){i=Tu(i,Un);const e=Tu(i.firestore,Wg);return N4(RS(e),i._key).then(t=>W4(e,i,t))}class Q4 extends G4{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function Au(i,e,t){i=Tu(i,Un);const a=Tu(i.firestore,Wg),o=$4(i.converter,e,t);return X4(a,[z4(U4(a),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,nr.none())])}function X4(i,e){return function(a,o){const l=new ea;return a.asyncQueue.enqueueAndForget(async()=>g4(await C4(a),o,l)),l.promise}(RS(i),e)}function W4(i,e,t){const a=t.docs.get(e._key),o=new Q4(i);return new VS(i,o,e._key,a,new Y4(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Mo=o})(ko),yo(new es("firestore",(a,{instanceIdentifier:o,options:l})=>{const f=a.getProvider("app").getImmediate(),d=new Wg(new VN(a.getProvider("auth-internal")),new UN(f,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(g.options.projectId,v)}(f,o),f);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Zr(vE,_E,e),Zr(vE,_E,"esm2017")})();const wu=P4(),fs=async()=>{const i=xt.currentUser;return i?Su(wu,"users",i.uid):new Promise((e,t)=>{const a=xt.onAuthStateChanged(o=>{a(),o?e(Su(wu,"users",o.uid)):t(new Error("User not authenticated"))})})},Z4=async i=>{var a;const e=Su(wu,"displayNames",i.toLowerCase()),t=await Bu(e);if(t.exists()){const o=(a=xt.currentUser)==null?void 0:a.uid;return t.data().uid!==o}return!1},dT=async(i,e)=>{const t=xt.currentUser;if(!t)throw new Error("User not authenticated");if(await Z4(i))throw new Error("Display name already taken");const o=Su(wu,"users",t.uid),l=Su(wu,"displayNames",i.toLowerCase());await Au(o,{displayName:i,avatarURL:e},{merge:!0}),await Au(l,{uid:t.uid},{merge:!0})},LS=async(i,e="movies")=>{try{const t=await fs();await Au(t,{[e]:i},{merge:!0})}catch(t){console.error("❌ Error saving favorites:",t)}},jS=async(i="movies")=>{try{const e=await fs(),t=await Bu(e);return t.exists()?t.data()[i]||[]:[]}catch(e){return console.error("❌ Error loading favorites:",e),[]}},J4=async()=>{try{const i=await fs(),e=await Bu(i);return e.exists()?e.data().favoriteGenres||[]:[]}catch(i){return console.error("❌ Error loading genres:",i),[]}},mT=async i=>{try{const e=await fs();await Au(e,{favoriteGenres:i},{merge:!0})}catch(e){console.error("❌ Error saving genres:",e)}},US=async()=>{const i=await fs(),e=await Bu(i);return e.exists()?e.data():{}},zS=async(i,e="movies")=>{try{const t=await fs(),a=i.map(o=>Number(o));await Au(t,{[`watchlist_${e}`]:a},{merge:!0})}catch(t){console.error("❌ Error saving watchlist",t)}},Ro=async(i="movies")=>{try{const e=await fs(),t=await Bu(e);return t.exists()?(t.data()[`watchlist_${i}`]||[]).map(o=>Number(o)):[]}catch(e){return console.error("❌ Error loading watchlist",e),[]}},Ch=D.createContext(),ek=({children:i})=>{const[e,t]=D.useState(null),[a,o]=D.useState(!0);D.useEffect(()=>{const f=Xb(xt,async d=>{if(d){const p=await US();t({...d,photoURL:p.avatarURL||d.photoURL,displayName:p.displayName||d.displayName})}else t(null);o(!1)});return()=>f()},[]);const l=()=>{xt.signOut(),t(null)};return E.jsx(Ch.Provider,{value:{user:e,authLoading:a,logout:l},children:i})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function tk(i,e,t){return(e=ik(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function pT(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,a)}return t}function ae(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(t),!0).forEach(function(a){tk(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):pT(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function nk(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function ik(i){var e=nk(i,"string");return typeof e=="symbol"?e:e+""}const gT=()=>{};let ny={},BS={},FS=null,HS={mark:gT,measure:gT};try{typeof window<"u"&&(ny=window),typeof document<"u"&&(BS=document),typeof MutationObserver<"u"&&(FS=MutationObserver),typeof performance<"u"&&(HS=performance)}catch{}const{userAgent:yT=""}=ny.navigator||{},oa=ny,at=BS,vT=FS,bf=HS;oa.document;const mr=!!at.documentElement&&!!at.head&&typeof at.addEventListener=="function"&&typeof at.createElement=="function",qS=~yT.indexOf("MSIE")||~yT.indexOf("Trident/");var rk=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,ak=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,GS={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},sk={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},$S=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],nn="classic",xh="duotone",ok="sharp",lk="sharp-duotone",YS=[nn,xh,ok,lk],uk={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},ck={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},fk=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),hk={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},dk=["fak","fa-kit","fakd","fa-kit-duotone"],_T={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},mk=["kit"],pk={kit:{"fa-kit":"fak"}},gk=["fak","fakd"],yk={kit:{fak:"fa-kit"}},ET={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Sf={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},vk=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],_k=["fak","fa-kit","fakd","fa-kit-duotone"],Ek={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Tk={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},bk={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Up={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Sk=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],zp=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...vk,...Sk],Ak=["solid","regular","light","thin","duotone","brands"],KS=[1,2,3,4,5,6,7,8,9,10],wk=KS.concat([11,12,13,14,15,16,17,18,19,20]),Rk=[...Object.keys(bk),...Ak,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Sf.GROUP,Sf.SWAP_OPACITY,Sf.PRIMARY,Sf.SECONDARY].concat(KS.map(i=>"".concat(i,"x"))).concat(wk.map(i=>"w-".concat(i))),Ik={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const lr="___FONT_AWESOME___",Bp=16,QS="fa",XS="svg-inline--fa",as="data-fa-i2svg",Fp="data-fa-pseudo-element",Ck="data-fa-pseudo-element-pending",iy="data-prefix",ry="data-icon",TT="fontawesome-i2svg",xk="async",Nk=["HTML","HEAD","STYLE","SCRIPT"],WS=(()=>{try{return!0}catch{return!1}})();function Fu(i){return new Proxy(i,{get(e,t){return t in e?e[t]:e[nn]}})}const ZS=ae({},GS);ZS[nn]=ae(ae(ae(ae({},{"fa-duotone":"duotone"}),GS[nn]),_T.kit),_T["kit-duotone"]);const Ok=Fu(ZS),Hp=ae({},hk);Hp[nn]=ae(ae(ae(ae({},{duotone:"fad"}),Hp[nn]),ET.kit),ET["kit-duotone"]);const bT=Fu(Hp),qp=ae({},Up);qp[nn]=ae(ae({},qp[nn]),yk.kit);const ay=Fu(qp),Gp=ae({},Tk);Gp[nn]=ae(ae({},Gp[nn]),pk.kit);Fu(Gp);const Dk=rk,JS="fa-layers-text",kk=ak,Pk=ae({},uk);Fu(Pk);const Mk=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Jm=sk,Vk=[...mk,...Rk],cu=oa.FontAwesomeConfig||{};function Lk(i){var e=at.querySelector("script["+i+"]");if(e)return e.getAttribute(i)}function jk(i){return i===""?!0:i==="false"?!1:i==="true"?!0:i}at&&typeof at.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,a]=e;const o=jk(Lk(t));o!=null&&(cu[a]=o)});const eA={styleDefault:"solid",familyDefault:nn,cssPrefix:QS,replacementClass:XS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};cu.familyPrefix&&(cu.cssPrefix=cu.familyPrefix);const Io=ae(ae({},eA),cu);Io.autoReplaceSvg||(Io.observeMutations=!1);const me={};Object.keys(eA).forEach(i=>{Object.defineProperty(me,i,{enumerable:!0,set:function(e){Io[i]=e,fu.forEach(t=>t(me))},get:function(){return Io[i]}})});Object.defineProperty(me,"familyPrefix",{enumerable:!0,set:function(i){Io.cssPrefix=i,fu.forEach(e=>e(me))},get:function(){return Io.cssPrefix}});oa.FontAwesomeConfig=me;const fu=[];function Uk(i){return fu.push(i),()=>{fu.splice(fu.indexOf(i),1)}}const Gr=Bp,pi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function zk(i){if(!i||!mr)return;const e=at.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=i;const t=at.head.childNodes;let a=null;for(let o=t.length-1;o>-1;o--){const l=t[o],f=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(f)>-1&&(a=l)}return at.head.insertBefore(e,a),i}const Bk="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ru(){let i=12,e="";for(;i-- >0;)e+=Bk[Math.random()*62|0];return e}function Uo(i){const e=[];for(let t=(i||[]).length>>>0;t--;)e[t]=i[t];return e}function sy(i){return i.classList?Uo(i.classList):(i.getAttribute("class")||"").split(" ").filter(e=>e)}function tA(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Fk(i){return Object.keys(i||{}).reduce((e,t)=>e+"".concat(t,'="').concat(tA(i[t]),'" '),"").trim()}function Nh(i){return Object.keys(i||{}).reduce((e,t)=>e+"".concat(t,": ").concat(i[t].trim(),";"),"")}function oy(i){return i.size!==pi.size||i.x!==pi.x||i.y!==pi.y||i.rotate!==pi.rotate||i.flipX||i.flipY}function Hk(i){let{transform:e,containerWidth:t,iconWidth:a}=i;const o={transform:"translate(".concat(t/2," 256)")},l="translate(".concat(e.x*32,", ").concat(e.y*32,") "),f="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),d="rotate(".concat(e.rotate," 0 0)"),p={transform:"".concat(l," ").concat(f," ").concat(d)},g={transform:"translate(".concat(a/2*-1," -256)")};return{outer:o,inner:p,path:g}}function qk(i){let{transform:e,width:t=Bp,height:a=Bp,startCentered:o=!1}=i,l="";return o&&qS?l+="translate(".concat(e.x/Gr-t/2,"em, ").concat(e.y/Gr-a/2,"em) "):o?l+="translate(calc(-50% + ".concat(e.x/Gr,"em), calc(-50% + ").concat(e.y/Gr,"em)) "):l+="translate(".concat(e.x/Gr,"em, ").concat(e.y/Gr,"em) "),l+="scale(".concat(e.size/Gr*(e.flipX?-1:1),", ").concat(e.size/Gr*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var Gk=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function nA(){const i=QS,e=XS,t=me.cssPrefix,a=me.replacementClass;let o=Gk;if(t!==i||a!==e){const l=new RegExp("\\.".concat(i,"\\-"),"g"),f=new RegExp("\\--".concat(i,"\\-"),"g"),d=new RegExp("\\.".concat(e),"g");o=o.replace(l,".".concat(t,"-")).replace(f,"--".concat(t,"-")).replace(d,".".concat(a))}return o}let ST=!1;function ep(){me.autoAddCss&&!ST&&(zk(nA()),ST=!0)}var $k={mixout(){return{dom:{css:nA,insertCss:ep}}},hooks(){return{beforeDOMElementCreation(){ep()},beforeI2svg(){ep()}}}};const ur=oa||{};ur[lr]||(ur[lr]={});ur[lr].styles||(ur[lr].styles={});ur[lr].hooks||(ur[lr].hooks={});ur[lr].shims||(ur[lr].shims=[]);var gi=ur[lr];const iA=[],rA=function(){at.removeEventListener("DOMContentLoaded",rA),ah=1,iA.map(i=>i())};let ah=!1;mr&&(ah=(at.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(at.readyState),ah||at.addEventListener("DOMContentLoaded",rA));function Yk(i){mr&&(ah?setTimeout(i,0):iA.push(i))}function Hu(i){const{tag:e,attributes:t={},children:a=[]}=i;return typeof i=="string"?tA(i):"<".concat(e," ").concat(Fk(t),">").concat(a.map(Hu).join(""),"</").concat(e,">")}function AT(i,e,t){if(i&&i[e]&&i[e][t])return{prefix:e,iconName:t,icon:i[e][t]}}var tp=function(e,t,a,o){var l=Object.keys(e),f=l.length,d=t,p,g,v;for(a===void 0?(p=1,v=e[l[0]]):(p=0,v=a);p<f;p++)g=l[p],v=d(v,e[g],g,e);return v};function Kk(i){const e=[];let t=0;const a=i.length;for(;t<a;){const o=i.charCodeAt(t++);if(o>=55296&&o<=56319&&t<a){const l=i.charCodeAt(t++);(l&64512)==56320?e.push(((o&1023)<<10)+(l&1023)+65536):(e.push(o),t--)}else e.push(o)}return e}function $p(i){const e=Kk(i);return e.length===1?e[0].toString(16):null}function Qk(i,e){const t=i.length;let a=i.charCodeAt(e),o;return a>=55296&&a<=56319&&t>e+1&&(o=i.charCodeAt(e+1),o>=56320&&o<=57343)?(a-55296)*1024+o-56320+65536:a}function wT(i){return Object.keys(i).reduce((e,t)=>{const a=i[t];return!!a.icon?e[a.iconName]=a.icon:e[t]=a,e},{})}function Yp(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:a=!1}=t,o=wT(e);typeof gi.hooks.addPack=="function"&&!a?gi.hooks.addPack(i,wT(e)):gi.styles[i]=ae(ae({},gi.styles[i]||{}),o),i==="fas"&&Yp("fa",e)}const{styles:Iu,shims:Xk}=gi,aA=Object.keys(ay),Wk=aA.reduce((i,e)=>(i[e]=Object.keys(ay[e]),i),{});let ly=null,sA={},oA={},lA={},uA={},cA={};function Zk(i){return~Vk.indexOf(i)}function Jk(i,e){const t=e.split("-"),a=t[0],o=t.slice(1).join("-");return a===i&&o!==""&&!Zk(o)?o:null}const fA=()=>{const i=a=>tp(Iu,(o,l,f)=>(o[f]=tp(l,a,{}),o),{});sA=i((a,o,l)=>(o[3]&&(a[o[3]]=l),o[2]&&o[2].filter(d=>typeof d=="number").forEach(d=>{a[d.toString(16)]=l}),a)),oA=i((a,o,l)=>(a[l]=l,o[2]&&o[2].filter(d=>typeof d=="string").forEach(d=>{a[d]=l}),a)),cA=i((a,o,l)=>{const f=o[2];return a[l]=l,f.forEach(d=>{a[d]=l}),a});const e="far"in Iu||me.autoFetchSvg,t=tp(Xk,(a,o)=>{const l=o[0];let f=o[1];const d=o[2];return f==="far"&&!e&&(f="fas"),typeof l=="string"&&(a.names[l]={prefix:f,iconName:d}),typeof l=="number"&&(a.unicodes[l.toString(16)]={prefix:f,iconName:d}),a},{names:{},unicodes:{}});lA=t.names,uA=t.unicodes,ly=Oh(me.styleDefault,{family:me.familyDefault})};Uk(i=>{ly=Oh(i.styleDefault,{family:me.familyDefault})});fA();function uy(i,e){return(sA[i]||{})[e]}function eP(i,e){return(oA[i]||{})[e]}function Za(i,e){return(cA[i]||{})[e]}function hA(i){return lA[i]||{prefix:null,iconName:null}}function tP(i){const e=uA[i],t=uy("fas",i);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function la(){return ly}const dA=()=>({prefix:null,iconName:null,rest:[]});function nP(i){let e=nn;const t=aA.reduce((a,o)=>(a[o]="".concat(me.cssPrefix,"-").concat(o),a),{});return YS.forEach(a=>{(i.includes(t[a])||i.some(o=>Wk[a].includes(o)))&&(e=a)}),e}function Oh(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=nn}=e,a=Ok[t][i];if(t===xh&&!i)return"fad";const o=bT[t][i]||bT[t][a],l=i in gi.styles?i:null;return o||l||null}function iP(i){let e=[],t=null;return i.forEach(a=>{const o=Jk(me.cssPrefix,a);o?t=o:a&&e.push(a)}),{iconName:t,rest:e}}function RT(i){return i.sort().filter((e,t,a)=>a.indexOf(e)===t)}function Dh(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let a=null;const o=zp.concat(_k),l=RT(i.filter(b=>o.includes(b))),f=RT(i.filter(b=>!zp.includes(b))),d=l.filter(b=>(a=b,!$S.includes(b))),[p=null]=d,g=nP(l),v=ae(ae({},iP(f)),{},{prefix:Oh(p,{family:g})});return ae(ae(ae({},v),oP({values:i,family:g,styles:Iu,config:me,canonical:v,givenPrefix:a})),rP(t,a,v))}function rP(i,e,t){let{prefix:a,iconName:o}=t;if(i||!a||!o)return{prefix:a,iconName:o};const l=e==="fa"?hA(o):{},f=Za(a,o);return o=l.iconName||f||o,a=l.prefix||a,a==="far"&&!Iu.far&&Iu.fas&&!me.autoFetchSvg&&(a="fas"),{prefix:a,iconName:o}}const aP=YS.filter(i=>i!==nn||i!==xh),sP=Object.keys(Up).filter(i=>i!==nn).map(i=>Object.keys(Up[i])).flat();function oP(i){const{values:e,family:t,canonical:a,givenPrefix:o="",styles:l={},config:f={}}=i,d=t===xh,p=e.includes("fa-duotone")||e.includes("fad"),g=f.familyDefault==="duotone",v=a.prefix==="fad"||a.prefix==="fa-duotone";if(!d&&(p||g||v)&&(a.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(a.prefix="fab"),!a.prefix&&aP.includes(t)&&(Object.keys(l).find(A=>sP.includes(A))||f.autoFetchSvg)){const A=fk.get(t).defaultShortPrefixId;a.prefix=A,a.iconName=Za(a.prefix,a.iconName)||a.iconName}return(a.prefix==="fa"||o==="fa")&&(a.prefix=la()||"fas"),a}class lP{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const o=t.reduce(this._pullDefinitions,{});Object.keys(o).forEach(l=>{this.definitions[l]=ae(ae({},this.definitions[l]||{}),o[l]),Yp(l,o[l]);const f=ay[nn][l];f&&Yp(f,o[l]),fA()})}reset(){this.definitions={}}_pullDefinitions(e,t){const a=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(a).map(o=>{const{prefix:l,iconName:f,icon:d}=a[o],p=d[2];e[l]||(e[l]={}),p.length>0&&p.forEach(g=>{typeof g=="string"&&(e[l][g]=d)}),e[l][f]=d}),e}}let IT=[],lo={};const go={},uP=Object.keys(go);function cP(i,e){let{mixoutsTo:t}=e;return IT=i,lo={},Object.keys(go).forEach(a=>{uP.indexOf(a)===-1&&delete go[a]}),IT.forEach(a=>{const o=a.mixout?a.mixout():{};if(Object.keys(o).forEach(l=>{typeof o[l]=="function"&&(t[l]=o[l]),typeof o[l]=="object"&&Object.keys(o[l]).forEach(f=>{t[l]||(t[l]={}),t[l][f]=o[l][f]})}),a.hooks){const l=a.hooks();Object.keys(l).forEach(f=>{lo[f]||(lo[f]=[]),lo[f].push(l[f])})}a.provides&&a.provides(go)}),t}function Kp(i,e){for(var t=arguments.length,a=new Array(t>2?t-2:0),o=2;o<t;o++)a[o-2]=arguments[o];return(lo[i]||[]).forEach(f=>{e=f.apply(null,[e,...a])}),e}function ss(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];(lo[i]||[]).forEach(l=>{l.apply(null,t)})}function ua(){const i=arguments[0],e=Array.prototype.slice.call(arguments,1);return go[i]?go[i].apply(null,e):void 0}function Qp(i){i.prefix==="fa"&&(i.prefix="fas");let{iconName:e}=i;const t=i.prefix||la();if(e)return e=Za(t,e)||e,AT(mA.definitions,t,e)||AT(gi.styles,t,e)}const mA=new lP,fP=()=>{me.autoReplaceSvg=!1,me.observeMutations=!1,ss("noAuto")},hP={i2svg:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return mr?(ss("beforeI2svg",i),ua("pseudoElements2svg",i),ua("i2svg",i)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=i;me.autoReplaceSvg===!1&&(me.autoReplaceSvg=!0),me.observeMutations=!0,Yk(()=>{mP({autoReplaceSvgRoot:e}),ss("watch",i)})}},dP={icon:i=>{if(i===null)return null;if(typeof i=="object"&&i.prefix&&i.iconName)return{prefix:i.prefix,iconName:Za(i.prefix,i.iconName)||i.iconName};if(Array.isArray(i)&&i.length===2){const e=i[1].indexOf("fa-")===0?i[1].slice(3):i[1],t=Oh(i[0]);return{prefix:t,iconName:Za(t,e)||e}}if(typeof i=="string"&&(i.indexOf("".concat(me.cssPrefix,"-"))>-1||i.match(Dk))){const e=Dh(i.split(" "),{skipLookups:!0});return{prefix:e.prefix||la(),iconName:Za(e.prefix,e.iconName)||e.iconName}}if(typeof i=="string"){const e=la();return{prefix:e,iconName:Za(e,i)||i}}}},An={noAuto:fP,config:me,dom:hP,parse:dP,library:mA,findIconDefinition:Qp,toHtml:Hu},mP=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=at}=i;(Object.keys(gi.styles).length>0||me.autoFetchSvg)&&mr&&me.autoReplaceSvg&&An.dom.i2svg({node:e})};function kh(i,e){return Object.defineProperty(i,"abstract",{get:e}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(t=>Hu(t))}}),Object.defineProperty(i,"node",{get:function(){if(!mr)return;const t=at.createElement("div");return t.innerHTML=i.html,t.children}}),i}function pP(i){let{children:e,main:t,mask:a,attributes:o,styles:l,transform:f}=i;if(oy(f)&&t.found&&!a.found){const{width:d,height:p}=t,g={x:d/p/2,y:.5};o.style=Nh(ae(ae({},l),{},{"transform-origin":"".concat(g.x+f.x/16,"em ").concat(g.y+f.y/16,"em")}))}return[{tag:"svg",attributes:o,children:e}]}function gP(i){let{prefix:e,iconName:t,children:a,attributes:o,symbol:l}=i;const f=l===!0?"".concat(e,"-").concat(me.cssPrefix,"-").concat(t):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ae(ae({},o),{},{id:f}),children:a}]}]}function cy(i){const{icons:{main:e,mask:t},prefix:a,iconName:o,transform:l,symbol:f,title:d,maskId:p,titleId:g,extra:v,watchable:b=!1}=i,{width:A,height:P}=t.found?t:e,x=gk.includes(a),H=[me.replacementClass,o?"".concat(me.cssPrefix,"-").concat(o):""].filter(oe=>v.classes.indexOf(oe)===-1).filter(oe=>oe!==""||!!oe).concat(v.classes).join(" ");let U={children:[],attributes:ae(ae({},v.attributes),{},{"data-prefix":a,"data-icon":o,class:H,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(A," ").concat(P)})};const Y=x&&!~v.classes.indexOf("fa-fw")?{width:"".concat(A/P*16*.0625,"em")}:{};b&&(U.attributes[as]=""),d&&(U.children.push({tag:"title",attributes:{id:U.attributes["aria-labelledby"]||"title-".concat(g||Ru())},children:[d]}),delete U.attributes.title);const O=ae(ae({},U),{},{prefix:a,iconName:o,main:e,mask:t,maskId:p,transform:l,symbol:f,styles:ae(ae({},Y),v.styles)}),{children:G,attributes:ne}=t.found&&e.found?ua("generateAbstractMask",O)||{children:[],attributes:{}}:ua("generateAbstractIcon",O)||{children:[],attributes:{}};return O.children=G,O.attributes=ne,f?gP(O):pP(O)}function CT(i){const{content:e,width:t,height:a,transform:o,title:l,extra:f,watchable:d=!1}=i,p=ae(ae(ae({},f.attributes),l?{title:l}:{}),{},{class:f.classes.join(" ")});d&&(p[as]="");const g=ae({},f.styles);oy(o)&&(g.transform=qk({transform:o,startCentered:!0,width:t,height:a}),g["-webkit-transform"]=g.transform);const v=Nh(g);v.length>0&&(p.style=v);const b=[];return b.push({tag:"span",attributes:p,children:[e]}),l&&b.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),b}function yP(i){const{content:e,title:t,extra:a}=i,o=ae(ae(ae({},a.attributes),t?{title:t}:{}),{},{class:a.classes.join(" ")}),l=Nh(a.styles);l.length>0&&(o.style=l);const f=[];return f.push({tag:"span",attributes:o,children:[e]}),t&&f.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),f}const{styles:np}=gi;function Xp(i){const e=i[0],t=i[1],[a]=i.slice(4);let o=null;return Array.isArray(a)?o={tag:"g",attributes:{class:"".concat(me.cssPrefix,"-").concat(Jm.GROUP)},children:[{tag:"path",attributes:{class:"".concat(me.cssPrefix,"-").concat(Jm.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(me.cssPrefix,"-").concat(Jm.PRIMARY),fill:"currentColor",d:a[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:a}},{found:!0,width:e,height:t,icon:o}}const vP={found:!1,width:512,height:512};function _P(i,e){!WS&&!me.showMissingIcons&&i&&console.error('Icon with name "'.concat(i,'" and prefix "').concat(e,'" is missing.'))}function Wp(i,e){let t=e;return e==="fa"&&me.styleDefault!==null&&(e=la()),new Promise((a,o)=>{if(t==="fa"){const l=hA(i)||{};i=l.iconName||i,e=l.prefix||e}if(i&&e&&np[e]&&np[e][i]){const l=np[e][i];return a(Xp(l))}_P(i,e),a(ae(ae({},vP),{},{icon:me.showMissingIcons&&i?ua("missingIconAbstract")||{}:{}}))})}const xT=()=>{},Zp=me.measurePerformance&&bf&&bf.mark&&bf.measure?bf:{mark:xT,measure:xT},iu='FA "6.7.2"',EP=i=>(Zp.mark("".concat(iu," ").concat(i," begins")),()=>pA(i)),pA=i=>{Zp.mark("".concat(iu," ").concat(i," ends")),Zp.measure("".concat(iu," ").concat(i),"".concat(iu," ").concat(i," begins"),"".concat(iu," ").concat(i," ends"))};var fy={begin:EP,end:pA};const Vf=()=>{};function NT(i){return typeof(i.getAttribute?i.getAttribute(as):null)=="string"}function TP(i){const e=i.getAttribute?i.getAttribute(iy):null,t=i.getAttribute?i.getAttribute(ry):null;return e&&t}function bP(i){return i&&i.classList&&i.classList.contains&&i.classList.contains(me.replacementClass)}function SP(){return me.autoReplaceSvg===!0?Lf.replace:Lf[me.autoReplaceSvg]||Lf.replace}function AP(i){return at.createElementNS("http://www.w3.org/2000/svg",i)}function wP(i){return at.createElement(i)}function gA(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=i.tag==="svg"?AP:wP}=e;if(typeof i=="string")return at.createTextNode(i);const a=t(i.tag);return Object.keys(i.attributes||[]).forEach(function(l){a.setAttribute(l,i.attributes[l])}),(i.children||[]).forEach(function(l){a.appendChild(gA(l,{ceFn:t}))}),a}function RP(i){let e=" ".concat(i.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Lf={replace:function(i){const e=i[0];if(e.parentNode)if(i[1].forEach(t=>{e.parentNode.insertBefore(gA(t),e)}),e.getAttribute(as)===null&&me.keepOriginalSource){let t=at.createComment(RP(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(i){const e=i[0],t=i[1];if(~sy(e).indexOf(me.replacementClass))return Lf.replace(i);const a=new RegExp("".concat(me.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const l=t[0].attributes.class.split(" ").reduce((f,d)=>(d===me.replacementClass||d.match(a)?f.toSvg.push(d):f.toNode.push(d),f),{toNode:[],toSvg:[]});t[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",l.toNode.join(" "))}const o=t.map(l=>Hu(l)).join(`
`);e.setAttribute(as,""),e.innerHTML=o}};function OT(i){i()}function yA(i,e){const t=typeof e=="function"?e:Vf;if(i.length===0)t();else{let a=OT;me.mutateApproach===xk&&(a=oa.requestAnimationFrame||OT),a(()=>{const o=SP(),l=fy.begin("mutate");i.map(o),l(),t()})}}let hy=!1;function vA(){hy=!0}function Jp(){hy=!1}let sh=null;function DT(i){if(!vT||!me.observeMutations)return;const{treeCallback:e=Vf,nodeCallback:t=Vf,pseudoElementsCallback:a=Vf,observeMutationsRoot:o=at}=i;sh=new vT(l=>{if(hy)return;const f=la();Uo(l).forEach(d=>{if(d.type==="childList"&&d.addedNodes.length>0&&!NT(d.addedNodes[0])&&(me.searchPseudoElements&&a(d.target),e(d.target)),d.type==="attributes"&&d.target.parentNode&&me.searchPseudoElements&&a(d.target.parentNode),d.type==="attributes"&&NT(d.target)&&~Mk.indexOf(d.attributeName))if(d.attributeName==="class"&&TP(d.target)){const{prefix:p,iconName:g}=Dh(sy(d.target));d.target.setAttribute(iy,p||f),g&&d.target.setAttribute(ry,g)}else bP(d.target)&&t(d.target)})}),mr&&sh.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function IP(){sh&&sh.disconnect()}function CP(i){const e=i.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((a,o)=>{const l=o.split(":"),f=l[0],d=l.slice(1);return f&&d.length>0&&(a[f]=d.join(":").trim()),a},{})),t}function xP(i){const e=i.getAttribute("data-prefix"),t=i.getAttribute("data-icon"),a=i.innerText!==void 0?i.innerText.trim():"";let o=Dh(sy(i));return o.prefix||(o.prefix=la()),e&&t&&(o.prefix=e,o.iconName=t),o.iconName&&o.prefix||(o.prefix&&a.length>0&&(o.iconName=eP(o.prefix,i.innerText)||uy(o.prefix,$p(i.innerText))),!o.iconName&&me.autoFetchSvg&&i.firstChild&&i.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=i.firstChild.data)),o}function NP(i){const e=Uo(i.attributes).reduce((o,l)=>(o.name!=="class"&&o.name!=="style"&&(o[l.name]=l.value),o),{}),t=i.getAttribute("title"),a=i.getAttribute("data-fa-title-id");return me.autoA11y&&(t?e["aria-labelledby"]="".concat(me.replacementClass,"-title-").concat(a||Ru()):(e["aria-hidden"]="true",e.focusable="false")),e}function OP(){return{iconName:null,title:null,titleId:null,prefix:null,transform:pi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function kT(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:a,rest:o}=xP(i),l=NP(i),f=Kp("parseNodeAttributes",{},i);let d=e.styleParser?CP(i):[];return ae({iconName:t,title:i.getAttribute("title"),titleId:i.getAttribute("data-fa-title-id"),prefix:a,transform:pi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:d,attributes:l}},f)}const{styles:DP}=gi;function _A(i){const e=me.autoReplaceSvg==="nest"?kT(i,{styleParser:!1}):kT(i);return~e.extra.classes.indexOf(JS)?ua("generateLayersText",i,e):ua("generateSvgReplacementMutation",i,e)}function kP(){return[...dk,...zp]}function PT(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!mr)return Promise.resolve();const t=at.documentElement.classList,a=v=>t.add("".concat(TT,"-").concat(v)),o=v=>t.remove("".concat(TT,"-").concat(v)),l=me.autoFetchSvg?kP():$S.concat(Object.keys(DP));l.includes("fa")||l.push("fa");const f=[".".concat(JS,":not([").concat(as,"])")].concat(l.map(v=>".".concat(v,":not([").concat(as,"])"))).join(", ");if(f.length===0)return Promise.resolve();let d=[];try{d=Uo(i.querySelectorAll(f))}catch{}if(d.length>0)a("pending"),o("complete");else return Promise.resolve();const p=fy.begin("onTree"),g=d.reduce((v,b)=>{try{const A=_A(b);A&&v.push(A)}catch(A){WS||A.name==="MissingIcon"&&console.error(A)}return v},[]);return new Promise((v,b)=>{Promise.all(g).then(A=>{yA(A,()=>{a("active"),a("complete"),o("pending"),typeof e=="function"&&e(),p(),v()})}).catch(A=>{p(),b(A)})})}function PP(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;_A(i).then(t=>{t&&yA([t],e)})}function MP(i){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=(e||{}).icon?e:Qp(e||{});let{mask:o}=t;return o&&(o=(o||{}).icon?o:Qp(o||{})),i(a,ae(ae({},t),{},{mask:o}))}}const VP=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=pi,symbol:a=!1,mask:o=null,maskId:l=null,title:f=null,titleId:d=null,classes:p=[],attributes:g={},styles:v={}}=e;if(!i)return;const{prefix:b,iconName:A,icon:P}=i;return kh(ae({type:"icon"},i),()=>(ss("beforeDOMElementCreation",{iconDefinition:i,params:e}),me.autoA11y&&(f?g["aria-labelledby"]="".concat(me.replacementClass,"-title-").concat(d||Ru()):(g["aria-hidden"]="true",g.focusable="false")),cy({icons:{main:Xp(P),mask:o?Xp(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:A,transform:ae(ae({},pi),t),symbol:a,title:f,maskId:l,titleId:d,extra:{attributes:g,styles:v,classes:p}})))};var LP={mixout(){return{icon:MP(VP)}},hooks(){return{mutationObserverCallbacks(i){return i.treeCallback=PT,i.nodeCallback=PP,i}}},provides(i){i.i2svg=function(e){const{node:t=at,callback:a=()=>{}}=e;return PT(t,a)},i.generateSvgReplacementMutation=function(e,t){const{iconName:a,title:o,titleId:l,prefix:f,transform:d,symbol:p,mask:g,maskId:v,extra:b}=t;return new Promise((A,P)=>{Promise.all([Wp(a,f),g.iconName?Wp(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(x=>{let[H,U]=x;A([e,cy({icons:{main:H,mask:U},prefix:f,iconName:a,transform:d,symbol:p,maskId:v,title:o,titleId:l,extra:b,watchable:!0})])}).catch(P)})},i.generateAbstractIcon=function(e){let{children:t,attributes:a,main:o,transform:l,styles:f}=e;const d=Nh(f);d.length>0&&(a.style=d);let p;return oy(l)&&(p=ua("generateAbstractTransformGrouping",{main:o,transform:l,containerWidth:o.width,iconWidth:o.width})),t.push(p||o.icon),{children:t,attributes:a}}}},jP={mixout(){return{layer(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return kh({type:"layer"},()=>{ss("beforeDOMElementCreation",{assembler:i,params:e});let a=[];return i(o=>{Array.isArray(o)?o.map(l=>{a=a.concat(l.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(me.cssPrefix,"-layers"),...t].join(" ")},children:a}]})}}}},UP={mixout(){return{counter(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:a=[],attributes:o={},styles:l={}}=e;return kh({type:"counter",content:i},()=>(ss("beforeDOMElementCreation",{content:i,params:e}),yP({content:i.toString(),title:t,extra:{attributes:o,styles:l,classes:["".concat(me.cssPrefix,"-layers-counter"),...a]}})))}}}},zP={mixout(){return{text(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=pi,title:a=null,classes:o=[],attributes:l={},styles:f={}}=e;return kh({type:"text",content:i},()=>(ss("beforeDOMElementCreation",{content:i,params:e}),CT({content:i,transform:ae(ae({},pi),t),title:a,extra:{attributes:l,styles:f,classes:["".concat(me.cssPrefix,"-layers-text"),...o]}})))}}},provides(i){i.generateLayersText=function(e,t){const{title:a,transform:o,extra:l}=t;let f=null,d=null;if(qS){const p=parseInt(getComputedStyle(e).fontSize,10),g=e.getBoundingClientRect();f=g.width/p,d=g.height/p}return me.autoA11y&&!a&&(l.attributes["aria-hidden"]="true"),Promise.resolve([e,CT({content:e.innerHTML,width:f,height:d,transform:o,title:a,extra:l,watchable:!0})])}}};const BP=new RegExp('"',"ug"),MT=[1105920,1112319],VT=ae(ae(ae(ae({},{FontAwesome:{normal:"fas",400:"fas"}}),ck),Ik),Ek),eg=Object.keys(VT).reduce((i,e)=>(i[e.toLowerCase()]=VT[e],i),{}),FP=Object.keys(eg).reduce((i,e)=>{const t=eg[e];return i[e]=t[900]||[...Object.entries(t)][0][1],i},{});function HP(i){const e=i.replace(BP,""),t=Qk(e,0),a=t>=MT[0]&&t<=MT[1],o=e.length===2?e[0]===e[1]:!1;return{value:$p(o?e[0]:e),isSecondary:a||o}}function qP(i,e){const t=i.replace(/^['"]|['"]$/g,"").toLowerCase(),a=parseInt(e),o=isNaN(a)?"normal":a;return(eg[t]||{})[o]||FP[t]}function LT(i,e){const t="".concat(Ck).concat(e.replace(":","-"));return new Promise((a,o)=>{if(i.getAttribute(t)!==null)return a();const f=Uo(i.children).filter(A=>A.getAttribute(Fp)===e)[0],d=oa.getComputedStyle(i,e),p=d.getPropertyValue("font-family"),g=p.match(kk),v=d.getPropertyValue("font-weight"),b=d.getPropertyValue("content");if(f&&!g)return i.removeChild(f),a();if(g&&b!=="none"&&b!==""){const A=d.getPropertyValue("content");let P=qP(p,v);const{value:x,isSecondary:H}=HP(A),U=g[0].startsWith("FontAwesome");let Y=uy(P,x),O=Y;if(U){const G=tP(x);G.iconName&&G.prefix&&(Y=G.iconName,P=G.prefix)}if(Y&&!H&&(!f||f.getAttribute(iy)!==P||f.getAttribute(ry)!==O)){i.setAttribute(t,O),f&&i.removeChild(f);const G=OP(),{extra:ne}=G;ne.attributes[Fp]=e,Wp(Y,P).then(oe=>{const de=cy(ae(ae({},G),{},{icons:{main:oe,mask:dA()},prefix:P,iconName:O,extra:ne,watchable:!0})),M=at.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?i.insertBefore(M,i.firstChild):i.appendChild(M),M.outerHTML=de.map(R=>Hu(R)).join(`
`),i.removeAttribute(t),a()}).catch(o)}else a()}else a()})}function GP(i){return Promise.all([LT(i,"::before"),LT(i,"::after")])}function $P(i){return i.parentNode!==document.head&&!~Nk.indexOf(i.tagName.toUpperCase())&&!i.getAttribute(Fp)&&(!i.parentNode||i.parentNode.tagName!=="svg")}function jT(i){if(mr)return new Promise((e,t)=>{const a=Uo(i.querySelectorAll("*")).filter($P).map(GP),o=fy.begin("searchPseudoElements");vA(),Promise.all(a).then(()=>{o(),Jp(),e()}).catch(()=>{o(),Jp(),t()})})}var YP={hooks(){return{mutationObserverCallbacks(i){return i.pseudoElementsCallback=jT,i}}},provides(i){i.pseudoElements2svg=function(e){const{node:t=at}=e;me.searchPseudoElements&&jT(t)}}};let UT=!1;var KP={mixout(){return{dom:{unwatch(){vA(),UT=!0}}}},hooks(){return{bootstrap(){DT(Kp("mutationObserverCallbacks",{}))},noAuto(){IP()},watch(i){const{observeMutationsRoot:e}=i;UT?Jp():DT(Kp("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const zT=i=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return i.toLowerCase().split(" ").reduce((t,a)=>{const o=a.toLowerCase().split("-"),l=o[0];let f=o.slice(1).join("-");if(l&&f==="h")return t.flipX=!0,t;if(l&&f==="v")return t.flipY=!0,t;if(f=parseFloat(f),isNaN(f))return t;switch(l){case"grow":t.size=t.size+f;break;case"shrink":t.size=t.size-f;break;case"left":t.x=t.x-f;break;case"right":t.x=t.x+f;break;case"up":t.y=t.y-f;break;case"down":t.y=t.y+f;break;case"rotate":t.rotate=t.rotate+f;break}return t},e)};var QP={mixout(){return{parse:{transform:i=>zT(i)}}},hooks(){return{parseNodeAttributes(i,e){const t=e.getAttribute("data-fa-transform");return t&&(i.transform=zT(t)),i}}},provides(i){i.generateAbstractTransformGrouping=function(e){let{main:t,transform:a,containerWidth:o,iconWidth:l}=e;const f={transform:"translate(".concat(o/2," 256)")},d="translate(".concat(a.x*32,", ").concat(a.y*32,") "),p="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),g="rotate(".concat(a.rotate," 0 0)"),v={transform:"".concat(d," ").concat(p," ").concat(g)},b={transform:"translate(".concat(l/2*-1," -256)")},A={outer:f,inner:v,path:b};return{tag:"g",attributes:ae({},A.outer),children:[{tag:"g",attributes:ae({},A.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:ae(ae({},t.icon.attributes),A.path)}]}]}}}};const ip={x:0,y:0,width:"100%",height:"100%"};function BT(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.attributes&&(i.attributes.fill||e)&&(i.attributes.fill="black"),i}function XP(i){return i.tag==="g"?i.children:[i]}var WP={hooks(){return{parseNodeAttributes(i,e){const t=e.getAttribute("data-fa-mask"),a=t?Dh(t.split(" ").map(o=>o.trim())):dA();return a.prefix||(a.prefix=la()),i.mask=a,i.maskId=e.getAttribute("data-fa-mask-id"),i}}},provides(i){i.generateAbstractMask=function(e){let{children:t,attributes:a,main:o,mask:l,maskId:f,transform:d}=e;const{width:p,icon:g}=o,{width:v,icon:b}=l,A=Hk({transform:d,containerWidth:v,iconWidth:p}),P={tag:"rect",attributes:ae(ae({},ip),{},{fill:"white"})},x=g.children?{children:g.children.map(BT)}:{},H={tag:"g",attributes:ae({},A.inner),children:[BT(ae({tag:g.tag,attributes:ae(ae({},g.attributes),A.path)},x))]},U={tag:"g",attributes:ae({},A.outer),children:[H]},Y="mask-".concat(f||Ru()),O="clip-".concat(f||Ru()),G={tag:"mask",attributes:ae(ae({},ip),{},{id:Y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[P,U]},ne={tag:"defs",children:[{tag:"clipPath",attributes:{id:O},children:XP(b)},G]};return t.push(ne,{tag:"rect",attributes:ae({fill:"currentColor","clip-path":"url(#".concat(O,")"),mask:"url(#".concat(Y,")")},ip)}),{children:t,attributes:a}}}},ZP={provides(i){let e=!1;oa.matchMedia&&(e=oa.matchMedia("(prefers-reduced-motion: reduce)").matches),i.missingIconAbstract=function(){const t=[],a={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:ae(ae({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=ae(ae({},o),{},{attributeName:"opacity"}),f={tag:"circle",attributes:ae(ae({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||f.children.push({tag:"animate",attributes:ae(ae({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ae(ae({},l),{},{values:"1;0;1;1;0;1;"})}),t.push(f),t.push({tag:"path",attributes:ae(ae({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ae(ae({},l),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:ae(ae({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ae(ae({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},JP={hooks(){return{parseNodeAttributes(i,e){const t=e.getAttribute("data-fa-symbol"),a=t===null?!1:t===""?!0:t;return i.symbol=a,i}}}},eM=[$k,LP,jP,UP,zP,YP,KP,QP,WP,ZP,JP];cP(eM,{mixoutsTo:An});An.noAuto;An.config;An.library;An.dom;const tg=An.parse;An.findIconDefinition;An.toHtml;const tM=An.icon;An.layer;An.text;An.counter;var rp={exports:{}},ap,FT;function nM(){if(FT)return ap;FT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ap=i,ap}var sp,HT;function iM(){if(HT)return sp;HT=1;var i=nM();function e(){}function t(){}return t.resetWarningCache=e,sp=function(){function a(f,d,p,g,v,b){if(b!==i){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}a.isRequired=a;function o(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},sp}var qT;function rM(){return qT||(qT=1,rp.exports=iM()()),rp.exports}var aM=rM();const je=XT(aM);function GT(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,a)}return t}function mi(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(t),!0).forEach(function(a){uo(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):GT(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function oh(i){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(i)}function uo(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function sM(i,e){if(i==null)return{};var t={},a=Object.keys(i),o,l;for(l=0;l<a.length;l++)o=a[l],!(e.indexOf(o)>=0)&&(t[o]=i[o]);return t}function oM(i,e){if(i==null)return{};var t=sM(i,e),a,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)a=l[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(t[a]=i[a])}return t}function ng(i){return lM(i)||uM(i)||cM(i)||fM()}function lM(i){if(Array.isArray(i))return ig(i)}function uM(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function cM(i,e){if(i){if(typeof i=="string")return ig(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ig(i,e)}}function ig(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=i[t];return a}function fM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hM(i){var e,t=i.beat,a=i.fade,o=i.beatFade,l=i.bounce,f=i.shake,d=i.flash,p=i.spin,g=i.spinPulse,v=i.spinReverse,b=i.pulse,A=i.fixedWidth,P=i.inverse,x=i.border,H=i.listItem,U=i.flip,Y=i.size,O=i.rotation,G=i.pull,ne=(e={"fa-beat":t,"fa-fade":a,"fa-beat-fade":o,"fa-bounce":l,"fa-shake":f,"fa-flash":d,"fa-spin":p,"fa-spin-reverse":v,"fa-spin-pulse":g,"fa-pulse":b,"fa-fw":A,"fa-inverse":P,"fa-border":x,"fa-li":H,"fa-flip":U===!0,"fa-flip-horizontal":U==="horizontal"||U==="both","fa-flip-vertical":U==="vertical"||U==="both"},uo(e,"fa-".concat(Y),typeof Y<"u"&&Y!==null),uo(e,"fa-rotate-".concat(O),typeof O<"u"&&O!==null&&O!==0),uo(e,"fa-pull-".concat(G),typeof G<"u"&&G!==null),uo(e,"fa-swap-opacity",i.swapOpacity),e);return Object.keys(ne).map(function(oe){return ne[oe]?oe:null}).filter(function(oe){return oe})}function dM(i){return i=i-0,i===i}function EA(i){return dM(i)?i:(i=i.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),i.substr(0,1).toLowerCase()+i.substr(1))}var mM=["style"];function pM(i){return i.charAt(0).toUpperCase()+i.slice(1)}function gM(i){return i.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var a=t.indexOf(":"),o=EA(t.slice(0,a)),l=t.slice(a+1).trim();return o.startsWith("webkit")?e[pM(o)]=l:e[o]=l,e},{})}function TA(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var a=(e.children||[]).map(function(p){return TA(i,p)}),o=Object.keys(e.attributes||{}).reduce(function(p,g){var v=e.attributes[g];switch(g){case"class":p.attrs.className=v,delete e.attributes.class;break;case"style":p.attrs.style=gM(v);break;default:g.indexOf("aria-")===0||g.indexOf("data-")===0?p.attrs[g.toLowerCase()]=v:p.attrs[EA(g)]=v}return p},{attrs:{}}),l=t.style,f=l===void 0?{}:l,d=oM(t,mM);return o.attrs.style=mi(mi({},o.attrs.style),f),i.apply(void 0,[e.tag,mi(mi({},o.attrs),d)].concat(ng(a)))}var bA=!1;try{bA=!0}catch{}function yM(){if(!bA&&console&&typeof console.error=="function"){var i;(i=console).error.apply(i,arguments)}}function $T(i){if(i&&oh(i)==="object"&&i.prefix&&i.iconName&&i.icon)return i;if(tg.icon)return tg.icon(i);if(i===null)return null;if(i&&oh(i)==="object"&&i.prefix&&i.iconName)return i;if(Array.isArray(i)&&i.length===2)return{prefix:i[0],iconName:i[1]};if(typeof i=="string")return{prefix:"fas",iconName:i}}function op(i,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?uo({},i,e):{}}var YT={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},lh=WT.forwardRef(function(i,e){var t=mi(mi({},YT),i),a=t.icon,o=t.mask,l=t.symbol,f=t.className,d=t.title,p=t.titleId,g=t.maskId,v=$T(a),b=op("classes",[].concat(ng(hM(t)),ng((f||"").split(" ")))),A=op("transform",typeof t.transform=="string"?tg.transform(t.transform):t.transform),P=op("mask",$T(o)),x=tM(v,mi(mi(mi(mi({},b),A),P),{},{symbol:l,title:d,titleId:p,maskId:g}));if(!x)return yM("Could not find icon",v),null;var H=x.abstract,U={ref:e};return Object.keys(t).forEach(function(Y){YT.hasOwnProperty(Y)||(U[Y]=t[Y])}),vM(H[0],U)});lh.displayName="FontAwesomeIcon";lh.propTypes={beat:je.bool,border:je.bool,beatFade:je.bool,bounce:je.bool,className:je.string,fade:je.bool,flash:je.bool,mask:je.oneOfType([je.object,je.array,je.string]),maskId:je.string,fixedWidth:je.bool,inverse:je.bool,flip:je.oneOf([!0,!1,"horizontal","vertical","both"]),icon:je.oneOfType([je.object,je.array,je.string]),listItem:je.bool,pull:je.oneOf(["right","left"]),pulse:je.bool,rotation:je.oneOf([0,90,180,270]),shake:je.bool,size:je.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:je.bool,spinPulse:je.bool,spinReverse:je.bool,symbol:je.oneOfType([je.bool,je.string]),title:je.string,titleId:je.string,transform:je.oneOfType([je.string,je.object]),swapOpacity:je.bool};var vM=TA.bind(null,WT.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const _M={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},EM={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},lp="55d4f543b9f3aa97797dda4acce64f2b";function TM(){const[i,e]=D.useState(!1),[t,a]=D.useState(""),[o,l]=D.useState([]),{user:f,logout:d}=D.useContext(Ch),[p,g]=D.useState(null),v=fr(),b=D.useRef(),A=D.useRef(),[P,x]=D.useState(!1);D.useEffect(()=>{f!=null&&f.photoURL?g(f.photoURL):f!=null&&f.displayName?g(`https://ui-avatars.com/api/?name=${encodeURIComponent(f.displayName)}`):g("https://ui-avatars.com/api/?name=User")},[f]),D.useEffect(()=>{const O=setTimeout(()=>{t.trim()?Promise.all([fetch(`https://api.themoviedb.org/3/search/movie?api_key=${lp}&query=${encodeURIComponent(t)}`),fetch(`https://api.themoviedb.org/3/search/tv?api_key=${lp}&query=${encodeURIComponent(t)}`),fetch(`https://api.themoviedb.org/3/search/person?api_key=${lp}&query=${encodeURIComponent(t)}`)]).then(async([G,ne,oe])=>{const de=await G.json(),M=await ne.json(),R=await oe.json(),I=[...de.results.map(k=>({...k,type:"movie"})),...M.results.map(k=>({...k,type:"tv"})),...R.results.map(k=>({...k,type:"person"}))];I.sort((k,L)=>L.popularity-k.popularity),l(I.slice(0,7))}).catch(G=>console.error(G)):l([])},300);return()=>clearTimeout(O)},[t]),D.useEffect(()=>{const O=G=>{b.current&&!b.current.contains(G.target)&&(l([]),e(!1)),A.current&&!A.current.contains(G.target)&&x(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const H=O=>{O.preventDefault(),t.trim()&&(v(`/search?query=${encodeURIComponent(t.trim())}`),e(!1),l([]),a(""))},U=(O,G)=>{G==="movie"?v(`/movie/${O}`):G==="tv"?v(`/tv/${O}`):G==="person"&&v(`/actor/${O}`),a(""),l([]),e(!1)},Y=()=>{d(),x(!1),v("/login")};return E.jsxs("nav",{className:"navbar glass",children:[E.jsx("div",{className:"navbar-left",children:E.jsx(Zt,{to:"/",className:"navbar-brand",children:"💥 TheMovieHub 🎥"})}),E.jsxs("div",{className:"navbar-center",children:[E.jsx(Zt,{to:"/",className:"nav-link",children:"Home"}),E.jsx(Zt,{to:"/movies/trending",className:"nav-link",children:"Trending Movies"}),E.jsx(Zt,{to:"/tv/trending",className:"nav-link",children:"Trending TV Shows"}),E.jsx(Zt,{to:"/about",className:"nav-link",children:"About"})]}),E.jsxs("div",{className:"navbar-right",ref:b,style:{position:"relative"},children:[i?E.jsxs("form",{onSubmit:H,className:`search-container-overlay ${i?"search-active":""}`,role:"search",children:[E.jsx("input",{type:"text",className:"search-input-expanded",placeholder:"Search movies, TV shows or actors...",value:t,onChange:O=>a(O.target.value),autoFocus:!0,"aria-label":"Search movies, TV shows or actors"}),E.jsx("button",{type:"button",className:"search-close",onClick:()=>{e(!1),a(""),l([])},"aria-label":"Close search",children:E.jsx(lh,{icon:EM})}),o.length>0&&E.jsx("ul",{className:"search-dropdown",role:"listbox",children:o.map(O=>E.jsxs("li",{className:"search-item",onClick:()=>U(O.id,O.type),role:"option",tabIndex:0,onKeyDown:G=>{G.key==="Enter"&&U(O.id,O.type)},children:[E.jsx("img",{src:O.type==="person"?O.profile_path?`https://image.tmdb.org/t/p/w92${O.profile_path}`:"https://via.placeholder.com/92x138?text=No+Image":O.poster_path?`https://image.tmdb.org/t/p/w92${O.poster_path}`:"https://via.placeholder.com/92x138?text=No+Image",alt:O.name||O.title,className:"search-item-img"}),E.jsxs("div",{className:"search-item-info",children:[E.jsx("span",{className:"search-item-title",children:O.title||O.name}),E.jsx("span",{className:"search-item-date",children:O.release_date||O.first_air_date||""})]})]},`${O.type}-${O.id}`))})]}):E.jsx("button",{className:"search-icon-btn",onClick:()=>e(!0),"aria-label":"Open search",children:E.jsx(lh,{icon:_M})}),f?E.jsxs("div",{className:"profile-dropdown-container",ref:A,children:[E.jsx("img",{src:p,alt:"Profile",className:"profile-icon",title:f.displayName||"Profile",onClick:()=>x(O=>!O),style:{cursor:"pointer"}}),P&&E.jsxs("ul",{className:"profile-dropdown-menu",children:[E.jsx("li",{children:E.jsx(Zt,{to:"/user?tab=overview",onClick:()=>x(!1),children:"User Profile"})}),E.jsx("li",{children:E.jsx(Zt,{to:"/favorites",onClick:()=>x(!1),children:"Favorites"})}),E.jsx("li",{children:E.jsx(Zt,{to:"/user?tab=watchlist",onClick:()=>x(!1),children:"Watchlist"})}),E.jsx("li",{children:E.jsx("button",{onClick:Y,className:"logout-btn-dropdown",type:"button",children:"Logout"})})]})]}):E.jsx(Zt,{to:"/login",className:"nav-link login-button",children:"Login"})]})]})}const SA=D.createContext(),dy=()=>D.useContext(SA),bM=({children:i})=>{const[e,t]=D.useState([]);D.useEffect(()=>xt.onAuthStateChanged(async d=>{if(d){const p=await jS("movies");t(p)}}),[]),D.useEffect(()=>{xt.currentUser&&LS(e,"movies")},[e]);const a=f=>{t(d=>d.some(p=>p.id===f.id)?d:[...d,f])},o=f=>{t(d=>d.filter(p=>p.id!==f))},l=f=>e.some(d=>d.id===f);return E.jsx(SA.Provider,{value:{favoriteMovies:e,addToFavorites:a,removeFromFavorites:o,isFavorite:l},children:i})},AA=D.createContext(),wA=()=>D.useContext(AA),SM=({children:i})=>{const[e,t]=D.useState([]);D.useEffect(()=>xt.onAuthStateChanged(async d=>{if(d){const p=await jS("tv");t(p)}}),[]),D.useEffect(()=>{xt.currentUser&&LS(e,"tv")},[e]);const a=f=>{t(d=>d.find(p=>p.id===f.id)?d:[...d,f])},o=f=>t(d=>d.filter(p=>p.id!==f)),l=f=>e.some(d=>d.id===f);return E.jsx(AA.Provider,{value:{favoriteTvShows:e,addToFavoriteTv:a,removeFromFavoriteTv:o,isTvFavorite:l},children:i})};function Co({movie:i}){const{addToFavorites:e,removeFromFavorites:t,isFavorite:a}=dy(),o=a(i.id),[l,f]=D.useState(!1);D.useEffect(()=>{let g=!0;return(async()=>{try{const b=await Ro("movies");g&&f(b.includes(Number(i.id)))}catch(b){console.error("❌ Error fetching movie watchlist:",b)}})(),()=>{g=!1}},[i.id]);const d=g=>{g.preventDefault(),g.stopPropagation(),o?t(i.id):e(i)},p=async g=>{g.preventDefault(),g.stopPropagation();try{const v=await Ro("movies");let b;v.includes(Number(i.id))?(b=v.filter(A=>A!==Number(i.id)),f(!1)):(b=[...v,Number(i.id)],f(!0)),await zS(b,"movies")}catch(v){console.error("❌ Error updating watchlist:",v)}};return E.jsx(Zt,{to:`/movie/${i.id}`,className:"movie-link",children:E.jsxs("div",{className:"movie-card",children:[E.jsx("div",{className:"movie-blur-bg"}),E.jsxs("div",{className:"movie-poster",children:[E.jsx("img",{src:i.poster_path?`https://image.tmdb.org/t/p/w500${i.poster_path}`:"https://via.placeholder.com/300x450?text=No+Image",alt:i.title}),E.jsxs("div",{className:"movie-overlay",children:[E.jsx("button",{className:`favorite-btn ${o?"active":""}`,onClick:d,"aria-label":o?"Remove from favorites":"Add to favorites",children:"♥"}),E.jsx("button",{className:`watchlist-btn ${l?"active":""}`,onClick:p,"aria-label":l?"Remove from watchlist":"Add to watchlist",children:"👁"})]})]}),E.jsxs("div",{className:"movie-info",children:[E.jsx("h3",{children:i.title}),E.jsxs("p",{children:[E.jsx("strong",{children:"Release:"})," ",i.release_date||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Rating:"})," ",i.vote_average||"N/A"]})]})]})})}function xo({tv:i}){const{addToFavoriteTv:e,removeFromFavoriteTv:t,isTvFavorite:a}=wA(),o=a(i.id),[l,f]=D.useState(!1);D.useEffect(()=>{let g=!0;return(async()=>{try{const b=await Ro("tv");g&&f(b.includes(Number(i.id)))}catch(b){console.error("❌ Error fetching TV watchlist:",b)}})(),()=>{g=!1}},[i.id]);const d=g=>{g.preventDefault(),g.stopPropagation(),o?t(i.id):e(i)},p=async g=>{g.preventDefault(),g.stopPropagation();try{const v=await Ro("tv");let b;v.includes(Number(i.id))?(b=v.filter(A=>A!==Number(i.id)),f(!1)):(b=[...v,Number(i.id)],f(!0)),await zS(b,"tv")}catch(v){console.error("❌ Error updating TV watchlist:",v)}};return E.jsx(Zt,{to:`/tv/${i.id}`,className:"movie-link",children:E.jsxs("div",{className:"movie-card",children:[E.jsx("div",{className:"movie-blur-bg"}),E.jsxs("div",{className:"movie-poster",children:[E.jsx("img",{src:i.poster_path?`https://image.tmdb.org/t/p/w500${i.poster_path}`:"https://via.placeholder.com/300x450?text=No+Image",alt:i.name}),E.jsxs("div",{className:"movie-overlay",children:[E.jsx("button",{className:`favorite-btn ${o?"active":""}`,onClick:d,title:o?"Remove from Favorites":"Add to Favorites",children:"♥"}),E.jsx("button",{className:`watchlist-btn ${l?"active":""}`,onClick:p,title:l?"Remove from Watchlist":"Add to Watchlist",children:"👁"})]})]}),E.jsxs("div",{className:"movie-info",children:[E.jsx("h3",{children:i.name}),E.jsxs("p",{children:[E.jsx("strong",{children:"First Air:"})," ",i.first_air_date||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Rating:"})," ",i.vote_average||"N/A"]})]})]})})}const AM="55d4f543b9f3aa97797dda4acce64f2b";function my({type:i="movie",featuredItems:e=null}){const[t,a]=D.useState([]),[o,l]=D.useState(0),f=D.useRef(null),d=fr();D.useEffect(()=>{(async()=>{try{if(e&&e.length>0)a(e.slice(0,5));else{const x=`https://api.themoviedb.org/3/${i}/popular?api_key=${AM}`,Y=((await(await fetch(x)).json()).results||[]).map(O=>({...O,media_type:i}));a(Y.slice(0,5))}}catch(x){console.error("Error fetching featured content:",x)}})()},[i,e]),D.useEffect(()=>{if(t.length!==0)return p(),()=>clearInterval(f.current)},[t]);const p=()=>{clearInterval(f.current),f.current=setInterval(()=>{l(P=>(P+1)%t.length)},3e3)},g=P=>{clearInterval(f.current),l(P),p()},v=t[o];if(!v)return null;const b=v.title||v.name||"Untitled",A=v.media_type||i;return E.jsx("div",{className:"hero-banner fade-slide",style:{backgroundImage:v.backdrop_path?`url(https://image.tmdb.org/t/p/original${v.backdrop_path})`:"url(/fallback.jpg)"},role:"banner",children:E.jsxs("div",{className:"hero-content",children:[E.jsx("h1",{className:"hero-title",children:b}),E.jsx("p",{className:"hero-overview",children:v.overview?v.overview.length>180?v.overview.slice(0,180)+"...":v.overview:"No description available."}),E.jsx("div",{className:"hero-buttons",children:E.jsx("button",{className:"hero-btn",onClick:()=>d(`/${A}/${v.id}`),children:"More Info"})}),E.jsx("div",{className:"hero-dots",role:"tablist",children:t.map((P,x)=>E.jsx("span",{className:`dot ${x===o?"active":""}`,onClick:()=>g(x),role:"tab","aria-selected":x===o,"aria-label":`Slide ${x+1}`},x))})]})})}const KT="55d4f543b9f3aa97797dda4acce64f2b";function wM(){const[i,e]=D.useState([]),[t,a]=D.useState([]),[o,l]=D.useState([]),[f,d]=D.useState(!0),[p,g]=D.useState(null);return D.useEffect(()=>{(async()=>{try{const[b,A]=await Promise.all([fetch(`https://api.themoviedb.org/3/movie/now_playing?api_key=${KT}`),fetch(`https://api.themoviedb.org/3/tv/on_the_air?api_key=${KT}`)]),P=await b.json(),x=await A.json(),H=(P.results||[]).map(G=>({...G,media_type:"movie"})),U=(x.results||[]).map(G=>({...G,media_type:"tv"}));e(H),a(U);const O=[...H,...U].sort(()=>.5-Math.random()).slice(0,5);l(O)}catch(b){console.error(b),g("Failed to load latest content.")}finally{d(!1)}})()},[]),f?E.jsx("div",{className:"home loading",children:"Loading latest content..."}):p?E.jsx("div",{className:"home error-message",children:p}):E.jsxs(E.Fragment,{children:[E.jsx(my,{featuredItems:o}),E.jsxs("div",{className:"home",children:[E.jsxs("section",{className:"latest-section",children:[E.jsx("h2",{className:"section-title",children:"🎬 Latest Movies"}),E.jsx("div",{className:"movies-grid",children:i.map(v=>E.jsx(Co,{movie:v},`movie-${v.id}`))})]}),E.jsxs("section",{className:"latest-section",children:[E.jsx("h2",{className:"section-title",children:"📺 Latest TV Shows"}),E.jsx("div",{className:"movies-grid",children:t.map(v=>E.jsx(xo,{tv:v},`tv-${v.id}`))})]})]}),E.jsxs("h2",{className:"welcome-message",children:[E.jsx("span",{role:"img","aria-label":"fire",children:"🔥"})," Welcome to ",E.jsx("strong",{children:"TheMovieHub"}),"! ",E.jsx("span",{role:"img","aria-label":"movie camera",children:"🎥"})]})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function RM(i,e,t,a){function o(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function d(v){try{g(a.next(v))}catch(b){f(b)}}function p(v){try{g(a.throw(v))}catch(b){f(b)}}function g(v){v.done?l(v.value):o(v.value).then(d,p)}g((a=a.apply(i,[])).next())})}function IM(i,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,o,l,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(g){return function(v){return p([g,v])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(i,t)}catch(v){g=[6,v],o=0}finally{a=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var co=function(){return co=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++){t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},co.apply(this,arguments)},RA=function(i){return{loading:i==null,value:i}},CM=function(){return function(i,e){switch(e.type){case"error":return co(co({},i),{error:e.error,loading:!1,value:void 0});case"reset":return RA(e.defaultValue);case"value":return co(co({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},xM=function(i){var e=i?i():void 0,t=D.useReducer(CM(),RA(e)),a=t[0],o=t[1],l=D.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),f=D.useCallback(function(p){o({type:"error",error:p})},[]),d=D.useCallback(function(p){o({type:"value",value:p})},[]);return D.useMemo(function(){return{error:a.error,loading:a.loading,reset:l,setError:f,setValue:d,value:a.value}},[a.error,a.loading,l,f,d,a.value])},NM=function(i,e){var t=xM(function(){return i.currentUser}),a=t.error,o=t.loading,l=t.setError,f=t.setValue,d=t.value;return D.useEffect(function(){var p=Xb(i,function(g){return RM(void 0,void 0,void 0,function(){var v;return IM(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return b.sent(),[3,4];case 3:return v=b.sent(),l(v),[3,4];case 4:return f(g),[2]}})})},l);return function(){p()}},[i]),[d,o,a]};function OM(){const[i]=NM(xt),{favoriteMovies:e}=dy(),{favoriteTvShows:t=[]}=wA(),[a,o]=D.useState("movies");if(!i)return E.jsxs("div",{className:"favorites-page",children:[E.jsx("h2",{children:"Login Required"}),E.jsx("p",{className:"auth-message",children:"Please login to view your favorites."})]});const l=()=>a==="movies"?(e==null?void 0:e.length)>0?E.jsx("div",{className:"favorites-list",children:e.map(f=>E.jsx(Co,{movie:f},f.id))}):E.jsxs("div",{className:"favorites-empty",children:[E.jsx("h2",{children:"No Favorite Movies"}),E.jsx("p",{children:"Click the ♥ icon on a movie to add it to your favorites."})]}):(t==null?void 0:t.length)>0?E.jsx("div",{className:"favorites-list",children:t.map(f=>E.jsx(xo,{tv:f},f.id))}):E.jsxs("div",{className:"favorites-empty",children:[E.jsx("h2",{children:"No Favorite TV Shows"}),E.jsx("p",{children:"Click the ♥ icon on a show to add it to your favorites."})]});return E.jsxs("div",{className:"favorites-page",children:[E.jsx("h2",{children:"❤️ My Favorites"}),E.jsxs("div",{className:"tab-buttons",children:[E.jsx("button",{className:a==="movies"?"active":"",onClick:()=>o("movies"),children:"Movies"}),E.jsx("button",{className:a==="tv"?"active":"",onClick:()=>o("tv"),children:"TV Shows"})]}),l()]})}function DM(){return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"about-page",children:[E.jsx("h1",{children:"About this page"}),E.jsx("p",{children:"This is a React application showcasing routing, favorites, and movie browsing."}),E.jsx("p",{children:"It includes a Home, Favorites, Movie Details, and About page — all styled with modern CSS."}),E.jsx("p",{children:"The site is responsive, dynamic, and built for movie lovers 💖"})]}),E.jsxs("div",{className:"about-page",children:[E.jsx("h2",{children:"Watch Movies Online"}),E.jsxs("p",{children:["Want to watch movies online for free? Visit our movie site: ",E.jsx("a",{href:"https://yts-official.mx/",target:"_blank",rel:"noopener noreferrer",children:"Click here to watch movies"}),E.jsx("p",{children:"Also click on the avatar for another working website"})]})]}),E.jsxs("div",{className:"about-avatar",children:[E.jsx("h2",{children:"Made by Aarohan"}),E.jsx("a",{href:"https://watch2movies.net/",target:"_blank",rel:"noopener noreferrer",children:E.jsx("img",{src:"https://wallpapercave.com/wp/wp7046960.jpg",alt:"Aarohan's Avatar"})})]})]})}const kM="55d4f543b9f3aa97797dda4acce64f2b",PM="https://api.themoviedb.org/3",MM=async i=>{const e=await fetch(`${PM}/movie/${i}?api_key=${kM}`);if(!e.ok)throw new Error("Movie fetch failed");return await e.json()};function VM(){var H,U,Y;const{id:i}=ch(),[e,t]=D.useState(null),[a,o]=D.useState(null),[l,f]=D.useState([]),[d,p]=D.useState([]),[g,v]=D.useState(!1),[b,A]=D.useState(null),[P,x]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const G=await MM(i);t(G);const de=(await(await fetch(`https://api.themoviedb.org/3/movie/${i}/videos?api_key=55d4f543b9f3aa97797dda4acce64f2b`)).json()).results.find(I=>I.type==="Trailer"&&I.site==="YouTube"&&I.official);de&&o(de.key);const R=await(await fetch(`https://api.themoviedb.org/3/movie/${i}/credits?api_key=55d4f543b9f3aa97797dda4acce64f2b`)).json();f(R.cast.slice(0,15)),p(R.crew.filter(I=>I.job==="Director")),A(null)}catch(G){console.error(G),A("Failed to load movie data. Check your internet.")}finally{x(!1)}})()},[i]),P?E.jsx("div",{className:"movie-detail-loading",children:"Loading movie details..."}):b?E.jsx("div",{className:"movie-detail-error",children:b}):e?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:`movie-detail-container ${g?"blur-background":""}`,style:{backgroundImage:`url(https://image.tmdb.org/t/p/original${e.backdrop_path})`},children:E.jsx("div",{className:"movie-detail-overlay",children:E.jsxs("div",{className:"movie-detail-wrapper",children:[E.jsxs("div",{className:"movie-detail-card",children:[E.jsx("img",{className:"movie-detail-poster",src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title}),E.jsxs("div",{className:"movie-detail-info glass",children:[E.jsx("h1",{children:e.title}),e.tagline&&E.jsx("p",{style:{fontStyle:"italic",color:"#ff4089"},children:e.tagline}),E.jsxs("p",{children:[E.jsx("strong",{children:"Release Date:"})," ",e.release_date]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Overview:"})," ",e.overview]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Rating:"})," 🌟 ",e.vote_average]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Language:"})," ",(H=e.original_language)==null?void 0:H.toUpperCase()]}),((U=e.genres)==null?void 0:U.length)>0&&E.jsxs("p",{children:[E.jsx("strong",{children:"Genres:"})," ",e.genres.map(O=>O.name).join(", ")]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Runtime:"})," ",e.runtime," minutes"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Budget:"})," $",e.budget.toLocaleString()]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Revenue:"})," $",e.revenue.toLocaleString()]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Status:"})," ",e.status]}),e.homepage&&E.jsxs("p",{children:[E.jsx("strong",{children:"Homepage:"})," ",E.jsx("a",{href:e.homepage,target:"_blank",rel:"noopener noreferrer",children:new URL(e.homepage).hostname.replace("www.","")})]}),E.jsxs("p",{children:[" ",E.jsx("strong",{children:"IMDB ID:"})," ",e.imdb_id]}),d.length>0&&E.jsxs("p",{children:[E.jsxs("strong",{children:["Director",d.length>10?"s":"",":"]})," ",d.map(O=>O.name).join(", ")]}),((Y=e.production_companies)==null?void 0:Y.length)>0&&E.jsxs("p",{children:[E.jsx("strong",{children:"Production:"})," ",e.production_companies.map(O=>O.name).join(", ")]}),a&&E.jsx("button",{className:"trailer-button",onClick:()=>v(!0),children:"▶ Watch Trailer"}),E.jsxs("p",{style:{fontSize:"0.9rem",marginTop:"1rem"},children:["Go to"," ",E.jsx("strong",{children:E.jsx("a",{href:"/about",target:"_blank",rel:"noopener noreferrer",children:"About"})})," ","page for more."]})]})]}),l.length>0&&E.jsxs("div",{className:"cast-section",children:[E.jsx("h2",{children:"Top Cast"}),E.jsx("div",{className:"cast-list",children:l.map(O=>E.jsxs(Zt,{to:`/actor/${O.id}`,className:"cast-card",children:[E.jsx("img",{src:O.profile_path?`https://image.tmdb.org/t/p/w185${O.profile_path}`:"https://via.placeholder.com/185x278?text=No+Image",alt:O.name}),E.jsx("p",{className:"cast-name",children:O.name}),E.jsxs("p",{className:"cast-character",children:["as ",O.character]})]},O.cast_id))})]})]})})}),g&&E.jsx("div",{className:"modal-overlay-blur",onClick:()=>v(!1),children:E.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[E.jsx("button",{className:"modal-close",onClick:()=>v(!1),children:"✖"}),E.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${a}?autoplay=1`,title:"Movie Trailer",frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0})]})})]}):null}function LM(){var b;const{id:i}=ch(),e=fr(),[t,a]=D.useState(null),[o,l]=D.useState([]),[f,d]=D.useState(null),[p,g]=D.useState(!0),v="55d4f543b9f3aa97797dda4acce64f2b";return D.useEffect(()=>{(async()=>{try{const[P,x]=await Promise.all([fetch(`https://api.themoviedb.org/3/person/${i}?api_key=${v}`),fetch(`https://api.themoviedb.org/3/person/${i}/movie_credits?api_key=${v}`)]),H=await P.json(),U=await x.json();a(H),l(U.cast.sort((Y,O)=>O.popularity-Y.popularity).slice(0,5)),d(null)}catch(P){console.error(P),d("Could not load actor data.")}finally{g(!1)}})()},[i]),p?E.jsx("div",{className:"loading",children:"Loading actor info..."}):f?E.jsx("div",{className:"error-message",children:f}):t?E.jsxs("div",{className:"actor-detail-container",children:[E.jsxs("div",{className:"actor-card",children:[E.jsx("img",{src:t.profile_path?`https://image.tmdb.org/t/p/w300${t.profile_path}`:"https://via.placeholder.com/300x450?text=No+Image",alt:t.name}),E.jsxs("div",{className:"actor-info",children:[E.jsx("h1",{children:t.name}),E.jsxs("p",{children:[E.jsx("strong",{children:"Born:"})," ",t.birthday||"Unknown"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Place:"})," ",t.place_of_birth||"Unknown"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Known For:"})," ",t.known_for_department||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Popularity:"})," ",(b=t.popularity)==null?void 0:b.toFixed(1)]}),t.biography&&t.biography.length>40&&E.jsxs("p",{children:[E.jsx("strong",{children:"Biography:"})," ",t.biography]})]})]}),o.length>0&&E.jsxs("div",{className:"known-for-section",children:[E.jsx("h2",{children:"Top Movies"}),E.jsx("div",{className:"known-for-list",children:o.map(A=>E.jsxs("div",{className:"known-for-card",title:A.title,onClick:()=>e(`/movie/${A.id}`),style:{cursor:"pointer"},children:[E.jsx("img",{src:A.poster_path?`https://image.tmdb.org/t/p/w185${A.poster_path}`:"https://via.placeholder.com/185x278?text=No+Image",alt:A.title}),E.jsx("p",{children:A.title})]},A.id))})]})]}):null}const Af="55d4f543b9f3aa97797dda4acce64f2b";function jM(){const[i,e]=D.useState([]),[t,a]=D.useState([]),[o,l]=D.useState([]),[f,d]=D.useState([]),[p,g]=D.useState("movie"),[v,b]=D.useState(!1),A=cr(),x=new URLSearchParams(A.search).get("query")||"",H=fr(),{isFavorite:U}=dy();D.useEffect(()=>{x&&(async()=>{var oe;try{const[de,M,R]=await Promise.all([fetch(`https://api.themoviedb.org/3/search/movie?api_key=${Af}&query=${x}`),fetch(`https://api.themoviedb.org/3/search/tv?api_key=${Af}&query=${x}`),fetch(`https://api.themoviedb.org/3/search/person?api_key=${Af}&query=${x}`)]),I=await de.json(),k=await M.json(),L=await R.json();if(e(I.results||[]),a(k.results||[]),l(L.results||[]),((oe=L.results)==null?void 0:oe.length)>0){const B=L.results[0];Y(B.id)}}catch(de){console.error("Search fetch error:",de)}})()},[x]);const Y=async ne=>{var oe;try{b(!0);const R=((oe=(await(await fetch(`https://api.themoviedb.org/3/person/${ne}/combined_credits?api_key=${Af}`)).json()).cast)==null?void 0:oe.sort((I,k)=>k.popularity-I.popularity))||[];d(R)}catch(de){console.error("Actor credits fetch error:",de)}finally{b(!1)}},O=f.filter(ne=>ne.media_type==="movie"),G=f.filter(ne=>ne.media_type==="tv");return E.jsxs("div",{className:"search-page",children:[E.jsxs("h2",{children:["Search Results for: ",E.jsxs("span",{className:"highlight",children:['"',x,'"']})]}),E.jsxs("div",{className:"tab-selector",children:[E.jsx("button",{onClick:()=>g("movie"),className:p==="movie"?"active":"",children:"🎬 Movies"}),E.jsx("button",{onClick:()=>g("tv"),className:p==="tv"?"active":"",children:"📺 TV Shows"}),E.jsx("button",{onClick:()=>g("actor"),className:p==="actor"?"active":"",children:"🧑 Actors"})]}),p==="movie"&&E.jsx("div",{className:"search-section",children:E.jsx("div",{className:"movies-grid",children:i.length>0?i.map(ne=>E.jsx("div",{className:"card-wrapper",children:E.jsx(Co,{movie:ne})},ne.id)):E.jsx("p",{className:"error-message",children:"No movies found."})})}),p==="tv"&&E.jsx("div",{className:"search-section",children:E.jsx("div",{className:"movies-grid",children:t.length>0?t.map(ne=>E.jsx("div",{className:"card-wrapper",children:E.jsx(xo,{tv:ne})},ne.id)):E.jsx("p",{className:"error-message",children:"No TV shows found."})})}),p==="actor"&&E.jsx("div",{className:"search-section",children:o.length>0?E.jsxs("div",{className:"actor-highlight",children:[E.jsxs("div",{className:"actor-card-simple",onClick:()=>H(`/actor/${o[0].id}`),children:[E.jsx("img",{src:o[0].profile_path?`https://image.tmdb.org/t/p/w185${o[0].profile_path}`:"https://via.placeholder.com/185x278?text=No+Image",alt:o[0].name}),E.jsxs("div",{children:[E.jsx("h3",{children:o[0].name}),E.jsxs("p",{children:["Known For: ",o[0].known_for_department]})]})]}),v?E.jsx("p",{className:"loading",children:"Loading credits..."}):E.jsxs(E.Fragment,{children:[O.length>0&&E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"credit-header",children:"🎬 Movies"}),E.jsx("div",{className:"movies-grid",children:O.map(ne=>E.jsx("div",{className:"card-wrapper",onClick:()=>H(`/movie/${ne.id}`),children:E.jsx(Co,{movie:ne})},`movie-${ne.id}`))})]}),G.length>0&&E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"credit-header",children:"📺 TV Shows"}),E.jsx("div",{className:"movies-grid",children:G.map(ne=>E.jsx("div",{className:"card-wrapper",onClick:()=>H(`/tv/${ne.id}`),children:E.jsx(xo,{tv:ne})},`tv-${ne.id}`))})]})]})]}):E.jsx("p",{className:"error-message",children:"No actor results found."})})]})}const UM=()=>{const[i,e]=D.useState(""),[t,a]=D.useState(""),[o,l]=D.useState(""),[f,d]=D.useState(""),p=fr(),g=async v=>{v.preventDefault();try{const b=await dx(xt,i,o);await Tp(b.user,{displayName:t}),p("/login")}catch(b){d(b.message)}};return E.jsxs("div",{className:"auth-form",children:[E.jsx("h2",{children:"Create Account"}),E.jsxs("form",{onSubmit:g,children:[E.jsx("input",{type:"text",placeholder:"Username",value:t,onChange:v=>a(v.target.value),required:!0}),E.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:v=>e(v.target.value),required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:v=>l(v.target.value),required:!0}),E.jsx("button",{type:"submit",children:"Sign Up"})]}),f&&E.jsx("p",{className:"error",children:f})]})},zM=()=>{const[i,e]=D.useState(""),[t,a]=D.useState(""),{user:o}=D.useContext(Ch),l=fr(),[f,d]=D.useState(""),p=async v=>{v.preventDefault();try{await mx(xt,i,t),l("/user")}catch(b){d("Login failed: "+b.message)}},g=async()=>{try{await jx(xt,kN),l("/user")}catch(v){d("Google login failed: "+v.message)}};return E.jsxs("div",{className:"auth-form",children:[E.jsx("h2",{children:"Login to MovieApp"}),E.jsxs("form",{onSubmit:p,children:[E.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:v=>e(v.target.value),required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:v=>a(v.target.value),required:!0}),E.jsx("button",{type:"submit",children:"Login"})]}),E.jsx("div",{style:{height:"10px"}}),E.jsxs("button",{onClick:g,className:"google-login-button",children:[E.jsx("img",{src:"https://i.pinimg.com/736x/b3/34/da/b334da9a6de1935453f9992e87d1f5b6.jpg",alt:"Google Logo",className:"google-icon"}),"Login with Google"]}),f&&E.jsx("p",{className:"error",children:f}),E.jsxs("p",{children:["Don't have an account? ",E.jsx(Zt,{to:"/signup",children:"Sign up"})]})]})},BM=["Action","Comedy","Drama","Fantasy","Horror","Romance","Sci-Fi","Thriller","Mystery","Animation"],FM=()=>{const{user:i,authLoading:e,logout:t}=D.useContext(Ch),a=fr(),o=cr(),[l,f]=D.useState("overview"),[d,p]=D.useState(""),[g,v]=D.useState(""),[b,A]=D.useState(null),[P,x]=D.useState(""),[H,U]=D.useState([]),[Y,O]=D.useState([]),[G,ne]=D.useState([]),[oe,de]=D.useState(!1);D.useEffect(()=>{const ve=new URLSearchParams(o.search).get("tab");(ve==="watchlist"||ve==="settings"||ve==="overview")&&f(ve)},[o.search]),D.useEffect(()=>{if(!e){if(!i)return a("/login");M()}},[e,i,a]);const M=async()=>{const ve=await US();p(ve.displayName||i.displayName||""),v(ve.avatarURL||i.photoURL||"");const be=await J4();U(be)};D.useEffect(()=>{l==="settings"&&setTimeout(()=>{var ve;(ve=document.getElementById("displayNameInput"))==null||ve.focus()},100),l==="watchlist"&&R()},[l]);const R=async()=>{de(!0);try{const ve=(await Ro("movies")).map(Number),be=(await Ro("tv")).map(Number),W=async(ke,V)=>{const ie=`https://api.themoviedb.org/3/${ke}/${V}?api_key=55d4f543b9f3aa97797dda4acce64f2b`;try{const se=await(await fetch(ie)).json();return se.status_code?null:se}catch(ce){return console.error(`❌ Error fetching ${ke} ID: ${V}`,ce),null}},[ue,pe]=await Promise.all([Promise.all(ve.map(ke=>W("movie",ke))),Promise.all(be.map(ke=>W("tv",ke)))]);O(ue.filter(Boolean)),ne(pe.filter(Boolean))}catch(ve){console.error("❌ Failed to fetch watchlist",ve)}finally{de(!1)}},I=ve=>{ve.target.files[0]&&A(ve.target.files[0])},k=ve=>{U(be=>be.includes(ve)?be.filter(W=>W!==ve):[...be,ve])},L=async()=>{if(i)try{let ve=g;if(b){const be=new FileReader;be.onloadend=async()=>{ve=be.result,await Tp(xt.currentUser,{displayName:d}),await dT(d,ve),await mT(H),await _p(xt.currentUser),v(ve),x("✅ Profile updated!"),A(null)},be.readAsDataURL(b)}else await Tp(xt.currentUser,{displayName:d}),await dT(d,ve),await mT(H),await _p(xt.currentUser),x("✅ Info updated!");setTimeout(()=>x(""),3e3)}catch(ve){console.error(ve),ve.message==="Display name already taken"?x("⚠️ That display name is already taken."):x("❌ Error updating profile.")}},B=async()=>{if(window.confirm("Are you sure you want to delete your account?"))try{await vx(xt.currentUser),t(),a("/signup")}catch(ve){console.error(ve),x("❌ Couldn't delete account.")}},N=()=>{var ve;if(!i)return null;switch(l){case"overview":return E.jsx("div",{className:"tab-content overview-section",children:E.jsxs("div",{className:"profile-card",children:[E.jsx("div",{className:"avatar-column",children:E.jsx("img",{src:g||`https://ui-avatars.com/api/?name=${d||"User"}`,alt:"User Avatar",className:"user-avatar profile-avatar"})}),E.jsxs("div",{className:"info-column",children:[E.jsx("h2",{className:"username",children:d||"Unnamed User"}),E.jsx("p",{className:"email",children:i.email}),E.jsxs("div",{className:"stats-row",children:[E.jsxs("div",{className:"stat-box",children:[E.jsx("h4",{children:"🎬 Watchlist"}),E.jsx("p",{children:"Check your saved titles"})]}),E.jsxs("div",{className:"stat-box",children:[E.jsx("h4",{children:"📅 Joined"}),E.jsx("p",{children:new Date((ve=i.metadata)==null?void 0:ve.creationTime).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})||"N/A"})]}),E.jsxs("div",{className:"stat-box",children:[E.jsx("h4",{children:"🎧 Genres"}),E.jsx("p",{children:H.length})]})]}),E.jsxs("div",{className:"genres-list",children:[E.jsx("h4",{children:"Favorite Genres:"}),H.length>0?E.jsx("div",{className:"genre-tags",children:H.map(be=>E.jsx("span",{className:"genre-pill",children:be},be))}):E.jsx("p",{className:"no-genres",children:"None selected"})]})]})]})});case"watchlist":return E.jsxs("div",{className:"tab-content",children:[E.jsx("h2",{children:"🎬 Watchlist"}),oe?E.jsx("p",{children:"Loading..."}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"watchlist-section",children:[E.jsx("h3",{children:"🎥 Movies"}),Y.length>0?E.jsx("div",{className:"card-grid",children:Y.map(be=>E.jsx(Co,{movie:be},be.id))}):E.jsx("p",{children:"No movies in watchlist."})]}),E.jsxs("div",{className:"watchlist-section",children:[E.jsx("h3",{children:"📺 TV Shows"}),G.length>0?E.jsx("div",{className:"card-grid",children:G.map(be=>E.jsx(xo,{tv:be},be.id))}):E.jsx("p",{children:"No TV shows in watchlist."})]})]})]});case"settings":return E.jsxs("div",{className:"tab-content",children:[E.jsx("h2",{children:"⚙️ Account Settings"}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{children:"Profile Info"}),E.jsxs("div",{className:"avatar-edit-container",children:[E.jsx("img",{src:b?URL.createObjectURL(b):g||`https://ui-avatars.com/api/?name=${d||"User"}`,alt:"avatar",className:"user-avatar editable-avatar",onClick:()=>document.getElementById("avatarInput").click(),title:"Click to change avatar"}),E.jsx("span",{className:"edit-avatar-icon",onClick:()=>document.getElementById("avatarInput").click(),children:"✏️"}),E.jsx("input",{type:"file",accept:"image/*",id:"avatarInput",style:{display:"none"},onChange:I})]}),E.jsx("input",{id:"displayNameInput",type:"text",className:"profile-input",value:d,onChange:be=>p(be.target.value),placeholder:"Display Name",maxLength:20})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{children:"Favorite Genres"}),E.jsx("p",{children:"Select genres you enjoy most:"}),E.jsx("div",{className:"genre-tags",children:BM.map(be=>E.jsx("button",{className:`genre-btn ${H.includes(be)?"selected":""}`,onClick:()=>k(be),children:be},be))})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("button",{className:"save-btn",onClick:L,children:"💾 Save Changes"}),E.jsx("button",{className:"delete-btn",onClick:M,children:"🔄 Reset"})]}),E.jsxs("div",{className:"settings-section danger-zone",children:[E.jsx("h3",{children:"Danger Zone"}),E.jsx("button",{className:"delete-btn",onClick:B,children:"❌ Delete Account"})]})]});default:return null}};return e?E.jsx("div",{className:"loading-screen",children:"Loading..."}):E.jsx("div",{className:"user-page",children:E.jsxs("div",{className:"user-card",children:[E.jsxs("div",{className:"tabs",children:[E.jsx("button",{className:l==="overview"?"active":"",onClick:()=>f("overview"),children:"👤 Overview"}),E.jsx("button",{className:l==="watchlist"?"active":"",onClick:()=>f("watchlist"),children:"🎬 Watchlist"}),E.jsx("button",{className:l==="settings"?"active":"",onClick:()=>f("settings"),children:"⚙️ Account Settings"})]}),N(),E.jsx("div",{className:"user-actions",children:E.jsx("button",{className:"logout-btn",onClick:()=>{t(),a("/login")},children:"🚪 Logout"})}),P&&E.jsx("p",{className:"status-msg",children:P})]})})},QT="55d4f543b9f3aa97797dda4acce64f2b",HM=()=>{var x,H,U,Y;const{id:i}=ch(),[e,t]=D.useState([]),[a,o]=D.useState(null),[l,f]=D.useState({}),[d,p]=D.useState(null);D.useEffect(()=>{(async()=>{const ne=await(await fetch(`https://api.themoviedb.org/3/tv/${i}?api_key=${QT}`)).json();t(ne.seasons||[])})()},[i]);const g=async O=>{if(a===O){o(null);return}if(!l[O]){const ne=await(await fetch(`https://api.themoviedb.org/3/tv/${i}/season/${O}?api_key=${QT}`)).json();f(oe=>({...oe,[O]:ne.episodes||[]}))}o(O)},v=O=>p(O),b=()=>p(null),A=()=>{const O=l[a],G=O.findIndex(ne=>ne.id===d.id);G<O.length-1&&p(O[G+1])},P=()=>{const O=l[a],G=O.findIndex(ne=>ne.id===d.id);G>0&&p(O[G-1])};return E.jsxs("div",{className:"episodes-container",children:[E.jsx("h1",{className:"episodes-title",children:"📺 TV Show Episodes"}),e.map(O=>E.jsxs("div",{className:`season-panel ${a===O.season_number?"":"collapsed"}`,children:[E.jsxs("div",{className:"season-header",onClick:()=>g(O.season_number),children:[E.jsxs("span",{children:[O.name," (",O.episode_count," episodes)"]}),E.jsx("span",{children:a===O.season_number?"▲":"▼"})]}),a===O.season_number&&l[O.season_number]&&E.jsx("div",{className:"episode-list",children:l[O.season_number].map(G=>{var ne;return E.jsxs("div",{className:"episode-card",onClick:()=>v(G),children:[E.jsx("img",{src:G.still_path?`https://image.tmdb.org/t/p/w500${G.still_path}`:"https://via.placeholder.com/500x281?text=No+Image",alt:G.name,className:"episode-poster"}),E.jsxs("div",{className:"episode-info",children:[E.jsxs("h4",{children:["Ep ",G.episode_number,": ",G.name]}),E.jsx("p",{children:G.air_date}),E.jsxs("p",{children:["⭐ ",((ne=G.vote_average)==null?void 0:ne.toFixed(1))||"N/A"," | 🕒 ",G.runtime||"?"," mins"]})]})]},G.id)})})]},O.id)),d&&E.jsx("div",{className:"modal-overlay-blur",onClick:b,children:E.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[E.jsx("button",{className:"modal-close",onClick:b,children:"✖"}),E.jsx("h2",{className:"modal-episode-title",children:d.name}),E.jsxs("div",{className:"modal-episode-details",children:[d.still_path&&E.jsx("img",{src:`https://image.tmdb.org/t/p/w780${d.still_path}`,alt:d.name,className:"modal-image"}),E.jsxs("div",{className:"modal-episode-meta",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Air Date:"})," ",d.air_date||"Unknown"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Episode:"})," S",d.season_number,"E",d.episode_number]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Runtime:"})," ",d.runtime||"N/A"," mins"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Rating:"})," ⭐ ",d.vote_average||"N/A"]}),d.vote_count>0&&E.jsxs("p",{children:[E.jsx("strong",{children:"Votes:"})," 👥 ",d.vote_count]}),((x=d.guest_stars)==null?void 0:x.length)>0&&E.jsxs("p",{children:[E.jsx("strong",{children:"Guest Stars:"})," ",d.guest_stars.map(O=>O.name).join(", ")]})]})]}),E.jsx("p",{className:"modal-overview",children:d.overview||"No overview available."}),E.jsxs("div",{className:"modal-nav-buttons",children:[E.jsx("button",{onClick:P,disabled:((H=l[a])==null?void 0:H.findIndex(O=>O.id===d.id))===0,children:"◀ Prev"}),E.jsx("button",{onClick:A,disabled:((U=l[a])==null?void 0:U.findIndex(O=>O.id===d.id))===((Y=l[a])==null?void 0:Y.length)-1,children:"Next ▶"})]})]})})]})},qM="55d4f543b9f3aa97797dda4acce64f2b";function GM(){const[i,e]=D.useState([]);return D.useEffect(()=>{fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=${qM}`).then(t=>t.json()).then(t=>e(t.results||[])).catch(t=>console.error(t))},[]),E.jsxs("div",{className:"search-page",children:[E.jsx(my,{type:"movie"}),E.jsx("h2",{children:"🔥 Trending Movies"}),E.jsx("div",{className:"movies-grid",children:i.map(t=>E.jsx("div",{className:"card-wrapper",children:E.jsx(Co,{movie:t})},t.id))})]})}const $M="55d4f543b9f3aa97797dda4acce64f2b";function YM(){const[i,e]=D.useState([]);return D.useEffect(()=>{fetch(`https://api.themoviedb.org/3/trending/tv/week?api_key=${$M}`).then(t=>t.json()).then(t=>e(t.results||[])).catch(t=>console.error(t))},[]),E.jsxs("div",{className:"search-page",children:[E.jsx(my,{type:"tv"}),E.jsx("h2",{children:"📺 Trending TV Shows"}),E.jsx("div",{className:"movies-grid",children:i.map(t=>E.jsx("div",{className:"card-wrapper",children:E.jsx(xo,{tv:t})},t.id))})]})}const up="55d4f543b9f3aa97797dda4acce64f2b";function KM(){var U,Y,O;const{id:i}=ch(),[e,t]=D.useState(null),[a,o]=D.useState(null),[l,f]=D.useState([]),[d,p]=D.useState([]),[g,v]=D.useState(!1),[b,A]=D.useState(null),[P,x]=D.useState(!0),H=fr();return D.useEffect(()=>{(async()=>{try{const oe=await(await fetch(`https://api.themoviedb.org/3/tv/${i}?api_key=${up}&language=en-US`)).json();t(oe);const R=(await(await fetch(`https://api.themoviedb.org/3/tv/${i}/videos?api_key=${up}`)).json()).results.find(L=>L.type==="Trailer"&&L.site==="YouTube"&&L.official===!0);R&&o(R.key);const k=await(await fetch(`https://api.themoviedb.org/3/tv/${i}/credits?api_key=${up}`)).json();f(k.cast.slice(0,20)),p(k.crew.filter(L=>L.job==="Director")),A(null)}catch(ne){console.error(ne),A("Failed to load TV show data.")}finally{x(!1)}})()},[i]),P?E.jsx("div",{className:"loading",children:"Loading TV show..."}):b?E.jsx("div",{className:"error-message",children:b}):e?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:`movie-detail-container ${g?"blur-background":""}`,children:E.jsxs("div",{className:"movie-detail-wrapper",children:[E.jsxs("div",{className:"movie-detail-card",children:[E.jsx("img",{className:"movie-detail-poster",src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.name}),E.jsxs("div",{className:"movie-detail-info",children:[E.jsx("h1",{children:e.name}),e.tagline&&E.jsx("p",{style:{fontStyle:"italic",color:"#ff4089"},children:e.tagline}),E.jsxs("p",{children:[E.jsx("strong",{children:"First Air Date:"})," ",e.first_air_date]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Overview:"})," ",e.overview]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Rating:"})," 🌟 ",e.vote_average]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Language:"})," ",(U=e.original_language)==null?void 0:U.toUpperCase()]}),((Y=e.genres)==null?void 0:Y.length)>0&&E.jsxs("p",{children:[E.jsx("strong",{children:"Genres:"})," ",e.genres.map(G=>G.name).join(", ")]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Status:"})," ",e.status]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Seasons:"})," ",e.number_of_seasons]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Episodes:"})," ",e.number_of_episodes]}),d.length>0&&E.jsxs("p",{children:[E.jsxs("strong",{children:["Director",d.length>1?"s":"",":"]})," ",d.map(G=>G.name).join(", ")]}),((O=e.production_companies)==null?void 0:O.length)>0&&E.jsxs("p",{children:[E.jsx("strong",{children:"Production:"})," ",e.production_companies.map(G=>G.name).join(", ")]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",marginTop:"1rem"},children:[a&&E.jsx("button",{className:"trailer-button",onClick:()=>v(!0),children:"▶ Watch Trailer"}),E.jsx("button",{className:"trailer-button",onClick:()=>H(`/tv/${i}/episodes`),style:{backgroundColor:"#5f27cd"},children:"📺 Episode Info"})]}),E.jsxs("p",{style:{fontSize:"0.9rem",marginTop:"1rem"},children:["Visit our ",E.jsx("strong",{children:E.jsx("a",{href:"/about",target:"_blank",rel:"noopener noreferrer",children:"About"})})," page for full shows."]})]})]}),l.length>0&&E.jsxs("div",{className:"cast-section",children:[E.jsx("h2",{children:"Top Cast"}),E.jsx("div",{className:"cast-list",children:l.map(G=>E.jsxs(Zt,{to:`/actor/${G.id}`,className:"cast-card",children:[E.jsx("img",{src:G.profile_path?`https://image.tmdb.org/t/p/w185${G.profile_path}`:"https://via.placeholder.com/185x278?text=No+Image",alt:G.name}),E.jsx("p",{className:"cast-name",children:G.name}),E.jsxs("p",{className:"cast-character",children:["as ",G.character]})]},G.credit_id))})]})]})}),g&&E.jsx("div",{className:"modal-overlay-blur",onClick:()=>v(!1),children:E.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),children:[E.jsx("button",{className:"modal-close",onClick:()=>v(!1),children:"✖"}),E.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${a}?autoplay=1`,title:"TV Show Trailer",frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0})]})})]}):null}function QM(){return E.jsx(bM,{children:E.jsxs(SM,{children:[" ",E.jsx(TM,{}),E.jsx("main",{className:"main-content",children:E.jsxs(WR,{children:[E.jsx(fn,{path:"/",element:E.jsx(wM,{})}),E.jsx(fn,{path:"/favorites",element:E.jsx(OM,{})}),E.jsx(fn,{path:"/about",element:E.jsx(DM,{})}),E.jsx(fn,{path:"/movie/:id",element:E.jsx(VM,{})}),E.jsx(fn,{path:"/actor/:id",element:E.jsx(LM,{})}),E.jsx(fn,{path:"/tv/:id",element:E.jsx(KM,{})}),E.jsx(fn,{path:"/movies/trending",element:E.jsx(GM,{})}),E.jsx(fn,{path:"/tv/trending",element:E.jsx(YM,{})}),E.jsx(fn,{path:"/tv/:id/episodes",element:E.jsx(HM,{})}),E.jsx(fn,{path:"/search",element:E.jsx(jM,{})}),E.jsx(fn,{path:"/signup",element:E.jsx(UM,{})}),E.jsx(fn,{path:"/login",element:E.jsx(zM,{})}),E.jsx(fn,{path:"/user",element:E.jsx(FM,{})})]})})]})})}const XM=D.createContext(),WM=({children:i})=>{const[e,t]=D.useState(()=>{const a=localStorage.getItem("theme");return a?a==="dark":!0});return D.useEffect(()=>{const a=document.documentElement;e?(a.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(a.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))},[e]),E.jsx(XM.Provider,{value:{darkMode:e,setDarkMode:t},children:i})};sR.createRoot(document.getElementById("root")).render(E.jsx(D.StrictMode,{children:E.jsx(TI,{children:E.jsx(ek,{children:E.jsx(WM,{children:E.jsx(QM,{})})})})}));
